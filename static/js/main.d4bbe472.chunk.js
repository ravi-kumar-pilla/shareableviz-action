/*! For license information please see main.d4bbe472.chunk.js.LICENSE.txt */
(this["webpackJsonp@quantumblack/kedro-viz"]=this["webpackJsonp@quantumblack/kedro-viz"]||[]).push([[0],{101:function(e,t,a){},174:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},230:function(e){e.exports=JSON.parse('{"nodes":[{"id":"b7bb7198","name":"preprocess_shuttles_node","tags":["preprocessing"],"pipelines":["dp","__default__"],"type":"task","modular_pipelines":["data_processing"],"parameters":{}},{"id":"f192326a","name":"data_processing.shuttles","tags":["preprocessing"],"pipelines":["dp","__default__"],"type":"data","modular_pipelines":["data_processing"],"layer":"raw","dataset_type":"pandas.excel_dataset.ExcelDataset"},{"id":"e5a9ec27","name":"data_processing.preprocessed_shuttles","tags":["features","preprocessing"],"pipelines":["dp","__default__"],"type":"data","modular_pipelines":["data_processing"],"layer":"intermediate","dataset_type":"pandas.csv_dataset.CSVDataset"},{"id":"c09084f2","name":"preprocess_companies_node","tags":["preprocessing"],"pipelines":["dp","__default__"],"type":"task","modular_pipelines":["data_processing"],"parameters":{}},{"id":"0abef172","name":"data_processing.companies","tags":["preprocessing"],"pipelines":["dp","__default__"],"type":"data","modular_pipelines":["data_processing"],"layer":"raw","dataset_type":"pandas.csv_dataset.CSVDataset"},{"id":"daf35ba0","name":"data_processing.preprocessed_companies","tags":["features","preprocessing"],"pipelines":["dp","__default__"],"type":"data","modular_pipelines":["data_processing"],"layer":"intermediate","dataset_type":"pandas.csv_dataset.CSVDataset"},{"id":"47b81aa6","name":"create_model_input_table_node","tags":["features"],"pipelines":["dp","__default__"],"type":"task","modular_pipelines":["data_processing"],"parameters":{}},{"id":"90ebe5f3","name":"data_processing.reviews","tags":["features"],"pipelines":["dp","__default__"],"type":"data","modular_pipelines":["data_processing"],"layer":"raw","dataset_type":"pandas.csv_dataset.CSVDataset"},{"id":"23c94afb","name":"model_input_table","tags":["features","split"],"pipelines":["dp","__default__","ds"],"type":"data","modular_pipelines":[],"layer":"primary","dataset_type":"pandas.csv_dataset.CSVDataset"},{"id":"65d0d789","name":"split_data_node","tags":["split"],"pipelines":["__default__","ds"],"type":"task","modular_pipelines":["data_science"],"parameters":{"test_size":0.2,"random_state":3,"features":["engines","passenger_capacity","crew","d_check_complete","moon_clearance_complete","iata_approved","company_rating","review_scores_rating"]}},{"id":"f1f1425b","name":"parameters","tags":["split"],"pipelines":["__default__","ds"],"type":"parameters","modular_pipelines":[],"layer":null,"dataset_type":null},{"id":"172a0602","name":"data_science.X_train","tags":["split","train"],"pipelines":["__default__","ds"],"type":"data","modular_pipelines":["data_science"],"layer":null,"dataset_type":null},{"id":"9c2a8a5e","name":"data_science.X_test","tags":["split"],"pipelines":["__default__","ds"],"type":"data","modular_pipelines":["data_science"],"layer":null,"dataset_type":null},{"id":"e5cee9e2","name":"data_science.y_train","tags":["split","train"],"pipelines":["__default__","ds"],"type":"data","modular_pipelines":["data_science"],"layer":null,"dataset_type":null},{"id":"ecc63a8c","name":"data_science.y_test","tags":["split"],"pipelines":["__default__","ds"],"type":"data","modular_pipelines":["data_science"],"layer":null,"dataset_type":null},{"id":"90f15f9d","name":"train_model_node","tags":["train"],"pipelines":["__default__","ds"],"type":"task","modular_pipelines":["data_science"],"parameters":{}},{"id":"04424659","name":"data_science.regressor","tags":["train"],"pipelines":["__default__","ds"],"type":"data","modular_pipelines":["data_science"],"layer":"models","dataset_type":"pickle.pickle_dataset.PickleDataset"},{"id":"f5e8d7df","name":"evaluate_model_node","tags":[],"pipelines":["__default__","ds"],"type":"task","modular_pipelines":["data_science"],"parameters":{}},{"id":"966b9734","name":"metrics","tags":[],"pipelines":["__default__","ds"],"type":"data","modular_pipelines":[],"layer":null,"dataset_type":"tracking.metrics_dataset.MetricsDataset"},{"id":"data_processing","name":"data_processing","tags":[],"pipelines":["dp","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"data_science","name":"data_science","tags":[],"pipelines":["__default__","ds"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null}],"edges":[{"source":"23c94afb","target":"data_science"},{"source":"daf35ba0","target":"47b81aa6"},{"source":"data_science","target":"966b9734"},{"source":"47b81aa6","target":"23c94afb"},{"source":"e5cee9e2","target":"90f15f9d"},{"source":"f192326a","target":"b7bb7198"},{"source":"65d0d789","target":"172a0602"},{"source":"f1f1425b","target":"65d0d789"},{"source":"90ebe5f3","target":"data_processing"},{"source":"f5e8d7df","target":"966b9734"},{"source":"e5a9ec27","target":"47b81aa6"},{"source":"65d0d789","target":"9c2a8a5e"},{"source":"data_processing","target":"23c94afb"},{"source":"f1f1425b","target":"data_science"},{"source":"f192326a","target":"data_processing"},{"source":"172a0602","target":"90f15f9d"},{"source":"9c2a8a5e","target":"f5e8d7df"},{"source":"ecc63a8c","target":"f5e8d7df"},{"source":"b7bb7198","target":"e5a9ec27"},{"source":"90f15f9d","target":"04424659"},{"source":"23c94afb","target":"65d0d789"},{"source":"04424659","target":"f5e8d7df"},{"source":"90ebe5f3","target":"47b81aa6"},{"source":"65d0d789","target":"e5cee9e2"},{"source":"0abef172","target":"data_processing"},{"source":"65d0d789","target":"ecc63a8c"},{"source":"0abef172","target":"c09084f2"},{"source":"c09084f2","target":"daf35ba0"}],"layers":["raw","intermediate","primary","models"],"tags":[{"id":"features","name":"features"},{"id":"preprocessing","name":"preprocessing"},{"id":"split","name":"split"},{"id":"train","name":"train"}],"pipelines":[{"id":"__default__","name":"__default__"},{"id":"dp","name":"dp"},{"id":"ds","name":"ds"}],"modular_pipelines":{"__root__":{"id":"__root__","name":"__root__","inputs":[],"outputs":[],"children":[{"id":"data_processing","type":"modularPipeline"},{"id":"23c94afb","type":"data"},{"id":"966b9734","type":"data"},{"id":"f1f1425b","type":"parameters"},{"id":"data_science","type":"modularPipeline"}]},"data_processing":{"id":"data_processing","name":"data_processing","inputs":["90ebe5f3","0abef172","f192326a"],"outputs":["23c94afb"],"children":[{"id":"e5a9ec27","type":"data"},{"id":"f192326a","type":"data"},{"id":"90ebe5f3","type":"data"},{"id":"daf35ba0","type":"data"},{"id":"47b81aa6","type":"task"},{"id":"0abef172","type":"data"},{"id":"c09084f2","type":"task"},{"id":"b7bb7198","type":"task"}]},"data_science":{"id":"data_science","name":"data_science","inputs":["f1f1425b","23c94afb"],"outputs":["966b9734"],"children":[{"id":"ecc63a8c","type":"data"},{"id":"172a0602","type":"data"},{"id":"04424659","type":"data"},{"id":"e5cee9e2","type":"data"},{"id":"9c2a8a5e","type":"data"},{"id":"f5e8d7df","type":"task"},{"id":"65d0d789","type":"task"},{"id":"90f15f9d","type":"task"}]}},"selected_pipeline":"__default__"}')},231:function(e){e.exports=JSON.parse('{"nodes":[{"id":"2596e632","name":"data_profiling_pandas","tags":["data-engineering","eda"],"pipelines":["pandas_profiling","__default__"],"type":"task","modular_pipelines":["factory","factory.pandas_profiling"],"parameters":{"pandas_profiling.factory":{"config_report":{"title":"Shuttle Factory","minimal":true},"profiling_dir":"data/base/use_cases/factory_demo/pandas_profiling/","data_name":"factory"}}},{"id":"0e9ed868","name":"params:pandas_profiling.factory","tags":["data-engineering","eda"],"pipelines":["pandas_profiling","__default__"],"type":"parameters","modular_pipelines":["pandas_profiling"],"layer":null,"dataset_type":null},{"id":"73930ef2","name":"factory_historic","tags":["pre-processing","data-science","eda","data-engineering"],"pipelines":["split","pandas_profiling","__default__"],"type":"data","modular_pipelines":[],"layer":"raw","dataset_type":"pandas.csv_dataset.CSVDataset"},{"id":"7a65da0d","name":"data_profiling_pandas","tags":["data-engineering","eda"],"pipelines":["pandas_profiling","__default__"],"type":"task","modular_pipelines":["in_out","in_out.pandas_profiling"],"parameters":{"pandas_profiling.in_out":{"config_report":{"title":"Shuttle Factory","minimal":true},"profiling_dir":"data/base/use_cases/factory_demo/pandas_profiling/","data_name":"in_out"}}},{"id":"b5b5b6b2","name":"params:pandas_profiling.in_out","tags":["data-engineering","eda"],"pipelines":["pandas_profiling","__default__"],"type":"parameters","modular_pipelines":["pandas_profiling"],"layer":null,"dataset_type":null},{"id":"3f69a9b8","name":"in_out_historic","tags":["pre-processing","data-science","eda","visualisation","reporting","data-engineering"],"pipelines":["split","pandas_profiling","__default__","eda"],"type":"data","modular_pipelines":[],"layer":"raw","dataset_type":"pandas.csv_dataset.CSVDataset"},{"id":"95cd6bf9","name":"correlation_plot","tags":["visualisation","reporting"],"pipelines":["__default__","eda"],"type":"task","modular_pipelines":[],"parameters":{"eda.in_out.correlation_plot":{"figsize":[16,9],"title":"Model Feature Correlations","mask":true,"method":"pearson"}}},{"id":"7f91c2cc","name":"params:eda.in_out.correlation_plot","tags":["visualisation","reporting"],"pipelines":["__default__","eda"],"type":"parameters","modular_pipelines":["eda","eda.in_out"],"layer":null,"dataset_type":null},{"id":"6d337a84","name":"correlation_plot","tags":["visualisation","notebooks","reporting"],"pipelines":["__default__","eda"],"type":"data","modular_pipelines":[],"layer":null,"dataset_type":"pickle.pickle_dataset.PickleDataset"},{"id":"845526ea","name":"density_plot","tags":["visualisation","reporting"],"pipelines":["__default__","eda"],"type":"task","modular_pipelines":[],"parameters":{"eda.in_out.density_plot":{"figsize":[16,9],"title":"In / Out Density","columns":["inp_quantity","outp_quantity"]}}},{"id":"3d29088c","name":"params:eda.in_out.density_plot","tags":["visualisation","reporting"],"pipelines":["__default__","eda"],"type":"parameters","modular_pipelines":["eda","eda.in_out"],"layer":null,"dataset_type":null},{"id":"05877538","name":"density_plot","tags":["visualisation","notebooks","reporting"],"pipelines":["__default__","eda"],"type":"data","modular_pipelines":[],"layer":null,"dataset_type":"pickle.pickle_dataset.PickleDataset"},{"id":"16cae681","name":"box_plot","tags":["visualisation","reporting"],"pipelines":["__default__","eda"],"type":"task","modular_pipelines":[],"parameters":{"eda.in_out.box_plot":{"figsize":[16,9],"title":"Output Quantity","subtitle":"Shown by Copper Content","x_label":"Copper Content","y_label":"Output Quantity","column":"outp_quantity","by":{"column":"cu_content","bins":5}}}},{"id":"3526f0b5","name":"params:eda.in_out.box_plot","tags":["visualisation","reporting"],"pipelines":["__default__","eda"],"type":"parameters","modular_pipelines":["eda","eda.in_out"],"layer":null,"dataset_type":null},{"id":"54e2783c","name":"box_plot","tags":["visualisation","notebooks","reporting"],"pipelines":["__default__","eda"],"type":"data","modular_pipelines":[],"layer":null,"dataset_type":"pickle.pickle_dataset.PickleDataset"},{"id":"ddc6c97b","name":"scatter_plot","tags":["visualisation","reporting"],"pipelines":["__default__","eda"],"type":"task","modular_pipelines":[],"parameters":{"eda.in_out.scatter_plot":{"figsize":[16,9],"title":"In / Out Quantity","x_col":"inp_quantity","y_col":"outp_quantity","color_col":"cu_content"}}},{"id":"bf1ae95c","name":"params:eda.in_out.scatter_plot","tags":["visualisation","reporting"],"pipelines":["__default__","eda"],"type":"parameters","modular_pipelines":["eda","eda.in_out"],"layer":null,"dataset_type":null},{"id":"ee95fd1e","name":"scatter_plot","tags":["visualisation","notebooks","reporting"],"pipelines":["__default__","eda"],"type":"data","modular_pipelines":[],"layer":null,"dataset_type":"pickle.pickle_dataset.PickleDataset"},{"id":"3464b488","name":"eda.generate_pdf","tags":["reporting"],"pipelines":["__default__","eda"],"type":"task","modular_pipelines":[],"parameters":{"eda.pdf":{"output_path":"data/base/use_cases/factory_demo/eda","report_name":"eda","timestamp":true,"title":"EDA Report","author":"Shuttle Factory","subject":"Shuttle Factory EDA Report"}}},{"id":"47800056","name":"params:eda.pdf","tags":["reporting"],"pipelines":["__default__","eda"],"type":"parameters","modular_pipelines":["eda"],"layer":null,"dataset_type":null},{"id":"a624849b","name":"eda.generate_notebook","tags":["notebooks","reporting"],"pipelines":["__default__","eda"],"type":"task","modular_pipelines":[],"parameters":{"eda.notebook":{"output_file":"data/base/use_cases/factory_demo/eda/eda.ipynb","title":"EDA Report","author":"Shuttle Factory","subject":"Shuttle Factory EDA Report"}}},{"id":"98b533a3","name":"params:eda.notebook","tags":["notebooks","reporting"],"pipelines":["__default__","eda"],"type":"parameters","modular_pipelines":["eda"],"layer":null,"dataset_type":null},{"id":"ff79c0d9","name":"split_data","tags":["data-science","pre-processing"],"pipelines":["split","__default__"],"type":"task","modular_pipelines":["factory","factory.split"],"parameters":{"split.factory":{"type":"frac","train_split_fract":0.9,"datetime_val":"2001-04-26T03:59:59","datetime_col":"time_col"}}},{"id":"ca959a2d","name":"params:split.factory","tags":["data-science","pre-processing"],"pipelines":["split","__default__"],"type":"parameters","modular_pipelines":["split"],"layer":null,"dataset_type":null},{"id":"12ee06f3","name":"factory_test","tags":["pre-processing","data-eng","data-science"],"pipelines":["clean","split","__default__"],"type":"data","modular_pipelines":[],"layer":"intermediate","dataset_type":"pandas.parquet_dataset.ParquetDataset"},{"id":"d28f4db6","name":"factory_train","tags":["pre-processing","data-eng","data-science"],"pipelines":["clean","split","__default__"],"type":"data","modular_pipelines":[],"layer":"intermediate","dataset_type":"pandas.parquet_dataset.ParquetDataset"},{"id":"31fb7cc8","name":"split_data","tags":["data-science","pre-processing"],"pipelines":["split","__default__"],"type":"task","modular_pipelines":["in_out","in_out.split"],"parameters":{"split.in_out":{"type":"frac","train_split_fract":0.9,"datetime_val":"2001-04-26T03:59:59","datetime_col":"status_time"}}},{"id":"778c88c9","name":"params:split.in_out","tags":["data-science","pre-processing"],"pipelines":["split","__default__"],"type":"parameters","modular_pipelines":["split"],"layer":null,"dataset_type":null},{"id":"62e203cf","name":"in_out_test","tags":["pre-processing","data-eng","data-science"],"pipelines":["clean","split","__default__"],"type":"data","modular_pipelines":[],"layer":"intermediate","dataset_type":"pandas.parquet_dataset.ParquetDataset"},{"id":"a771381b","name":"in_out_train","tags":["pre-processing","data-eng","data-science"],"pipelines":["clean","split","__default__"],"type":"data","modular_pipelines":[],"layer":"intermediate","dataset_type":"pandas.parquet_dataset.ParquetDataset"},{"id":"dec9c820","name":"remove_null_columns","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["in_out_test","in_out_test.clean"],"parameters":{}},{"id":"b83dff93","name":"in_out_test.clean.remove_null_columns","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["in_out_test","in_out_test.clean"],"layer":null,"dataset_type":null},{"id":"ec0ad2a0","name":"remove_null_columns","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["factory_train","factory_train.clean"],"parameters":{}},{"id":"861c59bf","name":"factory_train.clean.remove_null_columns","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["factory_train","factory_train.clean"],"layer":null,"dataset_type":null},{"id":"700b6aec","name":"remove_null_columns","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["in_out_train","in_out_train.clean"],"parameters":{}},{"id":"7a162ddc","name":"in_out_train.clean.remove_null_columns","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["in_out_train","in_out_train.clean"],"layer":null,"dataset_type":null},{"id":"f44bd53f","name":"remove_null_columns","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["factory_test","factory_test.clean"],"parameters":{}},{"id":"a99c5c0f","name":"factory_test.clean.remove_null_columns","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["factory_test","factory_test.clean"],"layer":null,"dataset_type":null},{"id":"516628d2","name":"unify_timestamp_col_name","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["factory_test","factory_test.clean"],"parameters":{"clean.factory":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"time_col"}}},{"id":"456488de","name":"params:clean.factory","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"parameters","modular_pipelines":["clean"],"layer":null,"dataset_type":null},{"id":"d9a62050","name":"factory_test.clean.unify_timestamp_col_name","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["factory_test","factory_test.clean"],"layer":null,"dataset_type":null},{"id":"a57429e5","name":"unify_timestamp_col_name","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["in_out_train","in_out_train.clean"],"parameters":{"clean.in_out":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"status_time"}}},{"id":"1f876261","name":"params:clean.in_out","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"parameters","modular_pipelines":["clean"],"layer":null,"dataset_type":null},{"id":"210adac8","name":"in_out_train.clean.unify_timestamp_col_name","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["in_out_train","in_out_train.clean"],"layer":null,"dataset_type":null},{"id":"c8f70ca9","name":"unify_timestamp_col_name","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["factory_train","factory_train.clean"],"parameters":{"clean.factory":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"time_col"}}},{"id":"073606b6","name":"factory_train.clean.unify_timestamp_col_name","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["factory_train","factory_train.clean"],"layer":null,"dataset_type":null},{"id":"b99ee270","name":"unify_timestamp_col_name","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["in_out_test","in_out_test.clean"],"parameters":{"clean.in_out":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"status_time"}}},{"id":"3f156da8","name":"in_out_test.clean.unify_timestamp_col_name","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["in_out_test","in_out_test.clean"],"layer":null,"dataset_type":null},{"id":"7397d2dc","name":"set_timezones","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["factory_train","factory_train.clean"],"parameters":{"clean.factory":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"time_col"}}},{"id":"3a8062a5","name":"factory_train.clean.set_timezones","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["factory_train","factory_train.clean"],"layer":null,"dataset_type":null},{"id":"988261ac","name":"set_timezones","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["in_out_train","in_out_train.clean"],"parameters":{"clean.in_out":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"status_time"}}},{"id":"c81ae4f9","name":"in_out_train.clean.set_timezones","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["in_out_train","in_out_train.clean"],"layer":null,"dataset_type":null},{"id":"666587bd","name":"set_timezones","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["in_out_test","in_out_test.clean"],"parameters":{"clean.in_out":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"status_time"}}},{"id":"bf34f92f","name":"in_out_test.clean.set_timezones","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["in_out_test","in_out_test.clean"],"layer":null,"dataset_type":null},{"id":"fa4ebf1b","name":"set_timezones","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["factory_test","factory_test.clean"],"parameters":{"clean.factory":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"time_col"}}},{"id":"514660c5","name":"factory_test.clean.set_timezones","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["factory_test","factory_test.clean"],"layer":null,"dataset_type":null},{"id":"502829ed","name":"round_timestamps","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["factory_train","factory_train.clean"],"parameters":{"clean.factory":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"time_col"}}},{"id":"d02bfec9","name":"factory_train.clean.round_timestamps","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["factory_train","factory_train.clean"],"layer":null,"dataset_type":null},{"id":"87d52565","name":"round_timestamps","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["in_out_test","in_out_test.clean"],"parameters":{"clean.in_out":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"status_time"}}},{"id":"4d95b087","name":"in_out_test.clean.round_timestamps","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["in_out_test","in_out_test.clean"],"layer":null,"dataset_type":null},{"id":"44bc2d21","name":"round_timestamps","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["in_out_train","in_out_train.clean"],"parameters":{"clean.in_out":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"status_time"}}},{"id":"f8d4e465","name":"in_out_train.clean.round_timestamps","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["in_out_train","in_out_train.clean"],"layer":null,"dataset_type":null},{"id":"24710762","name":"round_timestamps","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["factory_test","factory_test.clean"],"parameters":{"clean.factory":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"time_col"}}},{"id":"ef57a1fc","name":"factory_test.clean.round_timestamps","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["factory_test","factory_test.clean"],"layer":null,"dataset_type":null},{"id":"9c13d89f","name":"drop_duplicates","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["in_out_train","in_out_train.clean"],"parameters":{"clean.in_out":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"status_time"}}},{"id":"0a1be393","name":"in_out_train.clean.drop_duplicates","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["in_out_train","in_out_train.clean"],"layer":null,"dataset_type":null},{"id":"f7082f22","name":"drop_duplicates","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["factory_train","factory_train.clean"],"parameters":{"clean.factory":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"time_col"}}},{"id":"dec14f64","name":"factory_train.clean.drop_duplicates","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["factory_train","factory_train.clean"],"layer":null,"dataset_type":null},{"id":"ce9f17e7","name":"drop_duplicates","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["in_out_test","in_out_test.clean"],"parameters":{"clean.in_out":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"status_time"}}},{"id":"4bd93139","name":"in_out_test.clean.drop_duplicates","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["in_out_test","in_out_test.clean"],"layer":null,"dataset_type":null},{"id":"88c843ae","name":"drop_duplicates","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["factory_test","factory_test.clean"],"parameters":{"clean.factory":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"time_col"}}},{"id":"ee508f00","name":"factory_test.clean.drop_duplicates","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["factory_test","factory_test.clean"],"layer":null,"dataset_type":null},{"id":"b4716bd3","name":"enforce_schema","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["in_out_test","in_out_test.clean"],"parameters":{}},{"id":"53578014","name":"expert_input","tags":["imputation","predictions","data-eng","visualisation","optimisation","recommendations","data-science","training","reporting","sensitivity"],"pipelines":["clean","recommend","recommend_sensitivity","__default__","impute_fit","on_off_logic","create_features","train_model","recommend_uplift_report","impute_transform"],"type":"data","modular_pipelines":[],"layer":"raw","dataset_type":"shuttle_factory.utilities.io.tag_dict_datasets.CustomCSVDataset"},{"id":"c3f72bfd","name":"in_out_test.clean.enforce_schema","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["in_out_test","in_out_test.clean"],"layer":null,"dataset_type":null},{"id":"e3fadeda","name":"enforce_schema","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["factory_test","factory_test.clean"],"parameters":{}},{"id":"a229cbdc","name":"factory_test.clean.enforce_schema","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["factory_test","factory_test.clean"],"layer":null,"dataset_type":null},{"id":"8835772a","name":"enforce_schema","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["factory_train","factory_train.clean"],"parameters":{}},{"id":"61ffca7f","name":"factory_train.clean.enforce_schema","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["factory_train","factory_train.clean"],"layer":null,"dataset_type":null},{"id":"277dc1ee","name":"enforce_schema","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["in_out_train","in_out_train.clean"],"parameters":{}},{"id":"2996dd8e","name":"in_out_train.clean.enforce_schema","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"data","modular_pipelines":["in_out_train","in_out_train.clean"],"layer":null,"dataset_type":null},{"id":"7d7e1704","name":"remove_outlier","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["factory_test","factory_test.clean"],"parameters":{"clean.factory":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"time_col"}}},{"id":"cf7dcb8f","name":"factory_test_clean","tags":["imputation","data-eng"],"pipelines":["clean","impute_transform","__default__"],"type":"data","modular_pipelines":[],"layer":"primary","dataset_type":"pandas.parquet_dataset.ParquetDataset"},{"id":"893a3f7f","name":"remove_outlier","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["in_out_train","in_out_train.clean"],"parameters":{"clean.in_out":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"status_time"}}},{"id":"d2fb21a0","name":"in_out_train_clean","tags":["imputation","data-eng"],"pipelines":["clean","impute_fit","impute_transform","__default__"],"type":"data","modular_pipelines":[],"layer":"primary","dataset_type":"pandas.parquet_dataset.ParquetDataset"},{"id":"b10165f4","name":"remove_outlier","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["factory_train","factory_train.clean"],"parameters":{"clean.factory":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"time_col"}}},{"id":"6d5873ac","name":"factory_train_clean","tags":["imputation","data-eng"],"pipelines":["clean","impute_fit","impute_transform","__default__"],"type":"data","modular_pipelines":[],"layer":"primary","dataset_type":"pandas.parquet_dataset.ParquetDataset"},{"id":"93d3a479","name":"remove_outlier","tags":["data-eng"],"pipelines":["clean","__default__"],"type":"task","modular_pipelines":["in_out_test","in_out_test.clean"],"parameters":{"clean.in_out":{"outlier":"clip","pipeline_timezone":"UTC","timestamp":{"type":"timestamp","timezone":"Etc/UTC","format":"%Y-%m-%d %H:%M:%S"},"dedup":{"subset":["timestamp"]},"round_timestamps":{"frequency":"1min"},"datetime_col":"status_time"}}},{"id":"63186f26","name":"in_out_test_clean","tags":["imputation","data-eng"],"pipelines":["clean","impute_transform","__default__"],"type":"data","modular_pipelines":[],"layer":"primary","dataset_type":"pandas.parquet_dataset.ParquetDataset"},{"id":"7be9f72e","name":"fit_numeric_imputer","tags":["imputation","data-eng"],"pipelines":["impute_fit","__default__"],"type":"task","modular_pipelines":["factory","factory.impute"],"parameters":{"impute.factory":{"class":"sklearn.impute.SimpleImputer"}}},{"id":"f38b4714","name":"params:impute.factory","tags":["imputation","data-eng"],"pipelines":["impute_fit","__default__"],"type":"parameters","modular_pipelines":["impute"],"layer":null,"dataset_type":null},{"id":"1161a87b","name":"factory_imputer","tags":["imputation","data-eng"],"pipelines":["impute_fit","impute_transform","__default__"],"type":"data","modular_pipelines":[],"layer":"feature","dataset_type":"pickle.pickle_dataset.PickleDataset"},{"id":"11a72273","name":"fit_numeric_imputer","tags":["imputation","data-eng"],"pipelines":["impute_fit","__default__"],"type":"task","modular_pipelines":["in_out","in_out.impute"],"parameters":{"impute.in_out":{"class":"sklearn.impute.SimpleImputer"}}},{"id":"5d57686d","name":"params:impute.in_out","tags":["imputation","data-eng"],"pipelines":["impute_fit","__default__"],"type":"parameters","modular_pipelines":["impute"],"layer":null,"dataset_type":null},{"id":"5540a3fb","name":"in_out_imputer","tags":["imputation","data-eng"],"pipelines":["impute_fit","impute_transform","__default__"],"type":"data","modular_pipelines":[],"layer":"feature","dataset_type":"pickle.pickle_dataset.PickleDataset"},{"id":"22cfe9cd","name":"transform_numeric_imputer","tags":["imputation","data-eng"],"pipelines":["impute_transform","__default__"],"type":"task","modular_pipelines":["in_out_test","in_out_test.impute"],"parameters":{}},{"id":"7178598e","name":"in_out_test_imputed","tags":["imputation","data-eng"],"pipelines":["impute_transform","create_features","__default__"],"type":"data","modular_pipelines":[],"layer":"feature","dataset_type":"pandas.parquet_dataset.ParquetDataset"},{"id":"2978a7f5","name":"transform_numeric_imputer","tags":["imputation","data-eng"],"pipelines":["impute_transform","__default__"],"type":"task","modular_pipelines":["factory_test","factory_test.impute"],"parameters":{}},{"id":"eefd807e","name":"factory_test_imputed","tags":["recommendations","imputation","data-eng"],"pipelines":["on_off_logic","impute_transform","__default__"],"type":"data","modular_pipelines":[],"layer":"feature","dataset_type":"pandas.parquet_dataset.ParquetDataset"},{"id":"72ac6e43","name":"transform_numeric_imputer","tags":["imputation","data-eng"],"pipelines":["impute_transform","__default__"],"type":"task","modular_pipelines":["factory_train","factory_train.impute"],"parameters":{}},{"id":"d7ff3fc5","name":"factory_train_imputed","tags":["recommendations","imputation","data-eng"],"pipelines":["on_off_logic","impute_transform","__default__"],"type":"data","modular_pipelines":[],"layer":"feature","dataset_type":"pandas.parquet_dataset.ParquetDataset"},{"id":"1d7fffba","name":"transform_numeric_imputer","tags":["imputation","data-eng"],"pipelines":["impute_transform","__default__"],"type":"task","modular_pipelines":["in_out_train","in_out_train.impute"],"parameters":{}},{"id":"f4cccc1a","name":"in_out_train_imputed","tags":["imputation","data-eng"],"pipelines":["impute_transform","create_features","__default__"],"type":"data","modular_pipelines":[],"layer":"feature","dataset_type":"pandas.parquet_dataset.ParquetDataset"},{"id":"fe81cbe2","name":"generate_on_off_factory_b","tags":["recommendations"],"pipelines":["on_off_logic","__default__"],"type":"task","modular_pipelines":["factory_test","factory_test.on_off_logic"],"parameters":{"on_off_logic.factory.tags":{"tag_name":"factory_b_power","output_tag_name":"on_off_factory_b","power_threshold":20,"minutes_in_window":10,"depend_on_tag":"on_off_factory_a"}}},{"id":"0613286f","name":"params:on_off_logic.factory.tags","tags":["recommendations"],"pipelines":["on_off_logic","__default__"],"type":"parameters","modular_pipelines":["on_off_logic","on_off_logic.factory"],"layer":null,"dataset_type":null},{"id":"593a4f96","name":"factory_test_with_derived_on_off_tags","tags":["recommendations"],"pipelines":["on_off_logic","__default__"],"type":"data","modular_pipelines":[],"layer":"feature","dataset_type":"pandas.parquet_dataset.ParquetDataset"},{"id":"690d415b","name":"generate_on_off_factory_b","tags":["recommendations"],"pipelines":["on_off_logic","__default__"],"type":"task","modular_pipelines":["factory_train","factory_train.on_off_logic"],"parameters":{"on_off_logic.factory.tags":{"tag_name":"factory_b_power","output_tag_name":"on_off_factory_b","power_threshold":20,"minutes_in_window":10,"depend_on_tag":"on_off_factory_a"}}},{"id":"42d73649","name":"factory_train_with_derived_on_off_tags","tags":["recommendations"],"pipelines":["on_off_logic","__default__"],"type":"data","modular_pipelines":[],"layer":"feature","dataset_type":"pandas.parquet_dataset.ParquetDataset"},{"id":"eb1aa767","name":"set_off_equipment_to_zero","tags":["recommendations"],"pipelines":["on_off_logic","__default__"],"type":"task","modular_pipelines":["factory_test","factory_test.on_off_logic"],"parameters":{}},{"id":"2d3c0374","name":"factory_test_with_off_equipment_to_zero","tags":["recommendations","data-eng"],"pipelines":["on_off_logic","__default__","create_features"],"type":"data","modular_pipelines":[],"layer":"feature","dataset_type":"pandas.parquet_dataset.ParquetDataset"},{"id":"4b7d240f","name":"set_off_equipment_to_zero","tags":["recommendations"],"pipelines":["on_off_logic","__default__"],"type":"task","modular_pipelines":["factory_train","factory_train.on_off_logic"],"parameters":{}},{"id":"6ffb551a","name":"factory_train_with_off_equipment_to_zero","tags":["recommendations","data-eng"],"pipelines":["on_off_logic","__default__","create_features"],"type":"data","modular_pipelines":[],"layer":"feature","dataset_type":"pandas.parquet_dataset.ParquetDataset"},{"id":"a8bef9b5","name":"create_time_grid","tags":["data-eng"],"pipelines":["__default__","create_features"],"type":"task","modular_pipelines":["test","test.create_features"],"parameters":{"create_features":{"pipeline_timezone":"UTC","n_jobs":6,"grid":{"frequency":"1H","offset_start":"2H","offset_end":"2H"}}}},{"id":"6ac1368f","name":"params:create_features","tags":["data-eng"],"pipelines":["__default__","create_features"],"type":"parameters","modular_pipelines":[],"layer":null,"dataset_type":null},{"id":"0c78911d","name":"test.create_features.time_grid","tags":["data-eng"],"pipelines":["__default__","create_features"],"type":"data","modular_pipelines":["test","test.create_features"],"layer":null,"dataset_type":null},{"id":"ed0ecc71","name":"create_time_grid","tags":["data-eng"],"pipelines":["__default__","create_features"],"type":"task","modular_pipelines":["train","train.create_features"],"parameters":{"create_features":{"pipeline_timezone":"UTC","n_jobs":6,"grid":{"frequency":"1H","offset_start":"2H","offset_end":"2H"}}}},{"id":"e87168af","name":"train.create_features.time_grid","tags":["data-eng"],"pipelines":["__default__","create_features"],"type":"data","modular_pipelines":["train","train.create_features"],"layer":null,"dataset_type":null},{"id":"906b727f","name":"create_features_factory_train_with_off_equipment_to_zero","tags":["data-eng"],"pipelines":["__default__","create_features"],"type":"task","modular_pipelines":["train","train.create_features"],"parameters":{"create_features":{"pipeline_timezone":"UTC","n_jobs":6,"grid":{"frequency":"1H","offset_start":"2H","offset_end":"2H"}}}},{"id":"614a4cd8","name":"train.create_features.factory_train_with_off_equipment_to_zero.static_features","tags":["data-eng"],"pipelines":["__default__","create_features"],"type":"data","modular_pipelines":["train","train.create_features","train.create_features.factory_train_with_off_equipment_to_zero"],"layer":null,"dataset_type":null},{"id":"74555d8b","name":"create_features_in_out_train_imputed","tags":["data-eng"],"pipelines":["__default__","create_features"],"type":"task","modular_pipelines":["train","train.create_features"],"parameters":{"create_features":{"pipeline_timezone":"UTC","n_jobs":6,"grid":{"frequency":"1H","offset_start":"2H","offset_end":"2H"}}}},{"id":"85d157bf","name":"train.create_features.in_out_train_imputed.static_features","tags":["data-eng"],"pipelines":["__default__","create_features"],"type":"data","modular_pipelines":["train","train.create_features","train.create_features.in_out_train_imputed"],"layer":null,"dataset_type":null},{"id":"aebdea6c","name":"create_features_in_out_test_imputed","tags":["data-eng"],"pipelines":["__default__","create_features"],"type":"task","modular_pipelines":["test","test.create_features"],"parameters":{"create_features":{"pipeline_timezone":"UTC","n_jobs":6,"grid":{"frequency":"1H","offset_start":"2H","offset_end":"2H"}}}},{"id":"a12a727e","name":"test.create_features.in_out_test_imputed.static_features","tags":["data-eng"],"pipelines":["__default__","create_features"],"type":"data","modular_pipelines":["test","test.create_features","test.create_features.in_out_test_imputed"],"layer":null,"dataset_type":null},{"id":"7d43885c","name":"create_features_factory_test_with_off_equipment_to_zero","tags":["data-eng"],"pipelines":["__default__","create_features"],"type":"task","modular_pipelines":["test","test.create_features"],"parameters":{"create_features":{"pipeline_timezone":"UTC","n_jobs":6,"grid":{"frequency":"1H","offset_start":"2H","offset_end":"2H"}}}},{"id":"31cb9133","name":"test.create_features.factory_test_with_off_equipment_to_zero.static_features","tags":["data-eng"],"pipelines":["__default__","create_features"],"type":"data","modular_pipelines":["test","test.create_features","test.create_features.factory_test_with_off_equipment_to_zero"],"layer":null,"dataset_type":null},{"id":"35336154","name":"merge_to_grid","tags":["data-eng"],"pipelines":["__default__","create_features"],"type":"task","modular_pipelines":["test","test.create_features"],"parameters":{}},{"id":"ae9b6150","name":"test_static_features_no_run_id","tags":["data-eng"],"pipelines":["__default__","create_features"],"type":"data","modular_pipelines":[],"layer":null,"dataset_type":null},{"id":"dd5a69ac","name":"merge_to_grid","tags":["data-eng"],"pipelines":["__default__","create_features"],"type":"task","modular_pipelines":["train","train.create_features"],"parameters":{}},{"id":"a4d73089","name":"train_static_features","tags":["pre-processing","data-eng","data-science","training","reporting"],"pipelines":["__default__","create_features","train_model"],"type":"data","modular_pipelines":[],"layer":"model_input","dataset_type":"pandas.parquet_dataset.ParquetDataset"},{"id":"2ea5719f","name":"generate_run_id","tags":[],"pipelines":["__default__","create_features"],"type":"task","modular_pipelines":["test","test.create_features"],"parameters":{}},{"id":"94dd8ecd","name":"test_static_features","tags":["reporting","data-science","visualisation","optimisation","sensitivity"],"pipelines":["recommend","recommend_sensitivity","__default__","create_features","recommend_uplift_report"],"type":"data","modular_pipelines":[],"layer":"model_input","dataset_type":"pandas.parquet_dataset.ParquetDataset"},{"id":"602f06fc","name":"split_data","tags":["data-science","pre-processing"],"pipelines":["__default__","train_model"],"type":"task","modular_pipelines":["train","train.train_model"],"parameters":{"train_model.split":{"type":"frac","train_split_fract":0.7,"datetime_val":"2020-04-26T03:59:59","datetime_col":"timestamp"}}},{"id":"048b398b","name":"params:train_model.split","tags":["data-science","pre-processing"],"pipelines":["__default__","train_model"],"type":"parameters","modular_pipelines":["train_model"],"layer":null,"dataset_type":null},{"id":"721854e3","name":"train.train_model.test_set","tags":["pre-processing","predictions","data-science"],"pipelines":["__default__","train_model"],"type":"data","modular_pipelines":["train","train.train_model"],"layer":null,"dataset_type":null},{"id":"2e97b838","name":"train.train_model.train_set","tags":["pre-processing","predictions","data-science","training"],"pipelines":["__default__","train_model"],"type":"data","modular_pipelines":["train","train.train_model"],"layer":null,"dataset_type":null},{"id":"0bc424f4","name":"load_regressor","tags":["data-science","training"],"pipelines":["__default__","train_model"],"type":"task","modular_pipelines":["train","train.train_model"],"parameters":{"train_model.features":"model_feature","train_model.feature_selection":[{"class":"sklearn.feature_selection.SelectKBest","kwargs":{"score_func":"sklearn.feature_selection.mutual_info_regression","k":7},"name":"mutual_information_selector"},{"class":"shuttle_factory.utilities.core.transformers.feature_selection.SimpleNegControlSelector","kwargs":{"n_random_features":10},"name":"negative_controls_selector"}],"train_model.regressor":{"class":"xgboost.XGBRegressor","kwargs":{"random_state":42,"objective":"reg:squarederror","n_estimators":300,"n_jobs":1}}}},{"id":"86b7300b","name":"params:train_model.features","tags":["data-science","training"],"pipelines":["__default__","train_model"],"type":"parameters","modular_pipelines":["train_model"],"layer":null,"dataset_type":null},{"id":"843b0b03","name":"params:train_model.feature_selection","tags":["data-science","training"],"pipelines":["__default__","train_model"],"type":"parameters","modular_pipelines":["train_model"],"layer":null,"dataset_type":null},{"id":"b633dd0b","name":"params:train_model.regressor","tags":["data-science","training"],"pipelines":["__default__","train_model"],"type":"parameters","modular_pipelines":["train_model"],"layer":null,"dataset_type":null},{"id":"4faa7a1e","name":"train.train_model.regressor","tags":["data-science","training"],"pipelines":["__default__","train_model"],"type":"data","modular_pipelines":["train","train.train_model"],"layer":null,"dataset_type":null},{"id":"d89b2a45","name":"add_transformers","tags":["data-science","training"],"pipelines":["__default__","train_model"],"type":"task","modular_pipelines":["train","train.train_model"],"parameters":{"train_model":{"target":"model_target","features":"model_feature","split":{"type":"frac","train_split_fract":0.7,"datetime_val":"2020-04-26T03:59:59","datetime_col":"timestamp"},"feature_selection":[{"class":"sklearn.feature_selection.SelectKBest","kwargs":{"score_func":"sklearn.feature_selection.mutual_info_regression","k":7},"name":"mutual_information_selector"},{"class":"shuttle_factory.utilities.core.transformers.feature_selection.SimpleNegControlSelector","kwargs":{"n_random_features":10},"name":"negative_controls_selector"}],"regressor":{"class":"xgboost.XGBRegressor","kwargs":{"random_state":42,"objective":"reg:squarederror","n_estimators":300,"n_jobs":1}},"cv":{"class":"sklearn.model_selection.KFold","kwargs":{"n_splits":3,"random_state":null}},"tuner":{"class":"sklearn.model_selection.GridSearchCV","kwargs":{"n_jobs":-1,"refit":"mae","verbose":true,"param_grid":{"regressor__max_depth":[2,3,5,8],"regressor__learning_rate":[0.2,0.1,0.05],"regressor__colsample_bytree":[0.5,1],"regressor__reg_lambda":[0.1,1,10]},"scoring":{"mae":"neg_mean_absolute_error","rmse":"neg_root_mean_squared_error","r2":"r2"}}},"xgb_tune":{"p_eval":0.1,"early_stopping_rounds":20},"report":{"output_path":"data/base/use_cases/factory_demo/train/08_reporting","report_name":"performance_report","timestamp":true,"title":"Model Performance Report","author":"Shuttle Factory","subject":"Shuttle Factory Performance Report","shap":{"explainer":"shap.TreeExplainer","kwargs":{"tree_limit":250}}}}}},{"id":"f8948258","name":"params:train_model","tags":["predictions","data-science","training"],"pipelines":["__default__","train_model"],"type":"parameters","modular_pipelines":[],"layer":null,"dataset_type":null},{"id":"fe300198","name":"train.train_model.regressor_pipeline","tags":["data-science","training"],"pipelines":["__default__","train_model"],"type":"data","modular_pipelines":["train","train.train_model"],"layer":null,"dataset_type":null},{"id":"e9c51d85","name":"train_model","tags":["data-science","training"],"pipelines":["__default__","train_model"],"type":"task","modular_pipelines":["train","train.train_model"],"parameters":{"train_model":{"target":"model_target","features":"model_feature","split":{"type":"frac","train_split_fract":0.7,"datetime_val":"2020-04-26T03:59:59","datetime_col":"timestamp"},"feature_selection":[{"class":"sklearn.feature_selection.SelectKBest","kwargs":{"score_func":"sklearn.feature_selection.mutual_info_regression","k":7},"name":"mutual_information_selector"},{"class":"shuttle_factory.utilities.core.transformers.feature_selection.SimpleNegControlSelector","kwargs":{"n_random_features":10},"name":"negative_controls_selector"}],"regressor":{"class":"xgboost.XGBRegressor","kwargs":{"random_state":42,"objective":"reg:squarederror","n_estimators":300,"n_jobs":1}},"cv":{"class":"sklearn.model_selection.KFold","kwargs":{"n_splits":3,"random_state":null}},"tuner":{"class":"sklearn.model_selection.GridSearchCV","kwargs":{"n_jobs":-1,"refit":"mae","verbose":true,"param_grid":{"regressor__max_depth":[2,3,5,8],"regressor__learning_rate":[0.2,0.1,0.05],"regressor__colsample_bytree":[0.5,1],"regressor__reg_lambda":[0.1,1,10]},"scoring":{"mae":"neg_mean_absolute_error","rmse":"neg_root_mean_squared_error","r2":"r2"}}},"xgb_tune":{"p_eval":0.1,"early_stopping_rounds":20},"report":{"output_path":"data/base/use_cases/factory_demo/train/08_reporting","report_name":"performance_report","timestamp":true,"title":"Model Performance Report","author":"Shuttle Factory","subject":"Shuttle Factory Performance Report","shap":{"explainer":"shap.TreeExplainer","kwargs":{"tree_limit":250}}}}}},{"id":"dc0abb8b","name":"train_trainset_cv_results","tags":["data-science","training"],"pipelines":["__default__","train_model"],"type":"data","modular_pipelines":[],"layer":"model_output","dataset_type":"pandas.csv_dataset.CSVDataset"},{"id":"10ce7f66","name":"train_trainset_feature_importance","tags":["data-science","training","reporting"],"pipelines":["__default__","train_model"],"type":"data","modular_pipelines":[],"layer":"model_output","dataset_type":"pandas.json_dataset.JSONDataset"},{"id":"e6c1e1d0","name":"train_trainset_model","tags":["predictions","data-science","training"],"pipelines":["__default__","train_model"],"type":"data","modular_pipelines":[],"layer":"models","dataset_type":"pickle.pickle_dataset.PickleDataset"},{"id":"68d6f757","name":"retrain_model","tags":["data-science","training"],"pipelines":["__default__","train_model"],"type":"task","modular_pipelines":["train","train.train_model"],"parameters":{"train_model":{"target":"model_target","features":"model_feature","split":{"type":"frac","train_split_fract":0.7,"datetime_val":"2020-04-26T03:59:59","datetime_col":"timestamp"},"feature_selection":[{"class":"sklearn.feature_selection.SelectKBest","kwargs":{"score_func":"sklearn.feature_selection.mutual_info_regression","k":7},"name":"mutual_information_selector"},{"class":"shuttle_factory.utilities.core.transformers.feature_selection.SimpleNegControlSelector","kwargs":{"n_random_features":10},"name":"negative_controls_selector"}],"regressor":{"class":"xgboost.XGBRegressor","kwargs":{"random_state":42,"objective":"reg:squarederror","n_estimators":300,"n_jobs":1}},"cv":{"class":"sklearn.model_selection.KFold","kwargs":{"n_splits":3,"random_state":null}},"tuner":{"class":"sklearn.model_selection.GridSearchCV","kwargs":{"n_jobs":-1,"refit":"mae","verbose":true,"param_grid":{"regressor__max_depth":[2,3,5,8],"regressor__learning_rate":[0.2,0.1,0.05],"regressor__colsample_bytree":[0.5,1],"regressor__reg_lambda":[0.1,1,10]},"scoring":{"mae":"neg_mean_absolute_error","rmse":"neg_root_mean_squared_error","r2":"r2"}}},"xgb_tune":{"p_eval":0.1,"early_stopping_rounds":20},"report":{"output_path":"data/base/use_cases/factory_demo/train/08_reporting","report_name":"performance_report","timestamp":true,"title":"Model Performance Report","author":"Shuttle Factory","subject":"Shuttle Factory Performance Report","shap":{"explainer":"shap.TreeExplainer","kwargs":{"tree_limit":250}}}}}},{"id":"f23452a4","name":"train_model","tags":["visualisation","data-science","training","reporting","sensitivity"],"pipelines":["recommend","recommend_sensitivity","__default__","train_model"],"type":"data","modular_pipelines":[],"layer":null,"dataset_type":null},{"id":"089a8e9a","name":"create_train_predictions","tags":["data-science","predictions"],"pipelines":["__default__","train_model"],"type":"task","modular_pipelines":["train","train.train_model"],"parameters":{"train_model":{"target":"model_target","features":"model_feature","split":{"type":"frac","train_split_fract":0.7,"datetime_val":"2020-04-26T03:59:59","datetime_col":"timestamp"},"feature_selection":[{"class":"sklearn.feature_selection.SelectKBest","kwargs":{"score_func":"sklearn.feature_selection.mutual_info_regression","k":7},"name":"mutual_information_selector"},{"class":"shuttle_factory.utilities.core.transformers.feature_selection.SimpleNegControlSelector","kwargs":{"n_random_features":10},"name":"negative_controls_selector"}],"regressor":{"class":"xgboost.XGBRegressor","kwargs":{"random_state":42,"objective":"reg:squarederror","n_estimators":300,"n_jobs":1}},"cv":{"class":"sklearn.model_selection.KFold","kwargs":{"n_splits":3,"random_state":null}},"tuner":{"class":"sklearn.model_selection.GridSearchCV","kwargs":{"n_jobs":-1,"refit":"mae","verbose":true,"param_grid":{"regressor__max_depth":[2,3,5,8],"regressor__learning_rate":[0.2,0.1,0.05],"regressor__colsample_bytree":[0.5,1],"regressor__reg_lambda":[0.1,1,10]},"scoring":{"mae":"neg_mean_absolute_error","rmse":"neg_root_mean_squared_error","r2":"r2"}}},"xgb_tune":{"p_eval":0.1,"early_stopping_rounds":20},"report":{"output_path":"data/base/use_cases/factory_demo/train/08_reporting","report_name":"performance_report","timestamp":true,"title":"Model Performance Report","author":"Shuttle Factory","subject":"Shuttle Factory Performance Report","shap":{"explainer":"shap.TreeExplainer","kwargs":{"tree_limit":250}}}}}},{"id":"c9058d39","name":"train_trainset_metrics","tags":["predictions","data-science","reporting"],"pipelines":["__default__","train_model"],"type":"data","modular_pipelines":[],"layer":null,"dataset_type":"pandas.csv_dataset.CSVDataset"},{"id":"9a97cfe0","name":"train_trainset_predictions","tags":["predictions","data-science","reporting"],"pipelines":["__default__","train_model"],"type":"data","modular_pipelines":[],"layer":"model_output","dataset_type":"pandas.csv_dataset.CSVDataset"},{"id":"c0020a3e","name":"create_test_predictions","tags":["data-science","predictions"],"pipelines":["__default__","train_model"],"type":"task","modular_pipelines":["train","train.train_model"],"parameters":{"train_model":{"target":"model_target","features":"model_feature","split":{"type":"frac","train_split_fract":0.7,"datetime_val":"2020-04-26T03:59:59","datetime_col":"timestamp"},"feature_selection":[{"class":"sklearn.feature_selection.SelectKBest","kwargs":{"score_func":"sklearn.feature_selection.mutual_info_regression","k":7},"name":"mutual_information_selector"},{"class":"shuttle_factory.utilities.core.transformers.feature_selection.SimpleNegControlSelector","kwargs":{"n_random_features":10},"name":"negative_controls_selector"}],"regressor":{"class":"xgboost.XGBRegressor","kwargs":{"random_state":42,"objective":"reg:squarederror","n_estimators":300,"n_jobs":1}},"cv":{"class":"sklearn.model_selection.KFold","kwargs":{"n_splits":3,"random_state":null}},"tuner":{"class":"sklearn.model_selection.GridSearchCV","kwargs":{"n_jobs":-1,"refit":"mae","verbose":true,"param_grid":{"regressor__max_depth":[2,3,5,8],"regressor__learning_rate":[0.2,0.1,0.05],"regressor__colsample_bytree":[0.5,1],"regressor__reg_lambda":[0.1,1,10]},"scoring":{"mae":"neg_mean_absolute_error","rmse":"neg_root_mean_squared_error","r2":"r2"}}},"xgb_tune":{"p_eval":0.1,"early_stopping_rounds":20},"report":{"output_path":"data/base/use_cases/factory_demo/train/08_reporting","report_name":"performance_report","timestamp":true,"title":"Model Performance Report","author":"Shuttle Factory","subject":"Shuttle Factory Performance Report","shap":{"explainer":"shap.TreeExplainer","kwargs":{"tree_limit":250}}}}}},{"id":"320ef4e8","name":"train_testset_metrics","tags":["data-science","predictions"],"pipelines":["__default__","train_model"],"type":"data","modular_pipelines":[],"layer":null,"dataset_type":"pandas.csv_dataset.CSVDataset"},{"id":"9b9921db","name":"train_testset_predictions","tags":["predictions","data-science","reporting"],"pipelines":["__default__","train_model"],"type":"data","modular_pipelines":[],"layer":null,"dataset_type":"pandas.csv_dataset.CSVDataset"},{"id":"c329efd1","name":"generate_performance_report","tags":["data-science","reporting"],"pipelines":["__default__","train_model"],"type":"task","modular_pipelines":["train","train.train_model"],"parameters":{"train_model.report":{"output_path":"data/base/use_cases/factory_demo/train/08_reporting","report_name":"performance_report","timestamp":true,"title":"Model Performance Report","author":"Shuttle Factory","subject":"Shuttle Factory Performance Report","shap":{"explainer":"shap.TreeExplainer","kwargs":{"tree_limit":250}}}}},{"id":"b46c6fb9","name":"params:train_model.report","tags":["data-science","reporting"],"pipelines":["__default__","train_model"],"type":"parameters","modular_pipelines":["train_model"],"layer":null,"dataset_type":null},{"id":"b7bde39a","name":"train_report_figures","tags":["data-science","reporting"],"pipelines":["__default__","train_model"],"type":"data","modular_pipelines":[],"layer":null,"dataset_type":"pickle.pickle_dataset.PickleDataset"},{"id":"ae98f5f5","name":"bulk_optimize","tags":["visualisation","reporting"],"pipelines":["recommend","__default__"],"type":"task","modular_pipelines":["recommend"],"parameters":{"recommend":{"solver":{"class":"shuttle_factory.optimizer.solvers.DifferentialEvolutionSolver","kwargs":{"sense":"maximize","seed":0,"maxiter":50,"mutation":[0.5,1],"recombination":0.7,"strategy":"best1bin"}},"stopper":{"class":"shuttle_factory.optimizer.stoppers.NoImprovementStopper","kwargs":{"patience":10,"sense":"maximize","min_delta":0.1}},"n_jobs":6,"objective_kwargs":{}}}},{"id":"ce869767","name":"params:recommend","tags":["visualisation","reporting"],"pipelines":["recommend","__default__"],"type":"parameters","modular_pipelines":[],"layer":null,"dataset_type":null},{"id":"d407a8cf","name":"test_metrics","tags":["visualisation","reporting"],"pipelines":["recommend","__default__"],"type":"data","modular_pipelines":[],"layer":null,"dataset_type":"tracking.metrics_dataset.MetricsDataset"},{"id":"d1733133","name":"create_bulk_result_tables","tags":["data-science","optimisation"],"pipelines":["__default__","recommend_uplift_report"],"type":"task","modular_pipelines":["uplift"],"parameters":{}},{"id":"e4821861","name":"test_recommendations","tags":["data-science","optimisation","sensitivity"],"pipelines":["recommend_sensitivity","__default__","recommend_uplift_report"],"type":"data","modular_pipelines":[],"layer":"model_output","dataset_type":"pandas.json_dataset.JSONDataset"},{"id":"b7c5a4e0","name":"test_bulk_constraints","tags":["data-science","optimisation","reporting"],"pipelines":["__default__","recommend_uplift_report"],"type":"data","modular_pipelines":[],"layer":"model_output","dataset_type":"pickle.pickle_dataset.PickleDataset"},{"id":"24c3ce33","name":"test_bulk_ctrl","tags":["data-science","optimisation","reporting"],"pipelines":["__default__","recommend_uplift_report"],"type":"data","modular_pipelines":[],"layer":"model_output","dataset_type":"pickle.pickle_dataset.PickleDataset"},{"id":"7ba4e963","name":"test_bulk_output","tags":["data-science","optimisation","reporting"],"pipelines":["__default__","recommend_uplift_report"],"type":"data","modular_pipelines":[],"layer":"model_output","dataset_type":"pickle.pickle_dataset.PickleDataset"},{"id":"70c65095","name":"test_bulk_state","tags":["data-science","optimisation","reporting"],"pipelines":["__default__","recommend_uplift_report"],"type":"data","modular_pipelines":[],"layer":"model_output","dataset_type":"pickle.pickle_dataset.PickleDataset"},{"id":"55758695","name":"create_bulk_report","tags":["data-science","reporting"],"pipelines":["__default__","recommend_uplift_report"],"type":"task","modular_pipelines":["uplift"],"parameters":{}},{"id":"d3f3241a","name":"test_bulk_report","tags":["data-science","reporting"],"pipelines":["__default__","recommend_uplift_report"],"type":"data","modular_pipelines":[],"layer":"model_output","dataset_type":"pandas.csv_dataset.CSVDataset"},{"id":"bf435119","name":"uplift_report_results","tags":["data-science","reporting"],"pipelines":["__default__","recommend_uplift_report"],"type":"task","modular_pipelines":["uplift"],"parameters":{"uplift.pdf":{"output_path":"data/base/use_cases/factory_demo/test/08_reporting/","report_name":"uplift_report","timestamp":true,"title":"Uplift Report","author":"Shuttle Factory","subject":"Shuttle Factory Uplift Report"}}},{"id":"c58671fa","name":"params:uplift.pdf","tags":["data-science","reporting"],"pipelines":["__default__","recommend_uplift_report"],"type":"parameters","modular_pipelines":["uplift"],"layer":null,"dataset_type":null},{"id":"19040e7c","name":"uplift_report_figures","tags":["data-science","reporting"],"pipelines":["__default__","recommend_uplift_report"],"type":"data","modular_pipelines":[],"layer":null,"dataset_type":"plotly.plotly_dataset.PlotlyDataset"},{"id":"0298a817","name":"generate_sensitivity_data","tags":["data-science","sensitivity"],"pipelines":["recommend_sensitivity","__default__"],"type":"task","modular_pipelines":["sensitivity"],"parameters":{"recommend_sensitivity":{"n_points":25,"unique_ids":["run_id","timestamp"],"objective_kwargs":{},"sensitivity_app_data_mapping":{"expert_input":"expert_input","features":"test_static_features","model":"train_trainset_model","recs":"test_recommendations","sensitivity_data":"test_sensitivity_plot_df","timestamp_col":"timestamp"}}}},{"id":"6fd8074d","name":"params:recommend_sensitivity","tags":["data-science","sensitivity"],"pipelines":["recommend_sensitivity","__default__"],"type":"parameters","modular_pipelines":[],"layer":null,"dataset_type":null},{"id":"9eb96a09","name":"test_sensitivity_plot_df","tags":["data-science","sensitivity"],"pipelines":["recommend_sensitivity","__default__"],"type":"data","modular_pipelines":[],"layer":null,"dataset_type":"pandas.csv_dataset.CSVDataset"},{"id":"f8e6b6f3","name":"Apply Types","tags":["transcoding"],"pipelines":["transcoding_demo","__default__"],"type":"task","modular_pipelines":[],"parameters":{}},{"id":"3db9b130","name":"in_out_recent","tags":["transcoding"],"pipelines":["transcoding_demo","__default__"],"type":"data","modular_pipelines":[],"layer":"raw","dataset_type":"pandas.csv_dataset.CSVDataset"},{"id":"6526dd55","name":"in_out_recent_clean","tags":["transcoding"],"pipelines":["transcoding_demo","__default__"],"type":"data","modular_pipelines":[],"layer":null,"dataset_type":null},{"id":"d6744468","name":"Filter Rows","tags":["transcoding"],"pipelines":["transcoding_demo","__default__"],"type":"task","modular_pipelines":[],"parameters":{}},{"id":"71a945b5","name":"in_out_recent_filtered","tags":["transcoding"],"pipelines":["transcoding_demo","__default__"],"type":"data","modular_pipelines":[],"layer":"primary","dataset_type":"pandas.parquet_dataset.ParquetDataset"},{"id":"factory.pandas_profiling","name":"factory.pandas_profiling","tags":[],"pipelines":["pandas_profiling","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"factory","name":"factory","tags":[],"pipelines":["__default__","impute_fit","split","pandas_profiling"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"in_out.pandas_profiling","name":"in_out.pandas_profiling","tags":[],"pipelines":["pandas_profiling","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"in_out","name":"in_out","tags":[],"pipelines":["__default__","impute_fit","split","pandas_profiling"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"factory.split","name":"factory.split","tags":[],"pipelines":["split","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"in_out.split","name":"in_out.split","tags":[],"pipelines":["split","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"in_out_test.clean","name":"in_out_test.clean","tags":[],"pipelines":["clean","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"in_out_test","name":"in_out_test","tags":[],"pipelines":["clean","impute_transform","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"factory_train.clean","name":"factory_train.clean","tags":[],"pipelines":["clean","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"factory_train","name":"factory_train","tags":[],"pipelines":["clean","__default__","on_off_logic","impute_transform"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"in_out_train.clean","name":"in_out_train.clean","tags":[],"pipelines":["clean","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"in_out_train","name":"in_out_train","tags":[],"pipelines":["clean","impute_transform","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"factory_test.clean","name":"factory_test.clean","tags":[],"pipelines":["clean","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"factory_test","name":"factory_test","tags":[],"pipelines":["clean","__default__","on_off_logic","impute_transform"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"factory.impute","name":"factory.impute","tags":[],"pipelines":["impute_fit","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"in_out.impute","name":"in_out.impute","tags":[],"pipelines":["impute_fit","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"in_out_test.impute","name":"in_out_test.impute","tags":[],"pipelines":["impute_transform","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"factory_test.impute","name":"factory_test.impute","tags":[],"pipelines":["impute_transform","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"factory_train.impute","name":"factory_train.impute","tags":[],"pipelines":["impute_transform","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"in_out_train.impute","name":"in_out_train.impute","tags":[],"pipelines":["impute_transform","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"factory_test.on_off_logic","name":"factory_test.on_off_logic","tags":[],"pipelines":["on_off_logic","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"factory_train.on_off_logic","name":"factory_train.on_off_logic","tags":[],"pipelines":["on_off_logic","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"test.create_features","name":"test.create_features","tags":[],"pipelines":["__default__","create_features"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"test","name":"test","tags":[],"pipelines":["__default__","create_features"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"train.create_features","name":"train.create_features","tags":[],"pipelines":["__default__","create_features"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"train","name":"train","tags":[],"pipelines":["__default__","create_features","train_model"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"train.create_features.factory_train_with_off_equipment_to_zero","name":"train.create_features.factory_train_with_off_equipment_to_zero","tags":[],"pipelines":["__default__","create_features"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"train.create_features.in_out_train_imputed","name":"train.create_features.in_out_train_imputed","tags":[],"pipelines":["__default__","create_features"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"test.create_features.in_out_test_imputed","name":"test.create_features.in_out_test_imputed","tags":[],"pipelines":["__default__","create_features"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"test.create_features.factory_test_with_off_equipment_to_zero","name":"test.create_features.factory_test_with_off_equipment_to_zero","tags":[],"pipelines":["__default__","create_features"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"train.train_model","name":"train.train_model","tags":[],"pipelines":["__default__","train_model"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"recommend","name":"recommend","tags":[],"pipelines":["recommend","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"uplift","name":"uplift","tags":[],"pipelines":["__default__","recommend_uplift_report"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null},{"id":"sensitivity","name":"sensitivity","tags":[],"pipelines":["recommend_sensitivity","__default__"],"type":"modularPipeline","modular_pipelines":null,"layer":null,"dataset_type":null}],"edges":[{"source":"6ac1368f","target":"test.create_features"},{"source":"53578014","target":"c329efd1"},{"source":"d28f4db6","target":"factory_train"},{"source":"in_out_test.clean","target":"63186f26"},{"source":"2d3c0374","target":"test.create_features"},{"source":"ddc6c97b","target":"ee95fd1e"},{"source":"55758695","target":"d3f3241a"},{"source":"53578014","target":"factory_train.on_off_logic"},{"source":"f8948258","target":"e9c51d85"},{"source":"6d5873ac","target":"1d7fffba"},{"source":"0e9ed868","target":"2596e632"},{"source":"700b6aec","target":"7a162ddc"},{"source":"70c65095","target":"55758695"},{"source":"456488de","target":"f7082f22"},{"source":"089a8e9a","target":"9a97cfe0"},{"source":"53578014","target":"test.create_features"},{"source":"53578014","target":"d1733133"},{"source":"61ffca7f","target":"b10165f4"},{"source":"3f156da8","target":"666587bd"},{"source":"fe300198","target":"e9c51d85"},{"source":"a4d73089","target":"train.train_model"},{"source":"e4821861","target":"uplift"},{"source":"dec14f64","target":"8835772a"},{"source":"778c88c9","target":"31fb7cc8"},{"source":"94dd8ecd","target":"sensitivity"},{"source":"d3f3241a","target":"bf435119"},{"source":"0613286f","target":"fe81cbe2"},{"source":"53578014","target":"factory_train.impute"},{"source":"d7ff3fc5","target":"factory_train.on_off_logic"},{"source":"2e97b838","target":"089a8e9a"},{"source":"53578014","target":"4b7d240f"},{"source":"d1733133","target":"7ba4e963"},{"source":"94dd8ecd","target":"0298a817"},{"source":"ce9f17e7","target":"4bd93139"},{"source":"1f876261","target":"in_out_train"},{"source":"dec9c820","target":"b83dff93"},{"source":"53578014","target":"22cfe9cd"},{"source":"factory","target":"d28f4db6"},{"source":"3f69a9b8","target":"845526ea"},{"source":"f8e6b6f3","target":"6526dd55"},{"source":"988261ac","target":"c81ae4f9"},{"source":"f8d4e465","target":"9c13d89f"},{"source":"6d5873ac","target":"factory_test"},{"source":"277dc1ee","target":"2996dd8e"},{"source":"6ac1368f","target":"ed0ecc71"},{"source":"456488de","target":"factory_train.clean"},{"source":"ff79c0d9","target":"d28f4db6"},{"source":"53578014","target":"in_out_test.impute"},{"source":"31fb7cc8","target":"a771381b"},{"source":"f8948258","target":"68d6f757"},{"source":"in_out","target":"a771381b"},{"source":"54e2783c","target":"3464b488"},{"source":"53578014","target":"7d7e1704"},{"source":"11a72273","target":"5540a3fb"},{"source":"ce869767","target":"ae98f5f5"},{"source":"train","target":"b7bde39a"},{"source":"53578014","target":"11a72273"},{"source":"train.train_model","target":"b7bde39a"},{"source":"502829ed","target":"d02bfec9"},{"source":"0c78911d","target":"7d43885c"},{"source":"f4cccc1a","target":"train.create_features"},{"source":"ce869767","target":"recommend"},{"source":"73930ef2","target":"2596e632"},{"source":"d1733133","target":"b7c5a4e0"},{"source":"53578014","target":"7be9f72e"},{"source":"ca959a2d","target":"ff79c0d9"},{"source":"c0020a3e","target":"9b9921db"},{"source":"d89b2a45","target":"fe300198"},{"source":"ee95fd1e","target":"a624849b"},{"source":"fa4ebf1b","target":"514660c5"},{"source":"53578014","target":"factory"},{"source":"a12a727e","target":"35336154"},{"source":"d2fb21a0","target":"11a72273"},{"source":"8835772a","target":"61ffca7f"},{"source":"73930ef2","target":"ff79c0d9"},{"source":"fe81cbe2","target":"593a4f96"},{"source":"9a97cfe0","target":"c329efd1"},{"source":"74555d8b","target":"85d157bf"},{"source":"factory_train.clean","target":"6d5873ac"},{"source":"53578014","target":"d89b2a45"},{"source":"a4d73089","target":"68d6f757"},{"source":"94dd8ecd","target":"55758695"},{"source":"b7c5a4e0","target":"55758695"},{"source":"1f876261","target":"in_out_test.clean"},{"source":"a771381b","target":"in_out_train"},{"source":"f38b4714","target":"7be9f72e"},{"source":"f38b4714","target":"factory"},{"source":"b5b5b6b2","target":"7a65da0d"},{"source":"e9c51d85","target":"dc0abb8b"},{"source":"e9c51d85","target":"10ce7f66"},{"source":"b46c6fb9","target":"c329efd1"},{"source":"e4821861","target":"sensitivity"},{"source":"0613286f","target":"factory_test.on_off_logic"},{"source":"456488de","target":"88c843ae"},{"source":"048b398b","target":"602f06fc"},{"source":"53578014","target":"089a8e9a"},{"source":"factory_test.on_off_logic","target":"2d3c0374"},{"source":"53578014","target":"2978a7f5"},{"source":"93d3a479","target":"63186f26"},{"source":"cf7dcb8f","target":"2978a7f5"},{"source":"f8948258","target":"train"},{"source":"048b398b","target":"train"},{"source":"e4821861","target":"0298a817"},{"source":"1161a87b","target":"factory_test"},{"source":"1d7fffba","target":"f4cccc1a"},{"source":"53578014","target":"uplift"},{"source":"d1733133","target":"70c65095"},{"source":"ae98f5f5","target":"d407a8cf"},{"source":"53578014","target":"1d7fffba"},{"source":"2ea5719f","target":"94dd8ecd"},{"source":"843b0b03","target":"train"},{"source":"53578014","target":"in_out.impute"},{"source":"d1733133","target":"24c3ce33"},{"source":"sensitivity","target":"9eb96a09"},{"source":"53578014","target":"ae98f5f5"},{"source":"d7ff3fc5","target":"690d415b"},{"source":"1161a87b","target":"factory_train"},{"source":"f8948258","target":"train.train_model"},{"source":"d6744468","target":"71a945b5"},{"source":"53578014","target":"e3fadeda"},{"source":"53578014","target":"recommend"},{"source":"b633dd0b","target":"0bc424f4"},{"source":"5540a3fb","target":"in_out_train.impute"},{"source":"073606b6","target":"7397d2dc"},{"source":"53578014","target":"72ac6e43"},{"source":"d2fb21a0","target":"1d7fffba"},{"source":"62e203cf","target":"in_out_test"},{"source":"d2fb21a0","target":"in_out.impute"},{"source":"ae9b6150","target":"2ea5719f"},{"source":"3f69a9b8","target":"in_out.split"},{"source":"53578014","target":"b4716bd3"},{"source":"d9a62050","target":"fa4ebf1b"},{"source":"24710762","target":"ef57a1fc"},{"source":"843b0b03","target":"train.train_model"},{"source":"5d57686d","target":"in_out"},{"source":"f8948258","target":"c0020a3e"},{"source":"in_out_test.impute","target":"7178598e"},{"source":"f23452a4","target":"recommend"},{"source":"0bc424f4","target":"4faa7a1e"},{"source":"f4cccc1a","target":"ed0ecc71"},{"source":"53578014","target":"in_out_train.clean"},{"source":"53578014","target":"factory_train.clean"},{"source":"6d5873ac","target":"factory.impute"},{"source":"b5b5b6b2","target":"in_out.pandas_profiling"},{"source":"5540a3fb","target":"in_out_train"},{"source":"6fd8074d","target":"sensitivity"},{"source":"bf435119","target":"19040e7c"},{"source":"3f69a9b8","target":"in_out"},{"source":"31fb7cc8","target":"62e203cf"},{"source":"in_out","target":"62e203cf"},{"source":"12ee06f3","target":"factory_test.clean"},{"source":"089a8e9a","target":"c9058d39"},{"source":"6ac1368f","target":"aebdea6c"},{"source":"d02bfec9","target":"f7082f22"},{"source":"f23452a4","target":"c329efd1"},{"source":"6fd8074d","target":"0298a817"},{"source":"456488de","target":"factory_test.clean"},{"source":"3f69a9b8","target":"7a65da0d"},{"source":"6526dd55","target":"d6744468"},{"source":"a8bef9b5","target":"0c78911d"},{"source":"2e97b838","target":"e9c51d85"},{"source":"456488de","target":"b10165f4"},{"source":"22cfe9cd","target":"7178598e"},{"source":"53578014","target":"aebdea6c"},{"source":"7178598e","target":"a8bef9b5"},{"source":"68d6f757","target":"f23452a4"},{"source":"c58671fa","target":"uplift"},{"source":"98b533a3","target":"a624849b"},{"source":"53578014","target":"277dc1ee"},{"source":"1f876261","target":"ce9f17e7"},{"source":"2978a7f5","target":"eefd807e"},{"source":"7d43885c","target":"31cb9133"},{"source":"6d5873ac","target":"in_out_train"},{"source":"53578014","target":"in_out_test"},{"source":"c0020a3e","target":"320ef4e8"},{"source":"in_out_train.clean","target":"d2fb21a0"},{"source":"3db9b130","target":"f8e6b6f3"},{"source":"12ee06f3","target":"factory_test"},{"source":"factory_test","target":"2d3c0374"},{"source":"train","target":"320ef4e8"},{"source":"e3fadeda","target":"a229cbdc"},{"source":"516628d2","target":"d9a62050"},{"source":"86b7300b","target":"0bc424f4"},{"source":"6ac1368f","target":"906b727f"},{"source":"778c88c9","target":"in_out.split"},{"source":"456488de","target":"factory_test"},{"source":"53578014","target":"sensitivity"},{"source":"85d157bf","target":"dd5a69ac"},{"source":"b4716bd3","target":"c3f72bfd"},{"source":"test.create_features","target":"94dd8ecd"},{"source":"5540a3fb","target":"22cfe9cd"},{"source":"53578014","target":"893a3f7f"},{"source":"53578014","target":"906b727f"},{"source":"44bc2d21","target":"f8d4e465"},{"source":"1f876261","target":"b99ee270"},{"source":"456488de","target":"factory_train"},{"source":"53578014","target":"0298a817"},{"source":"666587bd","target":"bf34f92f"},{"source":"778c88c9","target":"in_out"},{"source":"5540a3fb","target":"in_out_test.impute"},{"source":"b10165f4","target":"6d5873ac"},{"source":"e6c1e1d0","target":"c0020a3e"},{"source":"3526f0b5","target":"16cae681"},{"source":"4b7d240f","target":"6ffb551a"},{"source":"35336154","target":"ae9b6150"},{"source":"5d57686d","target":"11a72273"},{"source":"f23452a4","target":"sensitivity"},{"source":"e9c51d85","target":"e6c1e1d0"},{"source":"3f69a9b8","target":"ddc6c97b"},{"source":"aebdea6c","target":"a12a727e"},{"source":"456488de","target":"516628d2"},{"source":"e87168af","target":"74555d8b"},{"source":"7178598e","target":"test"},{"source":"f7082f22","target":"dec14f64"},{"source":"456488de","target":"502829ed"},{"source":"b83dff93","target":"b99ee270"},{"source":"0613286f","target":"690d415b"},{"source":"c9058d39","target":"c329efd1"},{"source":"factory.split","target":"d28f4db6"},{"source":"53578014","target":"e9c51d85"},{"source":"b633dd0b","target":"train.train_model"},{"source":"eb1aa767","target":"2d3c0374"},{"source":"7be9f72e","target":"1161a87b"},{"source":"2d3c0374","target":"7d43885c"},{"source":"bf34f92f","target":"87d52565"},{"source":"6d5873ac","target":"factory_test.impute"},{"source":"7ba4e963","target":"55758695"},{"source":"factory_test.clean","target":"cf7dcb8f"},{"source":"53578014","target":"bf435119"},{"source":"53578014","target":"7d43885c"},{"source":"2d3c0374","target":"test"},{"source":"ee508f00","target":"e3fadeda"},{"source":"6d5873ac","target":"in_out_test.impute"},{"source":"210adac8","target":"988261ac"},{"source":"53578014","target":"93d3a479"},{"source":"861c59bf","target":"c8f70ca9"},{"source":"0a1be393","target":"277dc1ee"},{"source":"a229cbdc","target":"7d7e1704"},{"source":"6ffb551a","target":"train"},{"source":"c8f70ca9","target":"073606b6"},{"source":"train.create_features","target":"a4d73089"},{"source":"53578014","target":"55758695"},{"source":"in_out.impute","target":"5540a3fb"},{"source":"42d73649","target":"4b7d240f"},{"source":"e6c1e1d0","target":"68d6f757"},{"source":"63186f26","target":"in_out_test.impute"},{"source":"a4d73089","target":"c329efd1"},{"source":"1f876261","target":"9c13d89f"},{"source":"factory_train","target":"6ffb551a"},{"source":"53578014","target":"factory_test.clean"},{"source":"906b727f","target":"614a4cd8"},{"source":"1f876261","target":"a57429e5"},{"source":"7f91c2cc","target":"95cd6bf9"},{"source":"6ffb551a","target":"906b727f"},{"source":"53578014","target":"b10165f4"},{"source":"53578014","target":"68d6f757"},{"source":"721854e3","target":"c0020a3e"},{"source":"0e9ed868","target":"factory"},{"source":"c81ae4f9","target":"44bc2d21"},{"source":"3f69a9b8","target":"31fb7cc8"},{"source":"3f69a9b8","target":"16cae681"},{"source":"6ac1368f","target":"74555d8b"},{"source":"0613286f","target":"factory_train.on_off_logic"},{"source":"3f69a9b8","target":"95cd6bf9"},{"source":"c329efd1","target":"b7bde39a"},{"source":"7d7e1704","target":"cf7dcb8f"},{"source":"f23452a4","target":"ae98f5f5"},{"source":"5d57686d","target":"in_out.impute"},{"source":"e87168af","target":"906b727f"},{"source":"5540a3fb","target":"1d7fffba"},{"source":"73930ef2","target":"factory.pandas_profiling"},{"source":"690d415b","target":"42d73649"},{"source":"456488de","target":"7397d2dc"},{"source":"ec0ad2a0","target":"861c59bf"},{"source":"87d52565","target":"4d95b087"},{"source":"53578014","target":"74555d8b"},{"source":"7178598e","target":"test.create_features"},{"source":"845526ea","target":"05877538"},{"source":"0c78911d","target":"aebdea6c"},{"source":"94dd8ecd","target":"d1733133"},{"source":"62e203cf","target":"in_out_test.clean"},{"source":"9c13d89f","target":"0a1be393"},{"source":"53578014","target":"in_out_train"},{"source":"6d337a84","target":"a624849b"},{"source":"53578014","target":"factory_test"},{"source":"7a162ddc","target":"a57429e5"},{"source":"1f876261","target":"666587bd"},{"source":"recommend","target":"d407a8cf"},{"source":"1161a87b","target":"factory_train.impute"},{"source":"6d5873ac","target":"2978a7f5"},{"source":"c58671fa","target":"bf435119"},{"source":"05877538","target":"3464b488"},{"source":"a99c5c0f","target":"516628d2"},{"source":"47800056","target":"3464b488"},{"source":"in_out.split","target":"a771381b"},{"source":"f8948258","target":"d89b2a45"},{"source":"1161a87b","target":"factory_test.impute"},{"source":"a57429e5","target":"210adac8"},{"source":"ca959a2d","target":"factory"},{"source":"53578014","target":"factory_train"},{"source":"95cd6bf9","target":"6d337a84"},{"source":"6d5873ac","target":"in_out_train.impute"},{"source":"d28f4db6","target":"ec0ad2a0"},{"source":"72ac6e43","target":"d7ff3fc5"},{"source":"e87168af","target":"dd5a69ac"},{"source":"6ac1368f","target":"train"},{"source":"uplift","target":"19040e7c"},{"source":"73930ef2","target":"factory"},{"source":"factory_train.on_off_logic","target":"6ffb551a"},{"source":"514660c5","target":"24710762"},{"source":"602f06fc","target":"2e97b838"},{"source":"train","target":"dc0abb8b"},{"source":"53578014","target":"train"},{"source":"53578014","target":"8835772a"},{"source":"train.train_model","target":"dc0abb8b"},{"source":"f8948258","target":"089a8e9a"},{"source":"6ac1368f","target":"a8bef9b5"},{"source":"6d5873ac","target":"72ac6e43"},{"source":"factory_train.impute","target":"d7ff3fc5"},{"source":"2d3c0374","target":"a8bef9b5"},{"source":"eefd807e","target":"fe81cbe2"},{"source":"456488de","target":"fa4ebf1b"},{"source":"train.train_model","target":"320ef4e8"},{"source":"1f876261","target":"in_out_train.clean"},{"source":"test","target":"94dd8ecd"},{"source":"53578014","target":"in_out_test.clean"},{"source":"factory","target":"12ee06f3"},{"source":"6ffb551a","target":"train.create_features"},{"source":"5540a3fb","target":"in_out_test"},{"source":"843b0b03","target":"0bc424f4"},{"source":"1f876261","target":"44bc2d21"},{"source":"ff79c0d9","target":"12ee06f3"},{"source":"53578014","target":"factory_test.impute"},{"source":"53578014","target":"train.train_model"},{"source":"cf7dcb8f","target":"factory_test.impute"},{"source":"7397d2dc","target":"3a8062a5"},{"source":"b633dd0b","target":"train"},{"source":"3f69a9b8","target":"in_out.pandas_profiling"},{"source":"factory.impute","target":"1161a87b"},{"source":"0298a817","target":"9eb96a09"},{"source":"c3f72bfd","target":"93d3a479"},{"source":"e4821861","target":"d1733133"},{"source":"6d337a84","target":"3464b488"},{"source":"factory","target":"1161a87b"},{"source":"53578014","target":"c0020a3e"},{"source":"f23452a4","target":"0298a817"},{"source":"1161a87b","target":"2978a7f5"},{"source":"7ba4e963","target":"bf435119"},{"source":"ca959a2d","target":"factory.split"},{"source":"6d5873ac","target":"factory_train.impute"},{"source":"6ac1368f","target":"7d43885c"},{"source":"factory_test.impute","target":"eefd807e"},{"source":"05877538","target":"a624849b"},{"source":"f4cccc1a","target":"74555d8b"},{"source":"0e9ed868","target":"factory.pandas_profiling"},{"source":"1f876261","target":"in_out_test"},{"source":"24c3ce33","target":"bf435119"},{"source":"6d5873ac","target":"22cfe9cd"},{"source":"456488de","target":"24710762"},{"source":"73930ef2","target":"factory.split"},{"source":"4faa7a1e","target":"d89b2a45"},{"source":"16cae681","target":"54e2783c"},{"source":"6d5873ac","target":"in_out_test"},{"source":"6ac1368f","target":"test"},{"source":"factory.split","target":"12ee06f3"},{"source":"24c3ce33","target":"55758695"},{"source":"a771381b","target":"in_out_train.clean"},{"source":"f44bd53f","target":"a99c5c0f"},{"source":"63186f26","target":"22cfe9cd"},{"source":"62e203cf","target":"dec9c820"},{"source":"53578014","target":"test"},{"source":"3a8062a5","target":"502829ed"},{"source":"94dd8ecd","target":"uplift"},{"source":"b5b5b6b2","target":"in_out"},{"source":"e6c1e1d0","target":"089a8e9a"},{"source":"1f876261","target":"893a3f7f"},{"source":"456488de","target":"7d7e1704"},{"source":"6d5873ac","target":"7be9f72e"},{"source":"53578014","target":"factory.impute"},{"source":"1161a87b","target":"72ac6e43"},{"source":"94dd8ecd","target":"ae98f5f5"},{"source":"88c843ae","target":"ee508f00"},{"source":"4bd93139","target":"b4716bd3"},{"source":"eefd807e","target":"factory_test.on_off_logic"},{"source":"94dd8ecd","target":"recommend"},{"source":"31cb9133","target":"35336154"},{"source":"a771381b","target":"700b6aec"},{"source":"in_out.split","target":"62e203cf"},{"source":"6ac1368f","target":"train.create_features"},{"source":"dd5a69ac","target":"a4d73089"},{"source":"10ce7f66","target":"c329efd1"},{"source":"f4cccc1a","target":"train"},{"source":"53578014","target":"eb1aa767"},{"source":"86b7300b","target":"train"},{"source":"53578014","target":"in_out_train.impute"},{"source":"53578014","target":"train.create_features"},{"source":"ed0ecc71","target":"e87168af"},{"source":"53578014","target":"factory_test.on_off_logic"},{"source":"893a3f7f","target":"d2fb21a0"},{"source":"in_out_test","target":"7178598e"},{"source":"9b9921db","target":"c329efd1"},{"source":"b46c6fb9","target":"train"},{"source":"4d95b087","target":"ce9f17e7"},{"source":"0613286f","target":"factory_test"},{"source":"6ffb551a","target":"ed0ecc71"},{"source":"ef57a1fc","target":"88c843ae"},{"source":"1f876261","target":"87d52565"},{"source":"54e2783c","target":"a624849b"},{"source":"602f06fc","target":"721854e3"},{"source":"f38b4714","target":"factory.impute"},{"source":"12ee06f3","target":"f44bd53f"},{"source":"593a4f96","target":"eb1aa767"},{"source":"d28f4db6","target":"factory_train.clean"},{"source":"53578014","target":"in_out"},{"source":"456488de","target":"c8f70ca9"},{"source":"048b398b","target":"train.train_model"},{"source":"bf1ae95c","target":"ddc6c97b"},{"source":"d2fb21a0","target":"in_out_train.impute"},{"source":"in_out","target":"5540a3fb"},{"source":"0613286f","target":"factory_train"},{"source":"in_out_train.impute","target":"f4cccc1a"},{"source":"86b7300b","target":"train.train_model"},{"source":"1f876261","target":"93d3a479"},{"source":"a4d73089","target":"602f06fc"},{"source":"ee95fd1e","target":"3464b488"},{"source":"614a4cd8","target":"dd5a69ac"},{"source":"in_out_train","target":"f4cccc1a"},{"source":"b46c6fb9","target":"train.train_model"},{"source":"2996dd8e","target":"893a3f7f"},{"source":"7178598e","target":"aebdea6c"},{"source":"b99ee270","target":"3f156da8"},{"source":"1f876261","target":"988261ac"},{"source":"3d29088c","target":"845526ea"},{"source":"0c78911d","target":"35336154"}],"layers":["raw","intermediate","primary","feature","model_input","models","model_output"],"tags":[{"id":"data-eng","name":"data-eng"},{"id":"data-engineering","name":"data-engineering"},{"id":"data-science","name":"data-science"},{"id":"eda","name":"eda"},{"id":"imputation","name":"imputation"},{"id":"notebooks","name":"notebooks"},{"id":"optimisation","name":"optimisation"},{"id":"pre-processing","name":"pre-processing"},{"id":"predictions","name":"predictions"},{"id":"recommendations","name":"recommendations"},{"id":"reporting","name":"reporting"},{"id":"sensitivity","name":"sensitivity"},{"id":"training","name":"training"},{"id":"transcoding","name":"transcoding"},{"id":"visualisation","name":"visualisation"}],"pipelines":[{"id":"pandas_profiling","name":"pandas_profiling"},{"id":"eda","name":"eda"},{"id":"split","name":"split"},{"id":"clean","name":"clean"},{"id":"impute_fit","name":"impute_fit"},{"id":"impute_transform","name":"impute_transform"},{"id":"on_off_logic","name":"on_off_logic"},{"id":"create_features","name":"create_features"},{"id":"train_model","name":"train_model"},{"id":"recommend","name":"recommend"},{"id":"recommend_uplift_report","name":"recommend_uplift_report"},{"id":"recommend_sensitivity","name":"recommend_sensitivity"},{"id":"transcoding_demo","name":"transcoding_demo"},{"id":"__default__","name":"__default__"}],"modular_pipelines":{"__root__":{"id":"__root__","name":"__root__","inputs":[],"outputs":[],"children":[{"id":"63186f26","type":"data"},{"id":"593a4f96","type":"data"},{"id":"test","type":"modularPipeline"},{"id":"f23452a4","type":"data"},{"id":"d3f3241a","type":"data"},{"id":"54e2783c","type":"data"},{"id":"7ba4e963","type":"data"},{"id":"6fd8074d","type":"parameters"},{"id":"a624849b","type":"task"},{"id":"a771381b","type":"data"},{"id":"b7bde39a","type":"data"},{"id":"sensitivity","type":"modularPipeline"},{"id":"845526ea","type":"task"},{"id":"24c3ce33","type":"data"},{"id":"3f69a9b8","type":"data"},{"id":"d7ff3fc5","type":"data"},{"id":"73930ef2","type":"data"},{"id":"d407a8cf","type":"data"},{"id":"d28f4db6","type":"data"},{"id":"6ffb551a","type":"data"},{"id":"1f876261","type":"parameters"},{"id":"778c88c9","type":"parameters"},{"id":"9eb96a09","type":"data"},{"id":"recommend","type":"modularPipeline"},{"id":"320ef4e8","type":"data"},{"id":"factory_train","type":"modularPipeline"},{"id":"1161a87b","type":"data"},{"id":"f8e6b6f3","type":"task"},{"id":"86b7300b","type":"parameters"},{"id":"in_out_test","type":"modularPipeline"},{"id":"0e9ed868","type":"parameters"},{"id":"b46c6fb9","type":"parameters"},{"id":"5540a3fb","type":"data"},{"id":"in_out_train","type":"modularPipeline"},{"id":"3db9b130","type":"data"},{"id":"7178598e","type":"data"},{"id":"94dd8ecd","type":"data"},{"id":"9b9921db","type":"data"},{"id":"6ac1368f","type":"parameters"},{"id":"b7c5a4e0","type":"data"},{"id":"16cae681","type":"task"},{"id":"train","type":"modularPipeline"},{"id":"95cd6bf9","type":"task"},{"id":"62e203cf","type":"data"},{"id":"f8948258","type":"parameters"},{"id":"048b398b","type":"parameters"},{"id":"e6c1e1d0","type":"data"},{"id":"ae9b6150","type":"data"},{"id":"9a97cfe0","type":"data"},{"id":"6526dd55","type":"data"},{"id":"10ce7f66","type":"data"},{"id":"05877538","type":"data"},{"id":"456488de","type":"parameters"},{"id":"ddc6c97b","type":"task"},{"id":"uplift","type":"modularPipeline"},{"id":"0613286f","type":"parameters"},{"id":"5d57686d","type":"parameters"},{"id":"843b0b03","type":"parameters"},{"id":"ca959a2d","type":"parameters"},{"id":"factory","type":"modularPipeline"},{"id":"f4cccc1a","type":"data"},{"id":"b633dd0b","type":"parameters"},{"id":"71a945b5","type":"data"},{"id":"3464b488","type":"task"},{"id":"f38b4714","type":"parameters"},{"id":"70c65095","type":"data"},{"id":"in_out","type":"modularPipeline"},{"id":"d2fb21a0","type":"data"},{"id":"d6744468","type":"task"},{"id":"ee95fd1e","type":"data"},{"id":"2d3c0374","type":"data"},{"id":"6d337a84","type":"data"},{"id":"factory_test","type":"modularPipeline"},{"id":"42d73649","type":"data"},{"id":"ce869767","type":"parameters"},{"id":"b5b5b6b2","type":"parameters"},{"id":"53578014","type":"data"},{"id":"c9058d39","type":"data"},{"id":"6d5873ac","type":"data"},{"id":"cf7dcb8f","type":"data"},{"id":"a4d73089","type":"data"},{"id":"19040e7c","type":"data"},{"id":"12ee06f3","type":"data"},{"id":"dc0abb8b","type":"data"},{"id":"eefd807e","type":"data"},{"id":"e4821861","type":"data"}]},"factory.pandas_profiling":{"id":"factory.pandas_profiling","name":"factory.pandas_profiling","inputs":["73930ef2","0e9ed868"],"outputs":[],"children":[{"id":"2596e632","type":"task"}]},"factory":{"id":"factory","name":"factory","inputs":["ca959a2d","6d5873ac","73930ef2","0e9ed868","53578014","f38b4714"],"outputs":["d28f4db6","1161a87b","12ee06f3"],"children":[{"id":"factory.split","type":"modularPipeline"},{"id":"factory.impute","type":"modularPipeline"},{"id":"factory.pandas_profiling","type":"modularPipeline"}]},"in_out.pandas_profiling":{"id":"in_out.pandas_profiling","name":"in_out.pandas_profiling","inputs":["3f69a9b8","b5b5b6b2"],"outputs":[],"children":[{"id":"7a65da0d","type":"task"}]},"in_out":{"id":"in_out","name":"in_out","inputs":["b5b5b6b2","d2fb21a0","53578014","778c88c9","3f69a9b8","5d57686d"],"outputs":["a771381b","5540a3fb","62e203cf"],"children":[{"id":"in_out.impute","type":"modularPipeline"},{"id":"in_out.split","type":"modularPipeline"},{"id":"in_out.pandas_profiling","type":"modularPipeline"}]},"factory.split":{"id":"factory.split","name":"factory.split","inputs":["ca959a2d","73930ef2"],"outputs":["d28f4db6","12ee06f3"],"children":[{"id":"ff79c0d9","type":"task"}]},"in_out.split":{"id":"in_out.split","name":"in_out.split","inputs":["3f69a9b8","778c88c9"],"outputs":["a771381b","62e203cf"],"children":[{"id":"31fb7cc8","type":"task"}]},"in_out_test.clean":{"id":"in_out_test.clean","name":"in_out_test.clean","inputs":["62e203cf","53578014","1f876261"],"outputs":["63186f26"],"children":[{"id":"93d3a479","type":"task"},{"id":"dec9c820","type":"task"},{"id":"b83dff93","type":"data"},{"id":"87d52565","type":"task"},{"id":"4d95b087","type":"data"},{"id":"4bd93139","type":"data"},{"id":"bf34f92f","type":"data"},{"id":"666587bd","type":"task"},{"id":"b4716bd3","type":"task"},{"id":"ce9f17e7","type":"task"},{"id":"c3f72bfd","type":"data"},{"id":"3f156da8","type":"data"},{"id":"b99ee270","type":"task"}]},"in_out_test":{"id":"in_out_test","name":"in_out_test","inputs":["6d5873ac","62e203cf","5540a3fb","53578014","1f876261"],"outputs":["7178598e"],"children":[{"id":"in_out_test.impute","type":"modularPipeline"},{"id":"in_out_test.clean","type":"modularPipeline"}]},"factory_train.clean":{"id":"factory_train.clean","name":"factory_train.clean","inputs":["456488de","d28f4db6","53578014"],"outputs":["6d5873ac"],"children":[{"id":"073606b6","type":"data"},{"id":"c8f70ca9","type":"task"},{"id":"b10165f4","type":"task"},{"id":"61ffca7f","type":"data"},{"id":"7397d2dc","type":"task"},{"id":"8835772a","type":"task"},{"id":"ec0ad2a0","type":"task"},{"id":"f7082f22","type":"task"},{"id":"d02bfec9","type":"data"},{"id":"dec14f64","type":"data"},{"id":"502829ed","type":"task"},{"id":"3a8062a5","type":"data"},{"id":"861c59bf","type":"data"}]},"factory_train":{"id":"factory_train","name":"factory_train","inputs":["d28f4db6","1161a87b","456488de","0613286f","53578014"],"outputs":["6ffb551a"],"children":[{"id":"factory_train.clean","type":"modularPipeline"},{"id":"factory_train.on_off_logic","type":"modularPipeline"},{"id":"factory_train.impute","type":"modularPipeline"}]},"in_out_train.clean":{"id":"in_out_train.clean","name":"in_out_train.clean","inputs":["a771381b","53578014","1f876261"],"outputs":["d2fb21a0"],"children":[{"id":"700b6aec","type":"task"},{"id":"c81ae4f9","type":"data"},{"id":"0a1be393","type":"data"},{"id":"9c13d89f","type":"task"},{"id":"2996dd8e","type":"data"},{"id":"44bc2d21","type":"task"},{"id":"277dc1ee","type":"task"},{"id":"7a162ddc","type":"data"},{"id":"210adac8","type":"data"},{"id":"a57429e5","type":"task"},{"id":"988261ac","type":"task"},{"id":"f8d4e465","type":"data"},{"id":"893a3f7f","type":"task"}]},"in_out_train":{"id":"in_out_train","name":"in_out_train","inputs":["6d5873ac","5540a3fb","53578014","a771381b","1f876261"],"outputs":["f4cccc1a"],"children":[{"id":"in_out_train.clean","type":"modularPipeline"},{"id":"in_out_train.impute","type":"modularPipeline"}]},"factory_test.clean":{"id":"factory_test.clean","name":"factory_test.clean","inputs":["456488de","53578014","12ee06f3"],"outputs":["cf7dcb8f"],"children":[{"id":"d9a62050","type":"data"},{"id":"f44bd53f","type":"task"},{"id":"ef57a1fc","type":"data"},{"id":"a229cbdc","type":"data"},{"id":"fa4ebf1b","type":"task"},{"id":"516628d2","type":"task"},{"id":"24710762","type":"task"},{"id":"ee508f00","type":"data"},{"id":"514660c5","type":"data"},{"id":"7d7e1704","type":"task"},{"id":"88c843ae","type":"task"},{"id":"e3fadeda","type":"task"},{"id":"a99c5c0f","type":"data"}]},"factory_test":{"id":"factory_test","name":"factory_test","inputs":["6d5873ac","1161a87b","456488de","0613286f","53578014","12ee06f3"],"outputs":["2d3c0374"],"children":[{"id":"factory_test.impute","type":"modularPipeline"},{"id":"factory_test.on_off_logic","type":"modularPipeline"},{"id":"factory_test.clean","type":"modularPipeline"}]},"factory.impute":{"id":"factory.impute","name":"factory.impute","inputs":["6d5873ac","53578014","f38b4714"],"outputs":["1161a87b"],"children":[{"id":"7be9f72e","type":"task"}]},"in_out.impute":{"id":"in_out.impute","name":"in_out.impute","inputs":["d2fb21a0","53578014","5d57686d"],"outputs":["5540a3fb"],"children":[{"id":"11a72273","type":"task"}]},"in_out_test.impute":{"id":"in_out_test.impute","name":"in_out_test.impute","inputs":["6d5873ac","5540a3fb","53578014","63186f26"],"outputs":["7178598e"],"children":[{"id":"22cfe9cd","type":"task"}]},"factory_test.impute":{"id":"factory_test.impute","name":"factory_test.impute","inputs":["6d5873ac","1161a87b","cf7dcb8f","53578014"],"outputs":["eefd807e"],"children":[{"id":"2978a7f5","type":"task"}]},"factory_train.impute":{"id":"factory_train.impute","name":"factory_train.impute","inputs":["6d5873ac","1161a87b","53578014"],"outputs":["d7ff3fc5"],"children":[{"id":"72ac6e43","type":"task"}]},"in_out_train.impute":{"id":"in_out_train.impute","name":"in_out_train.impute","inputs":["d2fb21a0","6d5873ac","5540a3fb","53578014"],"outputs":["f4cccc1a"],"children":[{"id":"1d7fffba","type":"task"}]},"factory_test.on_off_logic":{"id":"factory_test.on_off_logic","name":"factory_test.on_off_logic","inputs":["eefd807e","0613286f","53578014"],"outputs":["2d3c0374"],"children":[{"id":"fe81cbe2","type":"task"},{"id":"eb1aa767","type":"task"}]},"factory_train.on_off_logic":{"id":"factory_train.on_off_logic","name":"factory_train.on_off_logic","inputs":["0613286f","53578014","d7ff3fc5"],"outputs":["6ffb551a"],"children":[{"id":"690d415b","type":"task"},{"id":"4b7d240f","type":"task"}]},"test.create_features":{"id":"test.create_features","name":"test.create_features","inputs":["7178598e","6ac1368f","53578014","2d3c0374"],"outputs":["94dd8ecd"],"children":[{"id":"35336154","type":"task"},{"id":"2ea5719f","type":"task"},{"id":"a8bef9b5","type":"task"},{"id":"test.create_features.factory_test_with_off_equipment_to_zero","type":"modularPipeline"},{"id":"test.create_features.in_out_test_imputed","type":"modularPipeline"},{"id":"0c78911d","type":"data"},{"id":"aebdea6c","type":"task"},{"id":"7d43885c","type":"task"}]},"test":{"id":"test","name":"test","inputs":["7178598e","6ac1368f","53578014","2d3c0374"],"outputs":["94dd8ecd"],"children":[{"id":"test.create_features","type":"modularPipeline"}]},"train.create_features":{"id":"train.create_features","name":"train.create_features","inputs":["f4cccc1a","6ac1368f","53578014","6ffb551a"],"outputs":["a4d73089"],"children":[{"id":"train.create_features.in_out_train_imputed","type":"modularPipeline"},{"id":"74555d8b","type":"task"},{"id":"train.create_features.factory_train_with_off_equipment_to_zero","type":"modularPipeline"},{"id":"ed0ecc71","type":"task"},{"id":"906b727f","type":"task"},{"id":"e87168af","type":"data"},{"id":"dd5a69ac","type":"task"}]},"train":{"id":"train","name":"train","inputs":["6ac1368f","86b7300b","b633dd0b","f8948258","b46c6fb9","53578014","048b398b","6ffb551a","f4cccc1a","843b0b03"],"outputs":["dc0abb8b","320ef4e8","b7bde39a"],"children":[{"id":"train.train_model","type":"modularPipeline"},{"id":"train.create_features","type":"modularPipeline"}]},"train.create_features.factory_train_with_off_equipment_to_zero":{"id":"train.create_features.factory_train_with_off_equipment_to_zero","name":"train.create_features.factory_train_with_off_equipment_to_zero","inputs":[],"outputs":[],"children":[{"id":"614a4cd8","type":"data"}]},"train.create_features.in_out_train_imputed":{"id":"train.create_features.in_out_train_imputed","name":"train.create_features.in_out_train_imputed","inputs":[],"outputs":[],"children":[{"id":"85d157bf","type":"data"}]},"test.create_features.in_out_test_imputed":{"id":"test.create_features.in_out_test_imputed","name":"test.create_features.in_out_test_imputed","inputs":[],"outputs":[],"children":[{"id":"a12a727e","type":"data"}]},"test.create_features.factory_test_with_off_equipment_to_zero":{"id":"test.create_features.factory_test_with_off_equipment_to_zero","name":"test.create_features.factory_test_with_off_equipment_to_zero","inputs":[],"outputs":[],"children":[{"id":"31cb9133","type":"data"}]},"train.train_model":{"id":"train.train_model","name":"train.train_model","inputs":["86b7300b","b633dd0b","f8948258","b46c6fb9","53578014","048b398b","843b0b03","a4d73089"],"outputs":["dc0abb8b","320ef4e8","b7bde39a"],"children":[{"id":"d89b2a45","type":"task"},{"id":"089a8e9a","type":"task"},{"id":"fe300198","type":"data"},{"id":"4faa7a1e","type":"data"},{"id":"e9c51d85","type":"task"},{"id":"602f06fc","type":"task"},{"id":"2e97b838","type":"data"},{"id":"721854e3","type":"data"},{"id":"c0020a3e","type":"task"},{"id":"c329efd1","type":"task"},{"id":"68d6f757","type":"task"},{"id":"0bc424f4","type":"task"}]},"recommend":{"id":"recommend","name":"recommend","inputs":["94dd8ecd","ce869767","f23452a4","53578014"],"outputs":["d407a8cf"],"children":[{"id":"ae98f5f5","type":"task"}]},"uplift":{"id":"uplift","name":"uplift","inputs":["c58671fa","94dd8ecd","53578014","e4821861"],"outputs":["19040e7c"],"children":[{"id":"55758695","type":"task"},{"id":"d1733133","type":"task"},{"id":"bf435119","type":"task"}]},"sensitivity":{"id":"sensitivity","name":"sensitivity","inputs":["f23452a4","6fd8074d","94dd8ecd","53578014","e4821861"],"outputs":["9eb96a09"],"children":[{"id":"0298a817","type":"task"}]}},"selected_pipeline":"__default__"}')},232:function(e){e.exports=JSON.parse('{"edges":[{"source":"pipeline","target":"modular-pipelines"},{"source":"pipeline","target":"tags"},{"source":"pipeline","target":"disabled"},{"source":"modular-pipelines","target":"disabled"},{"source":"tags","target":"disabled"},{"source":"pipeline","target":"edges"},{"source":"modular-pipelines","target":"edges"},{"source":"disabled","target":"edges"},{"source":"disabled","target":"ranks"},{"source":"edges","target":"ranks"},{"source":"disabled","target":"layers"},{"source":"disabled","target":"node-types"},{"source":"pipeline","target":"nodes"},{"source":"modular-pipelines","target":"nodes"},{"source":"disabled","target":"nodes"},{"source":"ranks","target":"nodes"},{"source":"nodes","target":"layout"},{"source":"edges","target":"layout"},{"source":"disabled","target":"layout"},{"source":"nodes","target":"metadata"},{"source":"edges","target":"linked-nodes"},{"source":"metadata","target":"layout"}],"nodes":[{"id":"pipeline","name":"pipeline","type":"task"},{"id":"modular-pipelines","name":"modular-pipelines","type":"task"},{"id":"tags","name":"tags","type":"task"},{"id":"disabled","name":"disabled","type":"task"},{"id":"edges","name":"edges","type":"task"},{"id":"ranks","name":"ranks","type":"task"},{"id":"nodes","name":"nodes","type":"task"},{"id":"layers","name":"layers","type":"task"},{"id":"layout","name":"layout","type":"task"},{"id":"linked-nodes","name":"linked-nodes","type":"task"},{"id":"loading","name":"loading","type":"task"},{"id":"metadata","name":"metadata","type":"task"},{"id":"node-types","name":"node-types","type":"task"},{"id":"loading","name":"loading","type":"task"}]}')},355:function(e,t,a){var i=a(356),n=["graphNew"];e.exports=function(){var e=new Worker(URL.createObjectURL(new Blob(['/*! For license information please see 14bc9bf54256a8b7f8a7.worker.js.LICENSE.txt */\n!function(t){var e={};function r(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=e,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(o,n,function(e){return t[e]}.bind(null,n));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="./",r(r.s=0)}([function(t,e,r){"use strict";r.r(e),r.d(e,"graphNew",(function(){return Z}));const o=.5*Math.PI,n=(t,e)=>Math.round(t/e)*e,i=(t,e)=>Math.atan2(t.y-e.y,t.x-e.x),s=t=>t.x-.5*t.width,a=t=>t.x+.5*t.width,c=t=>t.y-.5*t.height,u=t=>t.y+.5*t.height,p=t=>{const e={};for(const n of t)e[n.y]=e[n.y]||[],e[n.y].push(n);const r=Object.keys(e).map((t=>parseFloat(t)));r.sort(((t,e)=>t-e));const o=r.map((t=>e[t]));for(let n=0;n<o.length;n+=1){o[n].sort(((t,e)=>f(t.x,e.x,t.id,e.id)));for(const t of o[n])t.row=n}return o},f=function(t,e){const r="string"===typeof t?t.localeCompare(e):t-e;for(var o=arguments.length,n=new Array(o>2?o-2:0),i=2;i<o;i++)n[i-2]=arguments[i];return 0!==r||0===n.length?r:f(...n)},h=(t,e,r,o,n,i)=>{const s=n-r,a=i-o,c=(f=1,(u=((t-r)*s+(e-o)*a)/(s*s+a*a||1))<(p=0)?p:u>f?f:u);var u,p,f;return{x:r+s*c,y:o+a*c,ax:r,ay:o,bx:n,by:i}};function l(){return new d}var d=function(){function t(){this.index={},this.array=[]}return t.prototype.size=function(){return this.array.length},t.prototype.empty=function(){return 0===this.array.length},t.prototype.itemAt=function(t){return this.array[t]},t.prototype.contains=function(t){return void 0!==this.index[t.id()]},t.prototype.find=function(t){var e=this.index[t.id()];return void 0===e?void 0:this.array[e]},t.prototype.setDefault=function(t,e){var r=this.index[t.id()];if(void 0===r){var o=new y(t,e());return this.index[t.id()]=this.array.length,this.array.push(o),o}return this.array[r]},t.prototype.insert=function(t,e){var r=new y(t,e),o=this.index[t.id()];return void 0===o?(this.index[t.id()]=this.array.length,this.array.push(r)):this.array[o]=r,r},t.prototype.erase=function(t){var e=this.index[t.id()];if(void 0!==e){this.index[t.id()]=void 0;var r=this.array[e],o=this.array.pop();return r!==o&&(this.array[e]=o,this.index[o.first.id()]=e),r}},t.prototype.copy=function(){for(var e=new t,r=0;r<this.array.length;r++){var o=this.array[r].copy();e.array[r]=o,e.index[o.first.id()]=r}return e},t}(),y=function(){function t(t,e){this.first=t,this.second=e}return t.prototype.copy=function(){return new t(this.first,this.second)},t}(),m=function(){function t(t){void 0===t&&(t=""),this._value=0,this._context=null,this._id=v++,this._name=t}return t.prototype.id=function(){return this._id},t.prototype.name=function(){return this._name},t.prototype.setName=function(t){this._name=t},t.prototype.context=function(){return this._context},t.prototype.setContext=function(t){this._context=t},t.prototype.value=function(){return this._value},t.prototype.setValue=function(t){this._value=t},t.prototype.plus=function(t){return new g(this,t)},t.prototype.minus=function(t){return new g(this,"number"===typeof t?-t:[-1,t])},t.prototype.multiply=function(t){return new g([t,this])},t.prototype.divide=function(t){return new g([1/t,this])},t.prototype.toJSON=function(){return{name:this._name,value:this._value}},t.prototype.toString=function(){return this._context+"["+this._name+":"+this._value+"]"},t}(),v=0,g=function(){function t(){var t=_(arguments);this._terms=t.terms,this._constant=t.constant}return t.prototype.terms=function(){return this._terms},t.prototype.constant=function(){return this._constant},t.prototype.value=function(){for(var t=this._constant,e=0,r=this._terms.size();e<r;e++){var o=this._terms.itemAt(e);t+=o.first.value()*o.second}return t},t.prototype.plus=function(e){return new t(this,e)},t.prototype.minus=function(e){return new t(this,"number"===typeof e?-e:[-1,e])},t.prototype.multiply=function(e){return new t([e,this])},t.prototype.divide=function(e){return new t([1/e,this])},t.prototype.isConstant=function(){return 0==this._terms.size()},t.prototype.toString=function(){var t=this._terms.array.map((function(t){return t.second+"*"+t.first.toString()})).join(" + ");return this.isConstant()||0===this._constant||(t+=" + "),t+=this._constant},t}();function _(t){for(var e=0,r=function(){return 0},o=l(),n=0,i=t.length;n<i;++n){var s=t[n];if("number"===typeof s)e+=s;else if(s instanceof m)o.setDefault(s,r).second+=1;else if(s instanceof g){e+=s.constant();for(var a=0,c=(h=s.terms()).size();a<c;a++){var u=h.itemAt(a);o.setDefault(u.first,r).second+=u.second}}else{if(!(s instanceof Array))throw new Error("invalid Expression argument: "+s);if(2!==s.length)throw new Error("array must have length 2");var p=s[0],f=s[1];if("number"!==typeof p)throw new Error("array item 0 must be a number");if(f instanceof m)o.setDefault(f,r).second+=p;else{if(!(f instanceof g))throw new Error("array item 1 must be a variable or expression");e+=f.constant()*p;var h;for(a=0,c=(h=f.terms()).size();a<c;a++){u=h.itemAt(a);o.setDefault(u.first,r).second+=u.second*p}}}}return{terms:o,constant:e}}var b,x=function(){function t(){}return t.create=function(t,e,r,o){void 0===o&&(o=1);var n=0;return n+=1e6*Math.max(0,Math.min(1e3,t*o)),n+=1e3*Math.max(0,Math.min(1e3,e*o)),n+=Math.max(0,Math.min(1e3,r*o))},t.clip=function(e){return Math.max(0,Math.min(t.required,e))},t.required=t.create(1e3,1e3,1e3),t.strong=t.create(1,0,0),t.medium=t.create(0,1,0),t.weak=t.create(0,0,1),t}();!function(t){t[t.Le=0]="Le",t[t.Ge=1]="Ge",t[t.Eq=2]="Eq"}(b||(b={}));var w,M=function(){function t(t,e,r,o){void 0===o&&(o=x.required),this._id=S++,this._operator=e,this._strength=x.clip(o),this._expression=void 0===r&&t instanceof g?t:t.minus(r)}return t.prototype.id=function(){return this._id},t.prototype.expression=function(){return this._expression},t.prototype.op=function(){return this._operator},t.prototype.strength=function(){return this._strength},t.prototype.toString=function(){return this._expression.toString()+" "+["<=",">=","="][this._operator]+" 0 ("+this._strength.toString()+")"},t}(),S=0,E=function(){function t(){this._cnMap=l(),this._rowMap=l(),this._varMap=l(),this._editMap=l(),this._infeasibleRows=[],this._objective=new A,this._artificial=null,this._idTick=0}return t.prototype.createConstraint=function(t,e,r,o){void 0===o&&(o=x.required);var n=new M(t,e,r,o);return this.addConstraint(n),n},t.prototype.addConstraint=function(t){if(void 0!==this._cnMap.find(t))throw new Error("duplicate constraint");var e=this._createRow(t),r=e.row,o=e.tag,n=this._chooseSubject(r,o);if(n.type()===w.Invalid&&r.allDummies()){if(!N(r.constant()))throw new Error("unsatisfiable constraint");n=o.marker}if(n.type()===w.Invalid){if(!this._addWithArtificialVariable(r))throw new Error("unsatisfiable constraint")}else r.solveFor(n),this._substitute(n,r),this._rowMap.insert(n,r);this._cnMap.insert(t,o),this._optimize(this._objective)},t.prototype.removeConstraint=function(t){var e=this._cnMap.erase(t);if(void 0===e)throw new Error("unknown constraint");this._removeConstraintEffects(t,e.second);var r=e.second.marker,o=this._rowMap.erase(r);if(void 0===o){var n=this._getMarkerLeavingSymbol(r);if(n.type()===w.Invalid)throw new Error("failed to find leaving row");(o=this._rowMap.erase(n)).second.solveForEx(n,r),this._substitute(r,o.second)}this._optimize(this._objective)},t.prototype.hasConstraint=function(t){return this._cnMap.contains(t)},t.prototype.addEditVariable=function(t,e){if(void 0!==this._editMap.find(t))throw new Error("duplicate edit variable");if((e=x.clip(e))===x.required)throw new Error("bad required strength");var r=new g(t),o=new M(r,b.Eq,void 0,e);this.addConstraint(o);var n={tag:this._cnMap.find(o).second,constraint:o,constant:0};this._editMap.insert(t,n)},t.prototype.removeEditVariable=function(t){var e=this._editMap.erase(t);if(void 0===e)throw new Error("unknown edit variable");this.removeConstraint(e.second.constraint)},t.prototype.hasEditVariable=function(t){return this._editMap.contains(t)},t.prototype.suggestValue=function(t,e){var r=this._editMap.find(t);if(void 0===r)throw new Error("unknown edit variable");var o=this._rowMap,n=r.second,i=e-n.constant;n.constant=e;var s=n.tag.marker,a=o.find(s);if(void 0!==a)return a.second.add(-i)<0&&this._infeasibleRows.push(s),void this._dualOptimize();var c=n.tag.other;if(void 0!==(a=o.find(c)))return a.second.add(i)<0&&this._infeasibleRows.push(c),void this._dualOptimize();for(var u=0,p=o.size();u<p;++u){var f=o.itemAt(u),h=f.second,l=h.coefficientFor(s);0!==l&&h.add(i*l)<0&&f.first.type()!==w.External&&this._infeasibleRows.push(f.first)}this._dualOptimize()},t.prototype.updateVariables=function(){for(var t=this._varMap,e=this._rowMap,r=0,o=t.size();r<o;++r){var n=t.itemAt(r),i=e.find(n.second);void 0!==i?n.first.setValue(i.second.constant()):n.first.setValue(0)}},t.prototype._getVarSymbol=function(t){var e=this;return this._varMap.setDefault(t,(function(){return e._makeSymbol(w.External)})).second},t.prototype._createRow=function(t){for(var e=t.expression(),r=new A(e.constant()),o=e.terms(),n=0,i=o.size();n<i;++n){var s=o.itemAt(n);if(!N(s.second)){var a=this._getVarSymbol(s.first),c=this._rowMap.find(a);void 0!==c?r.insertRow(c.second,s.second):r.insertSymbol(a,s.second)}}var u=this._objective,p=t.strength(),f={marker:z,other:z};switch(t.op()){case b.Le:case b.Ge:var h=t.op()===b.Le?1:-1,l=this._makeSymbol(w.Slack);if(f.marker=l,r.insertSymbol(l,h),p<x.required){var d=this._makeSymbol(w.Error);f.other=d,r.insertSymbol(d,-h),u.insertSymbol(d,p)}break;case b.Eq:if(p<x.required){var y=this._makeSymbol(w.Error),m=this._makeSymbol(w.Error);f.marker=y,f.other=m,r.insertSymbol(y,-1),r.insertSymbol(m,1),u.insertSymbol(y,p),u.insertSymbol(m,p)}else{var v=this._makeSymbol(w.Dummy);f.marker=v,r.insertSymbol(v)}}return r.constant()<0&&r.reverseSign(),{row:r,tag:f}},t.prototype._chooseSubject=function(t,e){for(var r=t.cells(),o=0,n=r.size();o<n;++o){var i=r.itemAt(o);if(i.first.type()===w.External)return i.first}var s=e.marker.type();return(s===w.Slack||s===w.Error)&&t.coefficientFor(e.marker)<0?e.marker:((s=e.other.type())===w.Slack||s===w.Error)&&t.coefficientFor(e.other)<0?e.other:z},t.prototype._addWithArtificialVariable=function(t){var e=this._makeSymbol(w.Slack);this._rowMap.insert(e,t.copy()),this._artificial=t.copy(),this._optimize(this._artificial);var r=N(this._artificial.constant());this._artificial=null;var o=this._rowMap.erase(e);if(void 0!==o){var n=o.second;if(n.isConstant())return r;var i=this._anyPivotableSymbol(n);if(i.type()===w.Invalid)return!1;n.solveForEx(e,i),this._substitute(i,n),this._rowMap.insert(i,n)}for(var s=this._rowMap,a=0,c=s.size();a<c;++a)s.itemAt(a).second.removeSymbol(e);return this._objective.removeSymbol(e),r},t.prototype._substitute=function(t,e){for(var r=this._rowMap,o=0,n=r.size();o<n;++o){var i=r.itemAt(o);i.second.substitute(t,e),i.second.constant()<0&&i.first.type()!==w.External&&this._infeasibleRows.push(i.first)}this._objective.substitute(t,e),this._artificial&&this._artificial.substitute(t,e)},t.prototype._optimize=function(t){for(;;){var e=this._getEnteringSymbol(t);if(e.type()===w.Invalid)return;var r=this._getLeavingSymbol(e);if(r.type()===w.Invalid)throw new Error("the objective is unbounded");var o=this._rowMap.erase(r).second;o.solveForEx(r,e),this._substitute(e,o),this._rowMap.insert(e,o)}},t.prototype._dualOptimize=function(){for(var t=this._rowMap,e=this._infeasibleRows;0!==e.length;){var r=e.pop(),o=t.find(r);if(void 0!==o&&o.second.constant()<0){var n=this._getDualEnteringSymbol(o.second);if(n.type()===w.Invalid)throw new Error("dual optimize failed");var i=o.second;t.erase(r),i.solveForEx(r,n),this._substitute(n,i),t.insert(n,i)}}},t.prototype._getEnteringSymbol=function(t){for(var e=t.cells(),r=0,o=e.size();r<o;++r){var n=e.itemAt(r),i=n.first;if(n.second<0&&i.type()!==w.Dummy)return i}return z},t.prototype._getDualEnteringSymbol=function(t){for(var e=Number.MAX_VALUE,r=z,o=t.cells(),n=0,i=o.size();n<i;++n){var s=o.itemAt(n),a=s.first,c=s.second;if(c>0&&a.type()!==w.Dummy){var u=this._objective.coefficientFor(a)/c;u<e&&(e=u,r=a)}}return r},t.prototype._getLeavingSymbol=function(t){for(var e=Number.MAX_VALUE,r=z,o=this._rowMap,n=0,i=o.size();n<i;++n){var s=o.itemAt(n),a=s.first;if(a.type()!==w.External){var c=s.second,u=c.coefficientFor(t);if(u<0){var p=-c.constant()/u;p<e&&(e=p,r=a)}}}return r},t.prototype._getMarkerLeavingSymbol=function(t){for(var e=Number.MAX_VALUE,r=e,o=e,n=z,i=n,s=n,a=n,c=this._rowMap,u=0,p=c.size();u<p;++u){var f=c.itemAt(u),h=f.second,l=h.coefficientFor(t);if(0!==l){var d=f.first;if(d.type()===w.External)a=d;else if(l<0){(y=-h.constant()/l)<r&&(r=y,i=d)}else{var y;(y=h.constant()/l)<o&&(o=y,s=d)}}}return i!==n?i:s!==n?s:a},t.prototype._removeConstraintEffects=function(t,e){e.marker.type()===w.Error&&this._removeMarkerEffects(e.marker,t.strength()),e.other.type()===w.Error&&this._removeMarkerEffects(e.other,t.strength())},t.prototype._removeMarkerEffects=function(t,e){var r=this._rowMap.find(t);void 0!==r?this._objective.insertRow(r.second,-e):this._objective.insertSymbol(t,-e)},t.prototype._anyPivotableSymbol=function(t){for(var e=t.cells(),r=0,o=e.size();r<o;++r){var n=e.itemAt(r),i=n.first.type();if(i===w.Slack||i===w.Error)return n.first}return z},t.prototype._makeSymbol=function(t){return new k(t,this._idTick++)},t}();function N(t){return t<0?-t<1e-8:t<1e-8}!function(t){t[t.Invalid=0]="Invalid",t[t.External=1]="External",t[t.Slack=2]="Slack",t[t.Error=3]="Error",t[t.Dummy=4]="Dummy"}(w||(w={}));var k=function(){function t(t,e){this._id=e,this._type=t}return t.prototype.id=function(){return this._id},t.prototype.type=function(){return this._type},t}(),z=new k(w.Invalid,-1),A=function(){function t(t){void 0===t&&(t=0),this._cellMap=l(),this._constant=t}return t.prototype.cells=function(){return this._cellMap},t.prototype.constant=function(){return this._constant},t.prototype.isConstant=function(){return this._cellMap.empty()},t.prototype.allDummies=function(){for(var t=this._cellMap,e=0,r=t.size();e<r;++e){if(t.itemAt(e).first.type()!==w.Dummy)return!1}return!0},t.prototype.copy=function(){var e=new t(this._constant);return e._cellMap=this._cellMap.copy(),e},t.prototype.add=function(t){return this._constant+=t},t.prototype.insertSymbol=function(t,e){void 0===e&&(e=1),N(this._cellMap.setDefault(t,(function(){return 0})).second+=e)&&this._cellMap.erase(t)},t.prototype.insertRow=function(t,e){void 0===e&&(e=1),this._constant+=t._constant*e;for(var r=t._cellMap,o=0,n=r.size();o<n;++o){var i=r.itemAt(o);this.insertSymbol(i.first,i.second*e)}},t.prototype.removeSymbol=function(t){this._cellMap.erase(t)},t.prototype.reverseSign=function(){this._constant=-this._constant;for(var t=this._cellMap,e=0,r=t.size();e<r;++e){var o=t.itemAt(e);o.second=-o.second}},t.prototype.solveFor=function(t){var e=this._cellMap,r=-1/e.erase(t).second;this._constant*=r;for(var o=0,n=e.size();o<n;++o)e.itemAt(o).second*=r},t.prototype.solveForEx=function(t,e){this.insertSymbol(t,-1),this.solveFor(e)},t.prototype.coefficientFor=function(t){var e=this._cellMap.find(t);return void 0!==e?e.second:0},t.prototype.substitute=function(t,e){var r=this._cellMap.erase(t);void 0!==r&&this.insertRow(e,r.second)},t}();const j=(t,e,r)=>{for(let o=0;o<e;o+=1)for(const e of t)e.base.solve(e,r)},O=(t,e)=>{const r=new E,o={},n=(t,e)=>"".concat(t.id,"_").concat(e),i=(t,e)=>{const r=n(t,e);if(!o[r]){const n=o[r]=new m;n.property=e,n.obj=t}};for(const u of t)i(u.a,u.base.property),i(u.b,u.base.property);let s=0;for(const u of t)try{r.addConstraint(u.base.strict(u,e,o[n(u.a,u.base.property)],o[n(u.b,u.base.property)]))}catch(c){s+=1}s>0&&console.warn("Skipped ".concat(s," unsolvable constraints")),r.updateVariables();const a=Object.values(o);for(const u of a)u.obj[u.property]=u.value()},C={property:"y",strict:(t,e,r,o)=>new M(r.minus(o),b.Ge,e.spaceY,x.required)},F={property:"y",strict:(t,e,r,o)=>new M(r.minus(o),b.Ge,e.layerSpace,x.required)},R={property:"x",solve:t=>{const{a:e,b:r,strength:o}=t,n=o*(e.x-r.x);e.x-=n,r.x+=n},strict:(t,e,r,o)=>new M(r.minus(o),b.Eq,0,x.create(1,0,0,t.strength))},D={property:"x",solve:t=>{const{edgeA:e,edgeB:r,separationA:o,separationB:n,strength:i}=t,s=i*((e.sourceNode.x-r.sourceNode.x-o)/o),a=i*((e.targetNode.x-r.targetNode.x-n)/n);e.sourceNode.x-=s,r.sourceNode.x+=s,e.targetNode.x-=a,r.targetNode.x+=a}},q={property:"x",strict:(t,e,r,o)=>new M(o.minus(r),b.Ge,t.separation,x.required)},P=t=>t.map((t=>({base:C,a:t.targetNode,b:t.sourceNode}))),V=(t,e)=>{const r=[];if(!e)return r;const o=e.map((e=>t.filter((t=>t.nearestLayer===e))));for(let n=0;n<o.length-1;n+=1){const t=o[n],e=o[n+1],i={id:"layer-".concat(n),x:0,y:0};for(const o of t)r.push({base:F,a:i,b:o});for(const o of e)r.push({base:F,a:o,b:i})}return r},X=(t,e)=>{const{spaceX:r}=e,o=[];for(let n=0;n<t.length;n+=1){const e=t[n],{sourceNode:i,targetNode:s}=e,a=i.sources.length+i.targets.length+s.sources.length+s.targets.length;for(let c=n+1;c<t.length;c+=1){const n=t[c],{sourceNode:u,targetNode:p}=n;if(i.row>=p.row||s.row<=u.row)continue;const f=u.sources.length+u.targets.length+p.sources.length+p.targets.length;o.push({base:D,edgeA:e,edgeB:n,separationA:.5*i.width+r+.5*u.width,separationB:.5*s.width+r+.5*p.width,strength:1/Math.max(1,(a+f)/4)})}}return o},I=t=>t.map((t=>{let{sourceNode:e,targetNode:r}=t;return{base:R,a:e,b:r,strength:.6/Math.max(1,e.targets.length+r.sources.length-2)}})),L=(t,e)=>{const{spaceX:r}=e,o=[];for(let i=0;i<t.length;i+=1){const s=t[i];s.sort(((t,e)=>f(t.x,e.x,t.id,e.id)));for(let t=0;t<s.length-1;t+=1){const i=s[t],a=s[t+1],c=Math.max(1,i.targets.length+i.sources.length-2),u=Math.max(1,a.targets.length+a.sources.length-2),p=Math.min(10,c*u*e.spreadX),f=n(p*r,r);o.push({base:q,a:i,b:a,separation:.5*i.width+f+.5*a.width})}}return o},G=function(t,e,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.25,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.25;const s=T(t),a=Math.round(r*i);let c=0;for(let u=0;u<e.length-1;u+=1){const t=s[u]||0;c+=n(t*o*r,a);for(const r of e[u+1])r.y+=c}},T=t=>{const e={};for(const r of t){const t=Math.abs(i(r.targetNode,r.sourceNode)-o)/o,n=r.sourceNode.row,s=r.targetNode.row-1;e[n]=e[n]||[0,0],e[n][0]+=t,e[n][1]+=1,s!==n&&(e[s]=e[s]||[0,0],e[s][0]+=t,e[s][1]+=1)}for(const r in e)e[r]=e[r][0]/(e[r][1]||1);return Object.values(e)},Y={layout:{spaceX:14,spaceY:110,layerSpaceY:55,spreadX:2.2,padding:100,iterations:25},routing:{spaceX:26,spaceY:28,minPassageGap:40,stemUnit:8,stemMinSource:5,stemMinTarget:5,stemMax:20,stemSpaceSource:6,stemSpaceTarget:10}},B=function(t,e,r){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Y;U(t,e),W(t,r),(t=>{let{nodes:e,edges:r,layers:o,spaceX:n,spaceY:i,spreadX:s,layerSpaceY:a,iterations:c}=t;for(const p of e)p.x=0,p.y=0;const u={spaceX:n,spaceY:i,spreadX:s,layerSpace:.5*(i+a)},f=P(r),h=V(e,o);O([...f,...h],u);const l=p(e),d=X(r,u),y=I(r,u);for(let p=0;p<c;p+=1)j(d,1,u),j(y,50,u);const m=L(l,u);O([...m,...y],u),G(r,l,i)})({nodes:t,edges:e,layers:r,...o.layout}),(t=>{let{nodes:e,edges:r,spaceX:o,spaceY:n,minPassageGap:l,stemUnit:d,stemMinSource:y,stemMinTarget:m,stemMax:v,stemSpaceSource:g,stemSpaceTarget:_}=t;const b=p(e);for(const s of e)s.targets.sort(((t,e)=>f(i(e.sourceNode,e.targetNode),i(t.sourceNode,t.targetNode))));for(const i of r){const t=i.sourceNode,e=i.targetNode;i.points=[];const r=Math.min((t.width-g)/t.targets.length,g)*(t.targets.indexOf(i)-.5*(t.targets.length-1));let u={x:t.x+r,y:t.y};for(let p=t.row+1;p<e.row;p+=1){const t=b[p][0];let e={x:s(t)-o,y:t.y},f=1/0;const d=[{...t,x:Number.MIN_SAFE_INTEGER},...b[p],{...t,x:Number.MAX_SAFE_INTEGER}];for(let r=0;r<d.length-1;r+=1){const t=d[r],i=d[r+1],p=s(i)-a(t);if(p<l)continue;const y=Math.min(o,.5*p),m=h(u.x,u.y,a(t)+y,c(t)-n,s(i)-y,c(i)-n),v=(x=u.x,w=m.x,Math.abs(x-w));if(v>f)break;v<f&&(f=v,e=m)}const y=t.height+n;i.points.push({x:e.x+r,y:e.y}),i.points.push({x:e.x+r,y:e.y+y}),u={x:e.x,y:e.y+y}}}var x,w;for(const s of e)s.targets.sort(((t,e)=>f(i(e.sourceNode,e.points[0]||e.targetNode),i(t.sourceNode,t.points[0]||t.targetNode)))),s.sources.sort(((t,e)=>f(i(t.points[t.points.length-1]||t.sourceNode,t.targetNode),i(e.points[e.points.length-1]||e.sourceNode,e.targetNode))));for(const i of r){const t=i.sourceNode,e=i.targetNode,r=Math.min((t.width-g)/t.targets.length,g),o=Math.min((e.width-_)/e.sources.length,_),n=t.targets.indexOf(i)-.5*(t.targets.length-1),s=e.sources.indexOf(i)-.5*(e.sources.length-1),a=r*n,p=o*s,f=d*t.targets.length*(1-Math.abs(n)/t.targets.length),h=d*e.sources.length*(1-Math.abs(s)/e.sources.length),l=[{x:t.x+a,y:u(t)},{x:t.x+a,y:u(t)+y},{x:t.x+a,y:u(t)+y+Math.min(f,v)}],b=[{x:e.x+p,y:c(e)-m-Math.min(h,v)},{x:e.x+p,y:c(e)-m},{x:e.x+p,y:c(e)}],x=[...l,...i.points,...b];let w=x[0].y;for(const i of x)i.y<w?i.y=w:w=i.y;i.points=x}})({nodes:t,edges:e,layers:r,...o.routing});const n=Q(t,o.layout.padding);return t.forEach((t=>((t,e)=>(t.x=t.x-e.x,t.y=t.y-e.y,t.order=t.x+9999*t.y,t))(t,n.min))),e.forEach((t=>((t,e)=>(t.points.forEach((t=>{t.x=t.x-e.x,t.y=t.y-e.y})),t))(t,n.min))),{nodes:t,edges:e,layers:r,size:n}},U=(t,e)=>{const r={};for(const o of t)r[o.id]=o,o.targets=[],o.sources=[];for(const o of e)o.sourceNode=r[o.source],o.targetNode=r[o.target],o.sourceNode.targets.push(o),o.targetNode.sources.push(o)},W=(t,e)=>{if(e&&e.length>0){const r={};for(const t of e)r[t]=!0;const o=t=>Boolean(t&&t.layer in r),n=e[e.length-1];for(const e of t){const t=K(e,J,H,o);e.nearestLayer=t?t.layer:n}}},J=t=>t.targets.map((t=>t.targetNode)),H=(t,e)=>t.rank-e.rank,K=(t,e,r,o,n)=>{if(o(t))return t;(n=n||{})[t.id]=!0;return e(t).filter((t=>!n[t.id])).sort(r).map((t=>K(t,e,r,o,n))).filter(o).sort(r)[0]},Q=(t,e)=>{const r={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}};for(const o of t){const t=o.x,e=o.y;t<r.min.x&&(r.min.x=t),t>r.max.x&&(r.max.x=t),e<r.min.y&&(r.min.y=e),e>r.max.y&&(r.max.y=e)}return r.width=r.max.x-r.min.x+2*e,r.height=r.max.y-r.min.y+2*e,r.min.x-=e,r.min.y-=e,r},Z=t=>{let{nodes:e,edges:r,layers:o}=t;for(const i of e){i.iconSize=i.iconSize||24,i.icon=i.icon||"node";const t={x:20,y:10},e=7*(i&&i.fullName&&i.fullName.length||i&&i.name&&i.name.length),r=6,o=i.iconSize+e+r;i.width=i.width||o+2*t.x,i.height=i.height||i.iconSize+2*t.y,i.textOffset=i.textOffset||(o-e)/2,i.iconOffset=i.iconOffset||-o/2}const n=B(e,r,o);return{...n,size:{...n.size,marginx:100,marginy:100}}};addEventListener("message",(function(t){var r,o=t.data,n=o.type,i=o.method,s=o.id,a=o.params;"RPC"===n&&i&&((r=e[i])?Promise.resolve().then((function(){return r.apply(e,a)})):Promise.reject("No such method")).then((function(t){postMessage({type:"RPC",id:s,result:t})})).catch((function(t){var e={message:t};t.stack&&(e.message=t.message,e.stack=t.stack,e.name=t.name),postMessage({type:"RPC",id:s,error:e})}))})),postMessage({type:"RPC",method:"ready"})}]);'])),{name:"[hash].worker.js"});return i(e,n),e}},359:function(e,t,a){},360:function(e,t,a){},361:function(e,t,a){},362:function(e,t,a){},368:function(e,t,a){},369:function(e,t,a){},370:function(e,t,a){},371:function(e,t,a){},372:function(e,t,a){},373:function(e,t,a){},374:function(e,t,a){},375:function(e,t,a){},380:function(e,t,a){},381:function(e,t,a){},382:function(e,t,a){},383:function(e,t,a){},384:function(e,t,a){},385:function(e,t,a){},386:function(e,t,a){},387:function(e,t,a){},388:function(e,t,a){},410:function(e,t,a){},411:function(e,t,a){},412:function(e,t,a){},512:function(e,t,a){},513:function(e,t,a){},514:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){},517:function(e,t,a){},518:function(e,t,a){},519:function(e,t,a){},520:function(e,t,a){},521:function(e,t,a){},522:function(e,t,a){},523:function(e,t,a){},524:function(e,t,a){},525:function(e,t,a){},526:function(e,t,a){},527:function(e,t,a){},528:function(e,t,a){},529:function(e,t,a){},533:function(e,t,a){},534:function(e,t,a){},535:function(e,t,a){},536:function(e,t,a){},537:function(e,t,a){},538:function(e,t,a){},539:function(e,t,a){},540:function(e,t,a){},548:function(e,t){},549:function(e,t,a){},550:function(e,t,a){"use strict";a.r(t);var i=a(1),n=a.n(i),s=a(202),r=a(8),o=(a(135),a(73)),l=a(208),c=a(205),d=a.n(c);const p="RESET_DATA";function u(e){return{type:p,data:e}}const m="TOGGLE_LAYERS";const _="TOGGLE_EXPORT_MODAL";function h(e){return{type:_,visible:e}}const b="TOGGLE_SHAREABLE_URL_MODAL";function f(e){return{type:b,visible:e}}const g="TOGGLE_SETTINGS_MODAL";function y(e){return{type:g,visible:e}}const j="TOGGLE_METADATA_MODAL";function v(e){return{type:j,visible:e}}const x="TOGGLE_GRAPH";const O="TOGGLE_TEXT_LABELS";const w="TOGGLE_IS_PRETTY_NAME";const k="TOGGLE_SHOW_FEATURE_HINTS";function N(e){return{type:k,showFeatureHints:e}}const T="TOGGLE_SIDEBAR";const M="TOGGLE_THEME";const S="UPDATE_CHART_SIZE";const z="UPDATE_ZOOM";function E(e){return{type:z,zoom:e}}const C="TOGGLE_MINIMAP";const P="CHANGE_FLAG";function A(e,t){return{type:P,name:e,value:t}}const L="TOGGLE_IGNORE_LARGE_WARNING";const D="TOGGLE_CODE";const R="TOGGLE_PARAMETERS_HOVERED";const V="TOGGLE_MODULAR_PIPELINE_FOCUS_MODE";function I(e){return{type:V,modularPipeline:e}}const B="TOGGLE_HOVERED_FOCUS_MODE";const H="TOGGLE_BOOKMARK";function U(e,t){return{type:H,bookmark:e,runId:t}}const q="UPDATE_RUN_TITLE";const G="UPDATE_RUN_NOTES";var F=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return Object.assign({},e,{[t.runId]:{...e[t.runId],bookmark:t.bookmark}});case q:return Object.assign({},e,{[t.runId]:{...e[t.runId],title:t.title}});case G:return Object.assign({},e,{[t.runId]:{...e[t.runId],notes:t.notes}});default:return e}};var Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===P?Object.assign({},e,{[t.name]:t.value}):e};const J="undefined"!==typeof jest,K=a(J?551:355),X=(W=K,J?()=>{const e={terminate:()=>{}};return Object.keys(W).forEach((t=>{e[t]=e=>new Promise((a=>a(W[t](e))))})),e}:W);var W;const Y="TOGGLE_GRAPH_LOADING";function Q(e){return{type:Y,loading:e}}const $="UPDATE_GRAPH_LAYOUT";function ee(e){return{type:$,graph:e}}const te=function(e,t){let a=e(),i=!1;return n=>(i&&(a.terminate(),a=e()),i=!0,t(a,n).then((e=>(i=!1,e))))}(X,(async(e,t)=>e.graphNew(t)));function ae(e){return e?async function(t){t(Q(!0));const a=await te(e);return t({type:x,visible:!0}),t(Q(!1)),t(ee(a))}:ee(e)}var ie=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===$?(a=t.graph,Object.assign({},e,a)):e;var a};var ne=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===m?Object.assign({},e,{visible:t.visible}):e};const se="./api",re=(e,t)=>{const a={};return e.forEach((e=>{a[e]=t(e)})),a},oe=(e,t)=>{switch(e){case"main":return[se,"main"].join("/");case"pipeline":if(!t)throw new Error("No pipeline ID provided");return[se,"pipelines",t].join("/");case"nodes":if(!t)throw new Error("No node ID provided");return[se,"nodes",t].join("/");default:throw new Error("Unknown URL type")}},le=(e,t,a)=>a.indexOf(e)===t,ce=e=>{if((null===e||void 0===e?void 0:e.length)>0){return e.replaceAll("<b>","@$1$@").replaceAll("</b>","@$2$@").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll("@$1$@","<b>").replaceAll("@$2$@","</b>")}return e},de=e=>{const t=new RegExp("[A-Za-z0-9-_]+\\.","g");return e.replace(t,"")},pe=e=>e.replace(/-/g," ").replace(/_/g," ").replace(/:/g,": ").trim().replace(/(^|\s)\S/g,(e=>e.toUpperCase())),ue=e=>{const t=1e3;if(e){if(e<t)return"".concat(e," bytes");if(e<1e6){return"".concat((e/t).toFixed(1),"KB")}return"".concat((e/1e6).toFixed(1),"MB")}return"N/A"},me=()=>-1!==["localhost","127.0.0.1","demo.kedro.org"].indexOf(window.location.hostname),_e=()=>{const{pathname:e}=window.location,t=((e,t)=>{if((null===e||void 0===e?void 0:e.length)>0){const a=new RegExp(Object.keys(t).join("|"),"gi");return e.replace(a,(e=>t[e]))}return e})(e,{"experiment-tracking":""});return t.endsWith("/")?t:"".concat(t,"/")};async function he(){return await fetch("/api/package-compatibilities",{headers:{"Content-Type":"application/json",Accept:"application/json"}})}var be=a(594);var fe=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe("main"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(be.a)(e).catch((()=>{const a="/public".concat(e.substr(1));if(e===oe("main"))throw new Error("Unable to load data from ".concat(e,". If you're running Kedro-Viz as a standalone (e.g. for JavaScript development), please check that you have placed a data file at ").concat(a,"."));return new Promise((e=>e(t)))}))},ge=a(31),ye=a.n(ge);const je="KedroViz",ve="KedroViz-link-to-flowchart",xe="KedroViz-metrics-chart-select",Oe="KedroViz-runs-metadata",we={fromURL:null,showGoBackBtn:!1},ke={closed:0,open:400},Ne={breakpoint:700,closed:136,open:480,pipelineUI:344},Te={closed:0,open:480},Me="#d5d8da",Se="#eaebed",ze="#0e222d",Ee="#21333e",Ce={sizewarning:{name:"Size warning",description:"Show a warning before rendering very large graphs",default:!0,icon:"\ud83d\udc33"},expandAllPipelines:{name:"Expand all modular pipelines",description:"Expand all modular pipelines on first load",default:!1,icon:"\ud83d\udd1b"}},Pe={name:"Pretty name",description:"Display a formatted name for the kedro nodes",default:!0},Ae={name:"New feature hints",description:"Enable or disable all new feature hints in the interface.",default:!0},Le={elementType:"Element types",tag:"Tags"},De={task:"Nodes",data:"Datasets",parameters:"Parameters"},Re={"plotly.plotly_dataset.PlotlyDataset":"plotly","plotly.json_dataset.JSONDataset":"plotly","matplotlib.matplotlib_writer.MatplotlibWriter":"image","tracking.json_dataset.JSONDataset":"JSONTracking","tracking.metrics_dataset.MetricsDataset":"metricsTracking","plotly.plotly_dataset.PlotlyDataSet":"plotly","plotly.json_dataset.JSONDataSet":"plotly","tracking.json_dataset.JSONDataSet":"JSONTracking","tracking.metrics_dataset.MetricsDataSet":"metricsTracking"},Ve=["Overview","Metrics","Plots"],Ie="focused_id",Be="selected_id",He="selected_name",Ue="pipeline_id",qe="run_ids",Ge="view",Fe="comparison",Ze="".concat(Ue,"=:pipelineId"),Je=_e(),Ke={flowchart:{main:Je,focusedNode:"".concat(Je,"?").concat(Ze,"&").concat(Ie,"=:id"),selectedNode:"".concat(Je,"?").concat(Ze,"&").concat(Be,"=:id"),selectedName:"".concat(Je,"?").concat(Ze,"&").concat(He,"=:fullName"),selectedPipeline:"".concat(Je,"?").concat(Ze)},experimentTracking:{main:"".concat(Je,"experiment-tracking"),selectedView:"".concat(Je,"experiment-tracking?").concat(Ge,"=:view"),selectedRuns:"".concat(Je,"experiment-tracking?").concat(qe,"=:ids&").concat(Ge,"=:view&").concat(Fe,"=:isComparison")}},Xe='Please check the value of "selected_id" or "selected_name" in the URL',We='Please check the value of "focused_id" in the URL',Ye='Please check the value of "pipeline_id" in the URL',Qe='Please check the spelling of "run_ids" or "view" or "comparison" in the URL. It may be a typo \ud83d\ude07',$e='Please check the value of "run_ids" in the URL. Perhaps you\'ve deleted the entity \ud83d\ude48 or it may be a typo \ud83d\ude07',et=["rows","columns","file_size"],tt={aws:"Amazon Web Services",gcp:"Google Cloud",azure:"Microsoft Azure"},at={bucket_name:"hasBucketName",platform:"hasPlatform",endpoint:"hasEndpoint"},it="https://docs.kedro.org/projects/kedro-viz/en/latest/",nt="".concat(it,"share_kedro_viz.html"),st="".concat(it,"preview_datasets.html#disabling-previews"),rt="".concat(it,"publish_and_share_kedro_viz_on_aws.html#set-up-endpoint"),ot="".concat(it,"publish_and_share_kedro_viz_on_azure.html#set-up-endpoint"),lt="".concat(it,"publish_and_share_kedro_viz_on_gcp.html#set-up-endpoint"),ct="undefined"===typeof window,dt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je;if(ct)return{};try{const t=window.localStorage.getItem(e);return null===t?{}:JSON.parse(t)}catch(t){return console.error(t),{}}},pt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;if(!ct)try{const a=Object.assign(dt(e),t);a.hasOwnProperty("nodeTypeDisabled")&&delete a.nodeTypeDisabled;const i=JSON.stringify(a);window.localStorage.setItem(e,i)}catch(a){console.error(a)}},ut=e=>{const t={};for(let a in e)e.hasOwnProperty(a)&&e[a]&&(t[a]=e[a]);return t};var mt=(e,t)=>{const a={pipeline:{ids:[],name:{}},modularPipeline:{ids:[],tree:{},visible:{},expanded:[],active:{},disabled:{}},node:{ids:[],name:{},fullName:{},type:{},tags:{},layer:{},disabled:{},pipelines:{},clicked:null,hovered:null,fetched:{},code:{},parameters:{},filepath:{},inputs:{},outputs:{},plot:{},image:{},trackingData:{},datasetType:{},originalType:{},transcodedTypes:{},runCommand:{},modularPipelines:{}},nodeType:{ids:["task","data","parameters","modularPipeline"],name:{data:"Datasets",task:"Nodes",parameters:"Parameters",modularPipeline:"Modular Pipelines"},disabled:{parameters:!0,task:!1,data:!1}},edge:{ids:[],sources:{},targets:{}},layer:{ids:[],name:{},visible:!0},tag:{ids:[],name:{},active:{},enabled:{}},hoveredParameters:!1,hoveredFocusMode:!1};if("json"===e?a.dataSource="json":e.source&&(a.dataSource=e.source),!(e=>{if(!e)throw new Error("No data provided to Kedro-Viz");if("json"===e)return!1;if(!Array.isArray(e.edges)||!Array.isArray(e.nodes))throw"undefined"===typeof jest&&console.error("Invalid Kedro-Viz data:",e),new Error("Invalid Kedro-Viz data input. Please ensure that your pipeline data includes arrays of nodes and edges");return!0})(e))return a;if(e.nodes.forEach((e=>t=>{const{id:a}=t;e.node.name[a]||(e.node.ids.push(a),e.node.name[a]=pe(de(t.name||"")),e.node.fullName[a]=t.name,e.node.type[a]=t.type,e.node.layer[a]=t.layer,e.node.pipelines[a]=t.pipelines?re(t.pipelines,(()=>!0)):{},e.node.tags[a]=t.tags||[],e.node.code[a]=t.code,e.node.parameters[a]=t.parameters,e.node.filepath[a]=t.filepath,e.node.datasetType[a]=t.dataset_type,e.node.originalType[a]=t.original_type,e.node.transcodedTypes[a]=t.transcoded_types,e.node.runCommand[a]=t.runCommand,e.node.modularPipelines[a]=t.modular_pipelines||[])})(a)),e.edges.forEach((e=>t=>{let{source:a,target:i}=t;const n=((e,t)=>[e,t].join("|"))(a,i);e.edge.ids.includes(n)||(e.edge.ids.push(n),e.edge.sources[n]=a,e.edge.targets[n]=i)})(a)),e.pipelines&&(e.pipelines.forEach((e=>t=>{const{id:a}=t;e.pipeline.name[a]||(e.pipeline.ids.push(a),e.pipeline.name[a]=pe(t.name||""))})(a)),a.pipeline.ids.length&&(a.pipeline.main=e.selected_pipeline||a.pipeline.ids[0],a.pipeline.active=a.pipeline.main)),e.modular_pipelines)if(a.modularPipeline.ids=Object.keys(e.modular_pipelines),a.modularPipeline.tree=(e=>{for(const t in e)if(e.hasOwnProperty(t)){const a=e[t];a.hasOwnProperty("name")&&(e[t]={...a,name:pe(a.name)})}return e})(e.modular_pipelines),t){a.modularPipeline.expanded=a.modularPipeline.ids;a.node.ids.forEach((e=>{a.modularPipeline.ids.includes(e)||(a.modularPipeline.visible[e]=!0)}))}else if(e.modular_pipelines&&e.modular_pipelines.__root__)for(const i of e.modular_pipelines.__root__.children||[])a.modularPipeline.visible[i.id]=!0;return e.tags&&e.tags.forEach((e=>t=>{const{id:a}=t;e.tag.ids.push(a),e.tag.name[a]=pe(t.name||"")})(a)),e.layers&&e.layers.forEach((e=>t=>{e.layer.ids.push(t),e.layer.name[t]=t})(a)),a};const _t={isDefined:e=>_t.names().includes(e),names:()=>Object.keys(Ce),defaults:()=>_t.names().reduce(((e,t)=>Object.assign(e,{[t]:Ce[t].default})),{})},ht=e=>{const t={};let a;try{a=new URL(e||document.location.href).searchParams}catch(i){return console.warn("Feature flags are not supported in this browser"),t}return[...a].forEach((e=>{let[a,i]=e;return _t.isDefined(a)?t[a]="true"===i||"1"===i||""===i:null})),t},bt=e=>{const t=dt(je),a=dt(Oe);Object.keys(t).forEach((a=>{e[a]||delete t[a]}));const i={...t,runsMetadata:a};return ye()(e,i)},ft=(e,t,a)=>{const i=bt(mt(e,a)),n=new URLSearchParams(window.location.search),s=n.get(Ue),r=n.get(Be),o=n.get(He);return s&&(i.pipeline.ids.includes(s)?i.pipeline.active=s:i.pipeline.active=i.pipeline.main),["parameters","task","data"].includes(i.node.type[r])&&(i.nodeType.disabled[i.node.type[r]]=!1),o&&(i.nodeType.disabled.data=!1),t&&(i.pipeline.ids.includes(i.pipeline.active)||(i.pipeline.active=i.pipeline.main)),i},gt=e=>{var t,a;const i=bt({chartSize:{},flags:_t.defaults(),textLabels:!0,theme:"dark",isPrettyName:Pe.default,showFeatureHints:Ae.default,ignoreLargeWarning:!1,loading:{graph:!1,pipeline:!1,node:!1},visible:{code:!1,exportBtn:!0,exportModal:!1,graph:!0,labelBtn:!0,layerBtn:!0,metadataModal:!1,miniMap:!0,miniMapBtn:!0,modularPipelineFocusMode:null,settingsModal:!1,shareableUrlModal:!1,sidebar:window.innerWidth>Ne.breakpoint},display:{globalToolbar:!0,sidebar:!0,miniMap:!0,expandAllPipelines:!1},zoom:{},runsMetadata:{}});let n={};return!1!==(null===(t=e.display)||void 0===t?void 0:t.sidebar)&&!1!==i.display.sidebar||(n.sidebar=!1),!1!==(null===(a=e.display)||void 0===a?void 0:a.minimap)&&!1!==i.display.miniMap||(n.miniMap=!1),{...i,flags:{...i.flags,...ht()},theme:e.theme||i.theme,visible:{...i.visible,...e.visible,...n},display:{...i.display,...e.display}}};var yt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=gt(e),a=t.display.expandAllPipelines||t.flags.expandAllPipelines,i=ft(e.data,"json"!==e.data,a);return{...t,...i}};const jt="UPDATE_ACTIVE_PIPELINE";const vt="TOGGLE_PIPELINE_LOADING";function xt(e){return{type:vt,loading:e}}const Ot=e=>e.active===e.main?oe("main"):oe("pipeline",e.active);function wt(e){return async function(t,a){const{dataSource:i,pipeline:n,display:s,flags:r}=a();if(!e||e!==n.active)if("json"===i){t(xt(!0));const a=Ot({main:n.main,active:e}),i=s.expandAllPipelines||r.expandAllPipelines,o=await fe(a).then((e=>ft(e,!1,i)));o.pipeline.active=e,t(u(o)),t(xt(!1))}else t(function(e){return{type:jt,pipeline:e}}(e))}}const kt="TOGGLE_NODE_CLICKED";function Nt(e){return{type:kt,nodeClicked:e}}const Tt="TOGGLE_NODES_DISABLED";const Mt="TOGGLE_NODE_HOVERED";function St(e){return{type:Mt,nodeHovered:e}}const zt="TOGGLE_NODE_DATA_LOADING";function Et(e){return{type:zt,loading:e}}const Ct="ADD_NODE_METADATA";function Pt(e){return async function(t,a){const{dataSource:i,node:n}=a();if(t(Nt(e)),"json"===i&&e&&!n.fetched[e]){t(Et(!0));const a=oe("nodes",e),i=await fe(a);t({type:Ct,data:{id:e,data:i}}),t(Et(!1))}}}var At=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case vt:return Object.assign({},e,{pipeline:t.loading});case Y:return Object.assign({},e,{graph:t.loading});case zt:return Object.assign({},e,{node:t.loading});default:return e}};var Lt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const a=t=>Object.assign({},e,t);switch(t.type){case kt:return a({clicked:t.nodeClicked});case Tt:return a({clicked:t.nodeIDs.includes(e.clicked)?null:e.clicked,disabled:t.nodeIDs.reduce(((e,a)=>Object.assign({},e,{[a]:t.isDisabled})),e.disabled)});case Mt:return a({hovered:t.nodeHovered});case jt:return a({clicked:null,hovered:null});case Ct:{const{id:i,data:n}=t.data;return a({fetched:Object.assign({},e.fetched,{[i]:!0}),code:Object.assign({},e.code,{[i]:n.code}),filepath:Object.assign({},e.filepath,{[i]:n.filepath}),parameters:Object.assign({},e.parameters,{[i]:n.parameters}),inputs:Object.assign({},e.inputs,{[i]:n.inputs}),outputs:Object.assign({},e.outputs,{[i]:n.outputs}),datasetType:Object.assign({},e.datasetType,{[i]:n.type}),originalType:Object.assign({},e.originalType,{[i]:n.original_type}),transcodedTypes:Object.assign({},e.transcodedTypes,{[i]:n.transcoded_types}),runCommand:Object.assign({},e.runCommand,{[i]:n.run_command}),preview:Object.assign({},e.preview,{[i]:n.preview}),previewType:Object.assign({},e.previewType,{[i]:n.preview_type}),stats:Object.assign({},e.stats,{[i]:n.stats})})}default:return e}};const Dt="TOGGLE_TYPE_DISABLED";const Rt={parameters:0,task:0,data:0},Vt=e=>!0===e;var It=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.type===Dt){const a={...e.disabled,...t.typeIDs};if(Object.values(a).every(Vt))return{...e,disabled:{...Rt}};for(const e in a)0===a[e]&&(a[e]=!0);return{...e,disabled:a}}return e};var Bt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===jt?Object.assign({},e,{active:t.pipeline}):e};const Ht="TOGGLE_TAG_ACTIVE";const Ut="TOGGLE_TAG_FILTER";var qt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const a=t=>Object.assign({},e,t),i=e=>t.tagIDs.reduce(((a,i)=>(a[i]=t[e],a)),{});switch(t.type){case Ht:return a({active:Object.assign({},e.active,i("active"))});case Ut:return a({enabled:Object.assign({},e.enabled,i("enabled"))});default:return e}};const Gt="TOGGLE_MODULAR_PIPELINE_ACTIVE";function Ft(e,t){return{type:Gt,modularPipelineIDs:Array.isArray(e)?e:[e],active:t}}const Zt="TOGGLE_MODULAR_PIPELINE_DISABLED";const Jt="TOGGLE_SINGLE_MODULAR_PIPELINE_EXPANDED";const Kt="TOGGLE_MODULAR_PIPELINES_EXPANDED";function Xt(e){return{type:Kt,expandedIDs:e}}var Wt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const a=t=>Object.assign({},e,t),i=e=>t.modularPipelineIDs.reduce(((a,i)=>(a[i]=t[e],a)),{});switch(t.type){case Gt:return a({active:Object.assign({},e.active,i("active"))});case Zt:return a({disabled:Object.assign({},e.disabled,i("disabled"))});case Jt:{const i={...e.visible};return i[t.modularPipelineID]=!1,e.tree[t.modularPipelineID].children.forEach((e=>i[e.id]=!0)),a({expanded:[...e.expanded,t.modularPipelineID],visible:i})}case Kt:{const i={...e.visible},n=t.expandedIDs.length>e.expanded.length;let s=t.expandedIDs;if(n&&e.ids.length>0){s.filter((t=>!e.expanded.includes(t))).forEach((t=>{i[t]=!1,e.tree[t].children.forEach((e=>i[e.id]=!0))}))}else{const t=e.expanded.filter((e=>!s.includes(e))),a=t=>{e.tree[t].children.forEach((e=>{i[e.id]=!1,"modularPipeline"===e.type&&a(e.id)}))};t.forEach((e=>{i[e]=!0,a(e),s=s.filter((t=>!t.startsWith(e)))}))}return a({expanded:s,visible:i})}default:return e}};var Yt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object.assign({},e,{graph:t.visible});case j:return Object.assign({},e,{metadataModal:t.visible});case _:return Object.assign({},e,{exportModal:t.visible});case b:return Object.assign({},e,{shareableUrlModal:t.visible});case g:return Object.assign({},e,{settingsModal:t.visible});case T:return Object.assign({},e,{sidebar:t.visible});case C:return Object.assign({},e,{miniMap:t.visible});case D:return Object.assign({},e,{code:t.visible});case V:return Object.assign({},e,{modularPipelineFocusMode:t.modularPipeline});default:return e}};const Qt=(e,t,a)=>function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=arguments.length>1?arguments[1]:void 0;return"undefined"!==typeof a&&n.type===t?n[a]:i};const $t=Object(o.b)({flags:Z,graph:ie,layer:ne,loading:At,node:Lt,nodeType:It,pipeline:Bt,tag:qt,modularPipeline:Wt,visible:Yt,runsMetadata:F,display:Qt(null),dataSource:Qt(null),edge:Qt({}),chartSize:Qt({},S,"chartSize"),zoom:Qt({},z,"zoom"),textLabels:Qt(!0,O,"textLabels"),theme:Qt("dark",M,"theme"),isPrettyName:Qt(!0,w,"isPrettyName"),showFeatureHints:Qt(!0,k,"showFeatureHints"),hoveredParameters:Qt(!1,R,"hoveredParameters"),ignoreLargeWarning:Qt(!1,L,"ignoreLargeWarning"),hoveredFocusMode:Qt(!1,B,"hoveredFocusMode")});var ea=(e,t)=>$t(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.type===p?Object.assign({},e,t.data):e}(e,t),t),ta=a(7),aa=a(595);const ia=e=>e.node.ids,na=Object(ta.a)([ia,e=>e.node.pipelines,e=>e.pipeline.active,e=>e.dataSource],((e,t,a,i)=>"json"!==i&&a?re(e,(e=>!t[e][a])):{})),sa=Object(ta.a)([ia,na],((e,t)=>e.filter((e=>!t[e])))),ra=Object(ta.a)([sa,e=>e.node.tags],((e,t)=>{const a={};return e.forEach((e=>{t[e].forEach((e=>{a[e]||(a[e]=!0)}))})),Object.keys(a)})),oa=(Object(ta.a)([sa,e=>e.node.modularPipelines,e=>e.modularPipeline.ids],((e,t,a)=>{const i={};return a.length>0&&e.forEach((e=>{t[e].forEach((e=>{e&&!i[e]&&(i[e]=!0)}))})),Object.keys(i)})),(e,t)=>{const a=(e=>!!e&&new RegExp("(".concat(la(e),")"),"gi"))(t),i=e.match(a);return t&&i?e.replace(a,"<b>".concat("$1","</b>")):e}),la=e=>e.replace(/[.*+?^${}<>()|[\]\\]/g,"\\$&"),ca=(e,t)=>!t||new RegExp(la(t),"gi").test(e),da=e=>e.visible.modularPipelineFocusMode,pa=e=>e.modularPipeline.tree,ua=(e,t)=>!(!e||!t)&&new RegExp(la(t),"gi").test(e),ma=e=>"modularPipeline"!==e.type,_a=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"__root__",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const n=t[a];if(!n)return!1;const s=[];for(const o of n.children)if(ma(o)){const t=ua(o.data.name,e),a=ua(o.data.oppositeForPrettyName,e);t?s.push({...o,data:{...o.data,highlightedLabel:oa(o.data.name,e)}}):a&&s.push({...o,data:{...o.data,highlightedLabel:oa(o.data.oppositeForPrettyName,e)}})}else{var r;if(_a(e,t,o.id,i))s.push({...o,highlightedLabel:oa((null===(r=i[o.id])||void 0===r?void 0:r.name)||"",e)})}return!!(s.length>0||ua(n.name,e))&&(i[a]={...n,highlightedLabel:oa(n.name,e),children:s},!0)},ha=e=>e.tag.enabled,ba=Object(ta.a)([ra,e=>e.tag.name,e=>e.tag.active,ha],((e,t,a,i)=>e.sort().map((e=>({id:e,name:t[e],active:Boolean(a[e]),enabled:Boolean(i[e])}))))),fa=Object(ta.a)([ra,ha],((e,t)=>({total:e.length,enabled:e.filter((e=>t[e])).length}))),ga=Object(ta.a)([e=>e.node.tags],(e=>{const t={};for(const a of Object.values(e))for(const e of a)t[e]=t[e]+1||1;return t})),ya=e=>e.node.ids,ja=e=>e.modularPipeline.visible,va=Object(ta.a)([ja,pa],((e,t)=>{const a=new Set;for(const i in e)e[i]&&i in t&&[...t[i].inputs,...t[i].outputs].forEach((e=>a.add(e)));return a})),xa=Object(ta.a)([ya,e=>e.tag.enabled,fa,e=>e.node.tags],((e,t,a,i)=>re(e,(e=>0!==a.enabled&&(!i[e].length||!i[e].some((e=>t[e]))))))),Oa=Object(ta.a)([ya,e=>e.node.disabled,xa,na,e=>e.node.type,e=>e.nodeType.disabled,e=>e.node.modularPipelines,pa,da,ja,va,e=>e.modularPipeline.disabled],((e,t,a,i,n,s,r,o,l,c,d,p)=>re(e,(e=>{let u=p[r[e]];const m=!c[e]&&!d.has(e);let _=!1;if(l){const t=[...o[l.id].inputs,...o[l.id].outputs];_="modularPipeline"===n[e]?e!==l.id&&!e.startsWith("".concat(l.id,".")):!r[e].includes(l.id)&&!t.includes(e)}return[t[e],a[e],i[e],p[e],s[n[e]],m,u,_].some(Boolean)})))),wa=Object(ta.a)([sa,Oa],((e,t)=>e.filter((e=>!t[e])))),ka=Object(ta.a)([wa,e=>e.node.layer,e=>e.layer.ids,e=>e.layer.visible],((e,t,a,i)=>{if(!i)return[];const n={};for(const s of e)n[t[s]]=!0;return a.filter((e=>n[e]))})),Na=Object(ta.a)([e=>e.edge.ids,Oa,e=>e.edge.sources,e=>e.edge.targets],((e,t,a,i)=>re(e,(e=>{const n=a[e],s=i[e];return Boolean(t[n]||t[s])}))));var Ta=(e,t)=>Re[e]||t,Ma=a(109),Sa=a.n(Ma);const za=e=>e.edge.ids,Ea=e=>e.edge.sources,Ca=e=>e.edge.targets,Pa=e=>e.node.modularPipelines,Aa=Object(ta.a)([e=>e.node.ids,za,Oa,Ea,Ca,da,Pa,e=>e.modularPipeline.visible],((e,t,a,i,n,s,r,o)=>{const l={edgeIDs:[],sources:{},targets:{}},c=e=>{t.forEach((t=>{const d=e[e.length-1];if(i[t]!==d)return;const p=n[t];if(!o[p])return;const u=null!==s&&!r[d].includes(s.id)&&!r[p].includes(s.id);a[p]?c(e.concat(p)):e.length>1&&!u&&((e,t,a)=>{let{edgeIDs:i,sources:n,targets:s}=a;const r=[e,t].join("|");i.includes(r)||(i.push(r),n[r]=e,s[r]=t)})(e[0],p,l)}))};return e.some((e=>a[e]))&&e.forEach((e=>{a[e]||c([e])})),l})),La=Object(ta.a)([za,Na,Ea,Ca,Aa],((e,t,a,i,n)=>e.filter((e=>!t[e])).concat(n.edgeIDs).map((e=>({id:e,source:a[e]||n.sources[e],target:i[e]||n.targets[e]}))))),Da=Object(ta.a)([La,Pa,da],((e,t,a)=>{const i={};return null!==a&&e.forEach((e=>{var n,s;null!==(n=t[e.source])&&void 0!==n&&n.includes(a.id)&&null!==(s=t[e.target])&&void 0!==s&&s.includes(a.id)||(i[e.id]=e)})),i})),Ra=Object(ta.a)([wa,ka,e=>e.node.layer],((e,t,a)=>{if(!t.length)return[];const i={};for(const n of e){const e=a[n];i[e]||(i[e]=[]),i[e].push(n)}return t.map((e=>i[e]))})),Va=Object(ta.a)([wa,La,Ra,ka],((e,t,a,i)=>{if(!i.length)return{};const n={};for(const o of e)n[o]=[];for(const o of t)n[o.source].push(o.target);for(let o=1;o<a.length;o++)for(const e of a[o-1])for(const t of a[o])n[e].push(t);const s=Sa()(n),r={};for(let o=0;o<s.length;o++)for(const e of s[o])r[e]=o;return r})),Ia=e=>e.node.name,Ba=e=>e.node.fullName,Ha=e=>e.node.disabled,Ua=e=>e.modularPipeline.disabled,qa=e=>e.node.modularPipelines,Ga=e=>e.node.type,Fa=e=>e.node.datasetType,Za=e=>e.isPrettyName,Ja=e=>e.nodeType.disabled,Ka=Object(ta.a)([e=>e.graph.nodes],(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce(((e,t)=>(e[t.id]=t,e)),{})})),Xa=Object(ta.a)([e=>e.node.tags,qa],((e,t)=>{const a={...e};return Object.entries(e).filter((e=>{let[,t]=e;return t.length>0})).forEach((e=>{let[i,n]=e;(t[i]||[]).forEach((e=>{a[e]||(a[e]=[]),n.forEach((t=>{a[e].includes(t)||a[e].push(t)}))}))})),a})),Wa=Object(ta.a)([sa,e=>e.node.hovered,Xa,e=>e.tag.active,qa,e=>e.modularPipeline.active,e=>e.modularPipeline.tree],((e,t,a,i,n,s,r)=>{const o=Object.keys(s).filter((e=>s[e])),l=o.flatMap((e=>r[e].children.map((e=>e.id))));return re(e,(e=>{if(e===t)return!0;const r=a[e].some((e=>i[e])),c=o.includes(e),d=l.includes(e)||n[e]&&n[e].some((e=>s[e]));return Boolean(r)||Boolean(d)||Boolean(c)}))})),Ya=Object(ta.a)([sa,e=>e.node.clicked,Oa],((e,t,a)=>re(e,(e=>e===t&&!a[e])))),Qa=Object(ta.a)([Za,Ia,Ba],((e,t,a)=>e?t:a)),$a=Object(ta.a)([Za,Ia,Ba],((e,t,a)=>e?a:t)),ei=Object(ta.a)([sa,Qa,Ga,Fa,Oa,Ua,Ha,xa,Ja,qa],((e,t,a,i,n,s,r,o,l,c)=>e.sort(((e,a)=>t[e]<t[a]?-1:t[e]>t[a]?1:0)).map((e=>({id:e,name:t[e],type:a[e],icon:Ta(i[e],a[e]),modularPipelines:c[e],disabled:n[e],disabledModularPipeline:Boolean(s[e]),disabledNode:Boolean(r[e]),disabledTag:o[e],disabledType:Boolean(l[a[e]])}))))),ti=Object(ta.a)([sa,Qa,Ga,Fa,Oa,Ua,Ha,xa,Ja,qa,$a],((e,t,a,i,n,s,r,o,l,c,d)=>e.reduce(((e,p)=>(e[p]={id:p,name:t[p],oppositeForPrettyName:d[p],type:a[p],icon:Ta(i[p],a[p]),modularPipelines:c[p],disabled:n[p],disabledModularPipeline:Boolean(s[p]),disabledNode:Boolean(r[p]),disabledTag:Boolean(o[p]),disabledType:Boolean(l[a[p]])},e)),{}))),ai=Object(ta.a)([e=>e.modularPipeline.tree,ti],((e,t)=>{if(!e)return{};for(const a in e){e[a].data={...t[a]};for(const i of e[a].children)i.data={...t[i.id]}}return e})),ii=Object(ta.a)([ei],(e=>e.reduce((function(e,t){const a=t.type;return e.hasOwnProperty(a)||(e[a]=[]),e[a].push(t),e}),{}))),ni=Object(ta.a)([sa,Qa],((e,t)=>{const a={},i=Object(aa.a)(document.body).append("svg").attr("class","kedro pipeline-node");return i.selectAll("text").data(e).enter().append("text").text((e=>t[e])).each((function(e){const t=this.getBBox?this.getBBox().width:0;a[e]=t})),i.remove(),a})),si=Object(ta.a)([sa,ni,e=>e.textLabels,Ga],((e,t,a,i)=>re(e,(e=>{const n=a?24:28,s=((e,t)=>{if(e)switch(t){case"modularPipeline":return{x:30,y:22};case"task":return{x:16,y:10};default:return{x:20,y:10}}switch(t){case"modularPipeline":return{x:25,y:25};case"task":return{x:14,y:14};default:return{x:16,y:16}}})(a,i[e]),r=a?t[e]:0,o=n+r+(a?6:0);return{showText:a,width:o+2*s.x,height:n+2*s.y,textOffset:(o-r)/2-1,iconOffset:-o/2,iconSize:n}})))),ri=Object(ta.a)([wa,Qa,Ga,Fa,Ba,si,e=>e.node.layer,Va],((e,t,a,i,n,s,r,o)=>e.map((e=>({id:e,name:t[e],fullName:n[e],icon:Ta(i[e],a[e]),type:a[e],layer:r[e],rank:o[e],...s[e]}))))),oi=Object(ta.a)([Ka,Ia,e=>e.edge.ids,Ga,e=>e.edge.sources,e=>e.edge.targets],((e,t,a,i,n,s)=>{const r={};for(const o of a){const e=n[o],a=s[o];"parameters"===i[e]&&"task"===i[a]&&(r[a]||(r[a]=[]),r[a].push(t[e]))}return r})),li=Object(ta.a)([e=>{var t;return null===(t=e.visible.modularPipelineFocusMode)||void 0===t?void 0:t.id},Ka,ai],((e,t,a)=>{const i=e?a[e]:null;return(i?[...i.inputs,...i.outputs]:[]).reduce(((e,a)=>(e[a]=t[a],e)),{})})),ci=e=>e.node.clicked,di=(e,t)=>(e.name||e).localeCompare(t.name||t),pi=Object(ta.a)([ci],(e=>Boolean(e))),ui=Object(ta.a)([ci,Qa,Ba,Ia,e=>e.node.type,e=>e.node.tags,e=>e.tag.name,e=>e.pipeline,e=>e.node.filepath,e=>e.node.inputs,e=>e.node.outputs,e=>e.node.code,e=>e.node.parameters,e=>e.node.datasetType,e=>e.node.originalType,e=>e.node.transcodedTypes,e=>e.node.runCommand,e=>e.node.preview,e=>e.node.previewType,e=>e.node.stats,e=>e.isPrettyName],((e,t,a,i,n,s,r,o,l,c,d,p,u,m,_,h,b,f,g,y,j)=>{if(!e||0===Object.keys(n).length)return null;return{id:e,name:t[e],fullName:a[e],prettyName:i[e],type:n[e],tags:[...s[e]].map((e=>r[e])).sort(di),pipeline:o.name[o.active],parameters:u[e],runCommand:b[e],code:p[e],filepath:l[e],datasetType:m[e],originalType:_[e],transcodedTypes:h[e],inputs:j?c[e]&&c[e].map((e=>pe(de(e)))):c[e]&&c[e].map((e=>de(e))),outputs:j?d[e]&&d[e].map((e=>pe(de(e)))):d[e]&&d[e].map((e=>de(e))),preview:f&&f[e],previewType:g&&g[e],stats:y&&y[e]}})),mi=Object(ta.a)([ri,La,e=>e.ignoreLargeWarning,e=>{var t,a;return Boolean(null===(t=e.graph)||void 0===t||null===(a=t.nodes)||void 0===a?void 0:a.length)},e=>e.flags.sizewarning],((e,t,a,i,n)=>e.length+1.5*t.length>1e3&&!a&&!i&&n)),_i=Object(ta.a)([ri,La,ka,mi],((e,t,a,i)=>i?null:{nodes:e,edges:t,layers:a})),hi=(e,t)=>{let{open:a,closed:i}=t;return e?a:i},bi=Object(ta.a)([e=>e.visible.sidebar,pi,e=>e.visible.code,e=>e.chartSize],((e,t,a,i)=>{const{left:n,top:s,width:r,height:o}=i;if(!r||!o)return{};const l=hi(e,Ne),c=hi(t,ke),d=hi(a,Te);return{left:n,top:s,outerWidth:r,outerHeight:o,height:o,width:r-l-c-d,minWidthScale:.25,sidebarWidth:l,metaSidebarWidth:c,codeSidebarWidth:d}})),fi=Object(ta.a)([e=>e.zoom],(e=>({...e})));var gi=function(e,t){const a=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.c,i=Object(o.d)(ea,e,a(Object(o.a)(l.a)));return"json"!==t&&i.dispatch(ae(_i(i.getState()))),(e=>{const t=d()((()=>_i(e.getState())));e.subscribe(t((t=>{e.dispatch(ae(t))})))})(i),i.subscribe((()=>{(e=>{const{exportModal:t,metadataModal:a,settingsModal:i,shareableUrlModal:n,modularPipelineFocusMode:s,...r}=e.visible;pt(je,{node:{disabled:ut(e.node.disabled)},nodeType:{disabled:e.nodeType.disabled},pipeline:{active:e.pipeline.active},layer:{visible:e.layer.visible},tag:{enabled:e.tag.enabled},textLabels:e.textLabels,visible:r,theme:e.theme,isPrettyName:e.isPrettyName,showFeatureHints:e.showFeatureHints,flags:e.flags}),pt(Oe,e.runsMetadata)})(i.getState())})),i},yi=a(42),ji=a(19),vi=a(4),xi=a.n(vi),Oi=a(621);const wi=(e,t)=>{const[a,n]=Object(i.useState)(void 0),{data:s,error:r,loading:o}=Object(Oi.a)(e,t);return Object(i.useEffect)((()=>{void 0!==s&&n(s)}),[s]),{data:a,error:r,loading:o}};var ki=a(212),Ni=a.n(ki),Ti=a(233),Mi=a(600),Si=a(613),zi=a(614),Ei=a(38);const Ci=Object(Ti.a)({uri:"".concat(_e(),"graphql"),fetch:Ni.a}),Pi=Object(Mi.a)((e=>{let{query:t}=e;return"OperationDefinition"===Object(Ei.e)(t).kind}),Ci),Ai=new Si.a({connectToDevTools:!0,link:Pi,cache:new zi.a,defaultOptions:{query:{errorPolicy:"all"},mutate:{errorPolicy:"all"}}});var Li=a(603),Di=a(0);const Ri=e=>{let{children:t}=e;return Object(Di.jsx)(Li.a,{client:Ai,children:Object(Di.jsx)(Di.Fragment,{children:t})})};var Vi,Ii,Bi,Hi,Ui=a(21),qi=a(97);const Gi=Object(qi.a)(Vi||(Vi=Object(Ui.a)(["\n  query getRunsList {\n    runsList {\n      gitSha\n      id\n    }\n  }\n"]))),Fi=Object(qi.a)(Ii||(Ii=Object(Ui.a)(["\n  query getRunData($runIds: [ID!]!, $showDiff: Boolean) {\n    runMetadata(runIds: $runIds) {\n      id\n      author\n      gitBranch\n      gitSha\n      runCommand\n    }\n    plots: runTrackingData(runIds: $runIds, showDiff: $showDiff, group: PLOT) {\n      ...trackingDatasetFields\n    }\n    metrics: runTrackingData(\n      runIds: $runIds\n      showDiff: $showDiff\n      group: METRIC\n    ) {\n      ...trackingDatasetFields\n    }\n    JSONData: runTrackingData(\n      runIds: $runIds\n      showDiff: $showDiff\n      group: JSON\n    ) {\n      ...trackingDatasetFields\n    }\n  }\n\n  fragment trackingDatasetFields on TrackingDataset {\n    data\n    datasetName\n    datasetType\n    runIds\n  }\n"]))),Zi=Object(qi.a)(Bi||(Bi=Object(Ui.a)(["\n  query getMetricPlotData($limit: Int) {\n    runMetricsData(limit: $limit) {\n      data\n    }\n  }\n"]))),Ji=Object(qi.a)(Hi||(Hi=Object(Ui.a)(["\n  query getVersion {\n    version {\n      installed\n      isOutdated\n      latest\n    }\n  }\n"])));a(359);const Ki=e=>{let{children:t,dataTest:a,disabled:i,onClick:n,size:s,mode:r}=e;return Object(Di.jsx)("span",{className:"kedro button",children:Object(Di.jsx)("button",{className:xi()("button__btn","button__btn--".concat(s),"button__btn--".concat(r)),"data-test":a,disabled:i,onClick:n,children:t})})};Ki.defaultProps={dataTest:"TestDefaultDataValue",disabled:!1,mode:"primary",onClick:null,size:"regular"};var Xi=Ki;var Wi=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})},Yi=a(620);a(360);var Qi=e=>{let{children:t,waitBeforeShow:a=1200}=e;const[n,s]=Object(i.useState)(!1);return Object(i.useEffect)((()=>{const e=setTimeout((()=>{s(!0)}),a);return()=>clearTimeout(e)}),[a]),Object(Di.jsx)(Yi.a,{classNames:"fade",in:n,onExited:()=>s(!0),timeout:300,unmountOnExit:!0,children:Object(Di.jsx)("div",{children:t})})};a(174);var $i=Object(r.b)((e=>({appState:e})))((e=>{let{appState:t,featureHintsContent:a,featureHintStep:n,hideDot:s,requestedHintClose:r}=e;const[o,l]=Object(i.useState)({x:null,y:null}),[c,d]=Object(i.useState)(s);return Object(i.useEffect)((()=>{d(s)}),[s]),Object(i.useEffect)((()=>{a[n].elementId||d(!0),(e=>{if(!e||r)return;const t=document.querySelector(e);if(t){const{left:e,top:a,width:i,height:n}=t.getBoundingClientRect();d(!1),l({x:e+i/2,y:a+n/2})}else d(!0)})(a[n].elementId)}),[t,n,a,r]),Object(Di.jsx)("div",{className:"feature-hints__highlightDot",style:{left:"".concat(o.x,"px"),opacity:c?0:1,top:"".concat(o.y,"px")},children:Object(Di.jsxs)("svg",{fill:"none",height:"100",viewBox:"0 0 100 100",width:"100",children:[Object(Di.jsx)("circle",{cx:"50",cy:"50",fillOpacity:"0.1",fill:"url(#paint0_radial_103_11727)",r:"49.5",stroke:"#FFBC00",strokeWidth:1.5}),Object(Di.jsx)("defs",{children:Object(Di.jsxs)("radialGradient",{cx:"0",cy:"0",gradientTransform:"translate(50 50) rotate(90) scale(50)",gradientUnits:"userSpaceOnUse",id:"paint0_radial_103_11727",r:"1",children:[Object(Di.jsx)("stop",{offset:"0.140625",stopColor:"#FFE300",stopOpacity:"0"}),Object(Di.jsx)("stop",{offset:"1",stopColor:"#FFE300"})]})})]})})}));const en=[{title:"Publish and share Kedro-Viz",description:"You can publish Kedro-Viz and share it with others by hosting your project on Amazon S3, making sharing with collaborators and stakeholders easier and faster.",learnMoreLink:"https://docs.kedro.org/en/latest/visualisation/share_kedro_viz.html",elementId:".pipeline-menu-button--deploy"},{title:"Preview your datasets in the metadata panel",description:"View a small preview of datasets by clicking on a node and opening the metadata panel. The ability to expand to view a larger preview is also possible when the panel is open. Along with a preview, there will also be information about your dataset, such as the file path and the dataset type.",learnMoreLink:"https://docs.kedro.org/en/latest/visualisation/preview_datasets.html",elementId:"#nodes .pipeline-node--data:first-of-type .pipeline-node__bg"},{title:"Plotly and Matplotlib",description:"Kedro-Viz supports integration with Plotly and Matplotlib in order to make interactive visualisations of a Kedro project.",learnMoreLink:"https://docs.kedro.org/en/stable/visualisation/visualise_charts_with_plotly.html",elementId:".pipeline-node__bg--plotly",image:"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAk4AAAFICAYAAACm6HF1AAA2fklEQVR4AezWAQEAIAwDoGuD9Q87I/gAkIKTpAMAwE/vACsAIE4AAOIEACBOAADiBAAgTgAA4gQAIE4AAIgTAIA4AQCIEwCAOAEAiBMAgDgBAIgTAADiBAAgTgAA4gQAIE4AAOIEACBOAACIEwCAOAEAiBMAgDgBAIgTAIA4AQCIEwAA4gQAIE4AAOIEACBOAADiBAAgTgAA4gQAgDgBAIgTAIA4AQCIEwCAOAEAiBMAAOIEACBOAADiBAAgTgAA4gQAIE4Aj727BJAqCqM4fp6MG56QspKm4q4JGu7WcEib6AGHiEuvVNyh4O7OjrsiPa28y/9Xx+faefoBAMEJGLRc11V3d7disZhMEQ6HZdtmDEGfz6dAIEDbDEKO43inbQAPcAV4ZGGeMWOGvn77qQ8fP8gEo0aO1PcfP1Sv1+V1kUhEtmUrk80Y0za9vb0qVyryulAopGArOP3q7dVAunXjmgATWEOHDm0I8MDkv3r1aj34FBMAb1m5aIK2bV4iwAANV4CH3HrwVAC8w5K0cHZSgClsAQAAgOAEAABAcAIAACA4AQAAEJyMBwAACE4AAAAgOAEAABCcAAAAKLkC9KyfoJ8/f8oEiURcmUxG9XpDXhcMBmRZtgqFgjFtk8vlVa1W5XV+v79dski5XE4D5cn9ywIITsAAuHD2hF68eCETjBkzRp8+fTJicY7H4+1CzMaE2nbbfP36VaVSyYiCxdFoVO3fA4DghP/M1j17jdmr4Q8EVC6VDKnA76qtVqsa0zaVSkWNet2ItrEcS9VyRf3h3etHOnZovwYBgOAE9By+qMELwIYF4zSYWJalUaNGqb0X0bZtpVIptff0ptPpf08BODkcAIBIJKI1a9Zo48aNSiaT6uzs1IIFC7Rjxw5NnTr139MAghMAAE327gI6qnt9+/41EQgSIliQ4u4UPS0tsGiR9lA97va+j7u7u7sd14dVOYcqxf7FXYoHJ4EUQtCgsXnWd63/zgrTDGTI7GRm9/p0zUpmZs8kaUJyzf279/2bNWuWCE+//OUv9bvf/U5vvvmmfvzjH2vFihW6du1aKyc5FNAPptzc3FZ7xYqLi7nvMxUt+vsCVLVa4viioiIVFhZynzKSOTiZmZmVlZXR4K+LFy/q3r17vK87d+6ovLxcR44cUaBbt25aunSpvvWtb+mb3/ymvva1r2nYsGGEIoKXvvCFL3C7vvKVr3Afy34KEIi+//3vq2/fvlq4cKG++93vasqUKQJLhK+++iqP01e/+lV98YtfJJwp45iDk5mZ2fnz5zVgwADNnz9fvXv3VkvxeLy5kvTyyy9r0KBB2rRpk1avXq2qqioNHz6c4KQ5c+bo6aef1oYNG/Thhx8yQkRf//rXqUw1V6mGDBlCoCJE6cSJE5xdSnVKr732mi5fvqx33nmH5yVIEdBkbg43MzPLODt37qSapKlTp2rBggWckUv1SUePHtXu3bs5c5LQo8GDB+snP/lJ8/LdmTNnCE0qKSnRuHHjtHbtWh0/flzgGKpL06dPJ2gpwFJgTU2NAosXL+bjafPmzWpsbBTWrVunV155hbBFBUzm4GRmZpYx6urqCCvatm0bIUj9+/dnCY4QRd+RVq1aRSWK5Ttdv379MxUpKkhNTU0PzCdjkChn5pWWljb3NnEslaiW+vTpQxVL3/ve99QSgalr164OTg5OZmZmmYfgc+vWLS6qrKzUgQMHtGzZMo0aNUpgAG2ypm0CEfdxCQTXqSLx3MlwH2MP3n//fbXE4whZ5h4nMzOzjDJx4sSgKhRgeY4Ly2jB0hvLefQfJZ4NR2WJkESlqmUzOFUqqlAPDU4s2zFRnwoVU9uDCx+PQGYOTmZmZhnl2Wef1Z//839ey5cvp8lbM2fOpGFb48ePp9lbOHfunE6fPs1Zb5o7dy69S5wJx3IelSHt3buXs+U4s06TJk3SCy+8QI8St+thWB5kCZCz8WbPns3z0hiuH/3oR0GYC595qc7sL3xlimpv3ozMcL679+6qqbFJ2S6/axflxHJ0P+P6Nvy94Y90bl5eh31vzp89pkzx9ttva+zYsVSTWJpjWY5eJr3xxhuccScwouCDDz4g2NCTRIWJqeI6dOgQFSVt376dAMXz8P+SqhHN4s09SoSj/fv3f6b6RKWJeVHTpk2jAZ3H8hiej+U6WfaKlZSUxJXhzCilf/vb36bR05v8epPfEHiT3yhj2Y2fT8IN/96SLZXl5+dzNh1LeYnH8Hieh4bzlJfaEh9rWS3u4JRVHJz6Dh6nm7URqjjdvaempkZluy75XRTLydH9+9GpON2/d18NEdi0mGoT35+7d+8oXa5Xn9evfvFjfQ6ZxfNkWYtXkZzyWlFREZSJMw5l7+DU23S80vrfH1UpOm7JsvF7Y99YMEFmbg63rDJhwgSaF1mTpwSc0k7hbHLZpUuX0EMd03qZyPvMM89wJorMzMwcnKzDsQ5PcKJnoby8nPV4zvIgRD0QpOhtYCIu/RqM/wcBhiZJTq+lL4XHBfeBoW7BY1keY0gcp94SuDieJkcey8d4VLBjuWPNmjWcvcIMFZmZmTk4Waf0XxBwBg4cqKFDh3Kd02XZWJJTbjmLg6CjkSNHclvzKbSEIY7nLcGGPZxGjx7NMc3Pu2jRoub5Jy+++CJVLU7dJYBRQeJ9juFjKwmqWYQ1zlrhcQSuzllKNDMz8zgC43TaS5cu6ZNPPtHZs2eZPUIw4ZRYKkGEJPZi4nRajmNfJapE9ENxm5566imqQPQd6cknn6QHKehHosrUfBYIA9w4jt4kltwIQkEYmjVrFlN4k57FQ1gimFFpYqlu48aNKi8vFwhvPH+qVTYzy5iGc/6Nhz7t28zByULBUhtLalSDcPDgQX7xMGyNUKSTJ08SkghGSfueWnPlyhVCk8A+T5xKy1JfMDQuGT42c0/Y3DLY14nlwSA4Ec4cnMyyVyymUIc4ukJtDk4WKqpKBKNdu3bR78QrQZbLVFZWxmA3BrQFoao5CNHbxBA2qlfDhw9nmY6qVNKAQj8VFSj2eaKqRSBLho/H/Bv6oZi5RIWKABU4duzYY40joMplZp2vob4h82d2FfQJKdXVSXU3ZQ5OlmValrGPHDnC1gJavHhxc7WHcf/l5eWaN28eIYYgpQAVKHqXjh8/zoWlOx5LRYnHNocfnitA9Yg+KsIYwYmwxsdoDQPm9u3bR9Ch0kSlK9iewMwsfHndlTdgnsIQv3tZjRe3yBycLMswQTtAMOLsNUrnhBQCELZu3UpliSoU1aUHHktlKdjd+7e//S3BiqqVAvRPtcQWBCtXruS4YPouPUyt9jmw7xO9UEzF5ng20zQz6ygxxZSTm68wNOXmKSLMwckIM4kIQ60hTAUIQhzXBkEoQ9K+KZ4PBLN0h6al8ybIzDpXj+53Mz05KSeP4BRngwyu8z53tPL2UffpwWMeN5CZg5PZtWvXxKUjndr0E52tqFAUDCwboOrL1WqIwIafhT17Ki83T9duXI/M96am5orqGuqU7boXFKigezddvXpNnxtJKk5BJGqXnFyZg5NZFjXCX1TV+UpFQW5M3uQ3g7833uQ3i1EYouIUBi/VZRMHJ7Ovf+v7kfnjXFTUSzTjNzXFle0KCroqFsthaTYy35vbt+80h9ryo4e1bu1HsizqccrLa9tqHG8Ra9tqXhO7JpiDk1m2mLH0NXU0s0EbP3JwyrJBUzk5+VIIi3U5rjhFjYOTmZlZTn6X5jJRUsH9KYhFqcfJHJzMzMzYDYEeJ8XjXElnblKjK04R4OBkZmaW8pKal+rMwcnMzIyKU0jzlnJy8mQOTmZmZpER47+8fFeczMHJzMysbeOWuqTeyNSGZqhY5MYRmIOTmZl5HEFbAo6X6szByczMLCb2qktBNMcRmIOTWbf8XJmZPXIcQW5u8j1727Hnb25uTOmSn5+vwsJC8bneunVLbJwej8fbMKm/gG2O2GSdbYGS7xlqDk5m//Of/W1dqKpSFPTr209sH9PQ2BCB3fJ7KDcvTzdv3ojM9+b69euqq68Tsm1/RCPg5ITUHB5L07Y+RVqyZIn69u0rEJo+/PBDVVVVPTQQDhw4UEuXLhXhiet1dXU6dOiQtm3b9tnQZQ5OZgcP7NepU6cUBU888YQ3+c3c702Wb/JrBJywqlnp8Pzzz6tr16568803xc/ZggULtHz5cv385z/netKwRWi6cOGCNmzYoMbGRo0ZM0avvfaajh8/rpqaGpmDk9kDVv3h97LM1ZTbRX/97/49rXz7DVnn8VIdwSmn5bJb2vC87dWjRw9NmjRJv/rVr3Tp0iVhy5Yt+t73vqd+/fqpsrJSrSFo8SJlx44dzRtqV1RUiKBVUlLi4OTgZPZZ3W9XyjJXQ34PmXU+NvkNqeKUhudleY5qUcugw9JwU1OT+vTpkzQ4cQxLefPnz9eNGzd0+fJlUR2tr6/XmTNn9JjMwcnMzDzHKSeMgpNGDy1T6axZStWuXbsUoCGc3iSCUoAle6737NlTyVBZWr9+vV5//XV96UtfEg3l3bp101tvvfWYS/7m4GRmZhYs1YXg6s1bourTHpwN9zhoCJ8xY4auXLkiepxGjhypJ598UgsXLtSKFSvE8p05OJmZmaUkFowNCMHNO/dozm7fc9y8yckUDzSac52xBNyXzIgRIzRlyhTRQM7JC1yOHDmiH/zgB3rmmWe0evVqmYOTmZmlzMkpRsUpcbsUrmVAjxMVI0ISDd1BUArmMtHH1LLCxHG3b98OrrOc90Blifc5m7VLly56DObgZGZmFmtRcYpl3JgDwtKxY8dEk/d7770n+p3mzp3b3PAdWLx4sWgW/9nPfiZmNJ0/f14EpTlz5mjz5s3CoEGDVFZWJs7KMwcnMzOzlMXCHICZpjlOq1at0le+8hX9qT/1p8QZdlSVVq5cqTt37ijQu3dvFRcXK0CoWrt2rZjlNH78eNEQ3r17d3388cc6efKkwmcOTmZm5ubwThisSdXpxz/+sQg+LMfV1tYqEZWmlqg6lZeX68SJEyzt0SPF49p3Rp05OJmZmTHHKR7kqMfcmq61x/O86USFKVX0OdELZQ5OZo/UlJMvy1zxWK7MMkFOXk5IAzBzZA5OZlnjn/x0paqrLysKSktLdO36dcWb4sp2DOHjlfjt23e0e8d2mXUilrDC63Gi4mQOTmbZYt2aVd7k15v8mj1SXm4sC543ZObgZPaL//afVB+NRkgaQjmbJos39C3Qn/nLf0XHjh6WZRpv8psXUsWJSpY5OFkWYpfs/v37i8vevXtT+gPMY9nzKEz5+fnibBGWcK5du5a2jzck70a0fmrzlbXqexSqsFcvmWWi/LyQgpOX6rKSg5OxPxHLI+yInfLa/6uvvqq3335bDF0Ly+TJkzVhwgSxp9PgwYPFx2NDyo5gZu5xys9NfZNfL9WZg1NE9ejRQ6NGjdLFixfFXA+qTX379hX7GPH+gQMHRChimuzw4cPFL5GKigoxdXbo0KEaOHCgpk2bJvZbunfvnqhAEXCoEg0ZMkT0EPXr10+c8srH4vHnzp0T9xGC6GM5fvx40ioXvS7Dhg0Tu3jzvMuXLxebUX7yyScKm5lZLKg4pT5z4JEzC3Kz76w6c3AywhJY/qKxmOW6Z599Vozw79mzpxYtWiSmyxKImEZLwGG0/wcffKD6+nqBtzwPYYjptAQc9kFi7D/BiRBG2OF2AtrEiRNF4KqsrBRhjJBFQGsNS3Q8d7AHE48vLS1VRzEzJycqQ4rzfky80/x+PB68bRGK2NwuOEYPPi7AMUHvlDk4WXZhYBqhhCrS2bNnRWgiCNFsTJii0sSGjwxIoxJFnxGBiqU9HkOYOnr0KNUmjn1gh26eA9zGdNpdu3aJEPTlL3+ZShNhjLBGxYvglLTixGaVBDZwPLcFJk2axOeUcs+UZZ6S4mJRneTni+8xlwjgxQQ/91RuIzEqghcz2YRqd01NTbuaw/PzchWGXJ7cHJwsu1Epon+IQAX2LeIXz5IlS0SF6PTp0wSoICAlSnY7m0kG1S0CExtQ8jEIaw/9g0KI4zkJOzwHnx8hLVBdXZ1SEArCGIHLMgrfX372CMp8j3g/Ki9OuPBzG5kKdTZ9b/ic2ycmKkNhNDmxebA5OFmWo0GcniUqQPyiHzBgAMGEKgBLbfwSotok8D5VpaKiIv7Y0edEIOEVNstzVKqSfgyOobeJIMTzJROEuDFjxqi8vFzjxo0jzLUMTo/1qjnz2L379/leB9Um3o9KIKQySwU3Ks3SEfnepFBxCmVJzUt1lrXByYLGbtCTRJiZOXOmQFjil/6GDRs4u40gQ9Wp+XiatqdOnUrliOU4lu80Z84cXbp0iaAj8D5Vq8COHTt4fj399NOELx6rZLh/y5Ytmj17NsuI2r17N5+TOoKZWSzVs99ccbLoBycjjAQIOAcPHtSRI0cEeouCQEUooseIMBOgiZzAxOO4fePGjVShmhvHQdBqiefYvn07x/EYHktjufr06aNEhw4dYlmPgMYrXe/cbWaRmeOUF8tRRJiDkxGYEhCGHnksIYhLqh+DZvHa2lolCoISx6ZbRUNRdCaH5+WqsSGLJ4fzs5WBzILm8ODMuSSzBoIz5VKaVeCKk+XJLHWd1mz63T/zF7xXnZm1oTk8xtvEcQLclnAdsbYc4y1XLKLByczMvFdd4qDK5rpR++Rl05Yr5uBk9i//4T/gjCdFQbBnYFbJydcv/u8KrVv7kTKZWZe8nKQLb4HUB4m7OdwcnB7rjx17sDEXibPWGAR55coVpmMrfDarpE4qyVU0sESXXV9LY/divZUVG/uaz6r74+CUfI7TY414Sn3LFXNw8ua6zEnizDJmHnGWGUEqg4KTmZnX6sJqRXLByVIMTkaliZlGY8eOFdj6hD3cMoOZmcVEZSicyeEMDjYHJ0sBc5GYtM2SHXt0UYFi37cMYmbmpbqcmPeqs0wITlZeXq7CwkJCE5O0GRTJQEmZmVlmbbnS3OOExLzTPMYpecNT4m1cz00tkJmDkw0dOlTnzp3Tpk2blJnMzKy5MhRLlq4Sr7ftmHT2TvXo0UODBg1in0e20aL1o80bHNNjywv4kpISBhGzDZYsI4OTUW3iB5Ulu8xjZmaxEMcG5MRiaRuA+5WvfIWwxC4LhCC9++67Onz4sB6GE5LYQP3VV1/V9evX2YNU165dy9zg5OBk7MHGRrctdxrnjDo2xTUzswyZHB5Sc3i6lupeeOEFlZeXa926deweQL+sFixYwItyKkhKhtC0fPlyvf3224QlQpcb1jM/OFllZSVn1ynAD3mmMDNzj1NmN4cXFxerrKxM77//fjDQl15ZghN/W5L+TenevbumTp3Khu4czybqLO3JMjo42fHjx7nIOkdd71GyzhPP7yazLBBacEpHdad3795swM4y3QN7f1J5ohUkmV69eql///7s16l58+bRI8VzsLzHW1lGBiebM2dO8wwn0j5jCXbu3Kn9+/crfLbsWz/0Jr9m9ugep5CC09ABfbVkyRKl6qOPPmrZK8u/+weqRSy5NTU1qWfPnkqmW7duhCfNmDGDJT0eo8mTJxOi9H/+z/+h50mWccHJ9u7dS5lUgblz56qurk4dwyZPma7SPv0UBf369tXAwUP4ZalMV3X+vC5cqJRZtmAcgeLNTU5t24iOt4gnP+ZizRVt3LhR7UG1icoVL74DvM/lYX9P8vPz2d+S/iZVV1cLRUVF+uY3v6nZs2dr9erVsowLTsYPPJcAp5AOGTKEMKXw2b/5899Wx7J4br7+4xtr9d//y7+XWVb44x6nuBDjato2/OXS3o3G6WFinEDL4MTqBWHqYUtunJREpYrxBYHbt29zchJ9U5xxRxVKllHByYYNG0ZTX/Na98iRI3XixAl1DMu9VqGOZfEu3WXmpbr09U5RLaLSzHZdnKmN0tJSlu4YLaAA/U78nWEj+SA4EdoGDx6sqqoqgRDF0h/hKWNDk4OTK06UUoM1ac6KuHr1qszMLLPGEYQwjUC5sRy1F7OXtm/frqVLlxJ8WH7T/PnzGW2jy5cvK/DKK68QnvQf/sN/IFTxt4Z2ES1cuJAQRbVJo0aNYgaU3nrrLVlGBiejcY/ZGUFY6tOnj0aPHu2qk5lZBo0jCPJNLM3JiedOB3afYGmNE45YsuNEkQ0bNjzQCkKIoiJFaAoQnKhW8ThQofrVr37lsTiZF5wsOIOOLVf4ISbtg2U7LlkSnMzMvOVKO6RrBZAqE2fa0euE1prC33vvvVZXPXbt2sWZ3FSrqF55llNmBicjNDGtlbXlESNGEJwIU/zgMvlVmcPMzIKAk9gIHhMSb0veLJ54Pc2tUwSmNJyoZBkYnIxUzxoyM5xo1KupqREy61RyMzOLJewpl5M8KKV8DC+YzcHJ2oiQxJh7GvEYQRBg6BiXTGFm5qW6jHhec3CyadOmadKkSczM0JkzZwhQ2rJlSwYFJzMzy22e44Q0zb90xclSD05GUOLMB3aypreJuU5syphRzMzc4xQK5ybLk6W8XMcppGzIyCgCdqsuKChQx7CGkiGyjp8cLh2WWRaNI6DHKRMCmTk42dGjRxl5T68TQ8g4I6J536Lw2ff+zr/W2YoKRcHAsgGqvlythiyY9nvr5g2ZZZOcUBJOyoHMHJzs5MmTbLTI7A298cYbjCno0MFjFpOFE4zYI8vMS3VpfV5zcDLG3zPPieD0u9/9ThMmTOAPjg4fPqzw2U//1p+QpVleV/3nD7Z7E1+L3l51KXaHP/oYV5ws5eBkTz31lPbs2aP+/fuz+SJ7C2ncuHEdHpx69+6tmTNnsgWM3n333ZSGqDH9vLKyMtQZVAwJZQ8lqnNU6U6dOsUSp9ordrFclmYFhYoWs5hyEgvUiddjiW/bdoxzk+XJUm4OZ3fqAMGF0fkdberUqeywra1btzI9NqWtY5577jn95je/YainwsKZhufPn+djaPHixWxGyXWFz8wsxOZwpfS85uBkR44c0bPPPis0NjYynqDDt1xhhhTVHDYaZsuX3bt3s9GwxowZQzDS5s2bmSvFMZo4caJw4cIFjmNpkeVGLViwgM2KOTuQ59OhQ4eoDmnGjBns2k3FiOvq1asXYZGvW+PHj+fr5TF8jIcGL/ZS4nF8fhxPL5iZWcfNcUoYypS2pnOZg5OloqKiQqtWrWJ+E8GA99nBWh2JffLoq2IJ7Ny5c3wuhBrCCuMRtHTpUraHYddsQhAbQFL1oeKjqqoqAg9Li+y6Tbhi2Y/gxFgFwhePYSmSMMZO3DwPFS76ughMmjx5smbPns3ZhA+tzD3xxBMENJbpCG4yM+uwcQTNVzrt9BRzcPLgS8IJu1lToTl9+jR71qkz0M/EciFVJUINvU5FRUWaPn1684bEhJzCwkICD8GJyhHBSJcuXWJpj7D3yKW6ffv2EaiERYsWEdhYmmzz3Co+xh/90R8Rnvi4BCiBil23bt2UOayoqBdBV4+Lnwvmm/Xo0UNRMGDAAP4NBb2DWY1/a1yyqepLP+Snn36qxxaPS/GmFOaBpzBPnOc1BydLzaBBg/iHTXBSJiAIUXki6ICgRMWHRvZNmzaxITHBJ1kIY0muTWFt//79BKCgV6pNGyNT5SJAMSw0CE5Uxh7nlz9N7eGw2tpb7fpDRTBnWZbl4yggBPJzS/9itqMKTaDl6/lcaWpUKOKNMgcnS6GxmjPpeAveD4IKl85y/PhxPf300yzZURViE2J6kujB4n16mqiYUT3i8yT0sUTHGYEsoWnu3LlU0zR48OCk1aSDBw/S/6SdO3dyDEGGZTy1hiDGcxLY+HgEHj7HANWyzGIE7fac9chjg7dRwL8dvhYu2Y6vIfh6PnfBKYSKU6wpLnNwsjai/4clMc4YGz58OGeKCfQLEUo6EiMRaLoGfUsff/wx4YjlOfqwuE9r1qzR2LFjqRbRi9W8EfEf/vAHmr8JP4wloCpFRYjlRy5CeXl5EAxBEKOvinBFhYtK0kP/6NB4zrG8cn/nnXc4A1Adw8wsLjWFExTjrji1jYOTsURFw3UrS1SdMnE5MbhQhufSEssm27ZtUyKWGLkgCElcEh/bEpUjQhaXAKGMilYiqlLBsWZmnSKkgBNzj1ObODgZvQ6tnBnm7WeoUCUKc0lgdW1v3YzIFjc9enRn2VJNnV76v6/yo4cVGWZxKk4tmsOTar4//N4pc3AyY0mOS0f6j//tv9JkrgjgLDYassMImmYW2lJdk8zByczMzGfVtUGMSpY5OJlli3f/+7+Wpc+OT+/q+9/7lqLFLO5xBDAHJ7PY6Z2yNMofq8gxiytxAGb6uOLk4CQzMzP3OLVReoIT415GjhzJaBuGx3LykcrLyxkcnNK+pczgO3PmDHP59BjMwcnMzCyuWMJSXaZVnNhwfcmSJcy846xtLVu2jDmBzNVr00BlBg3z+HHjxjEr7/GDkzk4mZmZxUPrcWpKyy4Uzz33HDPvCEoCZwuzQTsDlZmz96jHv/jii2ylw36lMgcnMzOzdognNHHHuC3J9RSPSUNzeFlZGctsLbeiYmAwS3bs4vDQ4MQxs2fPZistrV27lqqTzMHJzMysfc3hjQ2h5CY1Nqm92BqL5Tn2Fg3wPnPxCFQP64uip2ny5MlasWKFzMHJzMwsDeKKE5xCUFhcrEmTJilVLfczZYmNjbVb4jq9TV27dlUybM7Ohu6rV69m71FClszByczMLA0rdQ0tpxEE77f+VsnvS3x8/d07bJWk9uDx9ClxCfA+FSUqUcnMmzePDdxZptOMGTPYqJ3qlYYNG0bFii2w2IRd5uBkZmbWZvGg4hSPk0jSulXdndob7d726caNG1SWODNOAUJQbm4u9ymZiooKqkwaOnSoUFBQwPPQF8WG6zp37tyDwckcnMwO5I/g1ZqioKBrV9XV13XqJr/l5ysURWbxhvpQ9vhNxxJgTU0NZ8Np9OjRvGWZjjBEjxP3KcD9jCjYs2cPy3hav379A1UqQtTrr7+uffv2ae/evQ8u/8EcnMz+9r/4197k18weLh4nOLWSkYL1t+B60hyV9JimNGxsTlVo8+bNWrRokUpLSxl6yTwmHT16lN6lB5bmWJYjOCEhGBG0CFS8bT00mYOT2de/9X1dvXpVUVBU1Eu1tbUPrTj9+hc/1s2bN2VmqYkTcBKaleLN18G1WJJjEGv9mDQ1nVMlono+YsQI9ezZU9u2bdPBgwd5IdXyGJbwkg7EJHBRaUo6/NIcnMxm71+tz4uSxa/rD4VF7QhOZq44pXu/uniatnIhDFFh4pLM/v379TAEJ6pR5uBkZmbWznEE9QoDc5wixhyczMzMFacGpdAdnu6tXMzByczMzAMw6Z2KDHNwMjMziwcDMMU7YpZTklPmEm5s7Rgl3Bat4GQOTmZmZkFzeBhLdQ0yByczM7PIDcDEw3by9VKdOTiZmZnFQ+hxcsXJIhuczMzMm/w2hBScGpoUGebgZGZmxnDJpobGhO7ueCtvA8mPSbyvKd4gc3Ayyx4LX1Z9fYOiIDc3T40PWU64Xtxfj8fMGkOrOMVlDk5mWeMv/Zf/7k1+zezhqDjVNyoMbPKbNczByWzR88s0eWq1ssGxo4e5qOOZWVODB2Cag9PnVn5+Pjtk6/bt22r8nP+jnbt3n7JBQVmZNj+3xMGpc5gLTlScwulxcnN4ZnNwsu7du+vll1/WnTt3tHXrVl2+fFltQdAaP3689u7dqzDl5OSotLRUkydP1qZNm5qXnQh7PXr00OzZs7V69Wqly71LF5U1hg6VmXUGluoako+5TLwthWO8VGcOThlu7NixOn36tHbs2KFUFBQUaNKkSaEHp5EjR2rZsmUEO23evFmBYcOGacmSJe7f6XhmFmdnFPc4mYPT505RUZGmTZumvLw8Kkg6cOAAYUhDhw5VU1OTdu/erfLycqo6mjBhAqfg6tq1a3r//fc1ZswYlZWV6ctf/rIOHTqk+vp6nk979uxRz549tXDhQq1atUojRoygMtX8S4bbnnvuOfXt21e5ubn6+OOPdebMGSVz4sQJXb16VUuXLv3M7dXV1XrttdfU8czMzeENaaoxxRLOqnNwcnCyjHXjxg2qTVRztH//fk2ZMkUlJSX64IMPCEWaN28eZ5gRqAgqBCKqP4QeHkcg0rvvvkvVhyDFsl/z8hohKhaLqUuXLiy1aeXKlbp//z4hjPv13nvvqV+/fpo/fz7BSelUWFhIGFQqCI7Zhq+xa9euSob/99xPQM12fB3B1xsFwfcmCqg+Z+HXw++j9hScmOMUyl51vGg1ByfLYIQeqkVcCDgEnrlz5/JHikoPbzV9+nQNGjSIahNVJ35B6ubNm/wD17179xQgKLXm4sWLunLlCvfzPAQnfeELX+C5CW9Kt3HjxhGEFHV8jXzPHlZR5I9DFBr+CcMEwChVe/m3V1dXF4k+SX4Ws+jnjM+VinW7Kk6N9Q0JwSje5gbw4G1rjyeQZQlzcDIqT2fPntXGjRubgxBBicbsFStWEHLUq1cvgdsJQMEx/AHgVWfwOC6JOO7WrVs0oGvXrl3Nx6Ybz/04IYTAlU1qa2uZ0/TQihShNQp9YJzxGYT5COBr4Q83wTYSwYlqNF/P54nHEZiDk+ngwYN66aWXtHjxYgINZ62xxMYfaD3zzDOEI5q1aQjnDxlBi2N18uRJfmnS18R19enTJ2nZngbvV199lVfcBC/CFst2SoYKFX1YLB1SCWPZkAA3ZMgQlgpZWtSCBQvoreLzVMcwM2+5ElZzeJPMwckyVUJ1huU3KkuEEYLT3bt3WY7T22+/zZIQwUlbtmzhVTJVDP3+979X7969CTIcy2N55anr168TnDhGx44doz/qgY/xxhtvsPQSVKCo9hDSWq0y1NTUMCaBS/NtOH/+PEFJO3fu5HlYalRHMTNrqk+hx8mb/EaHg5Ml9lgQQBJL7gSl1paEOJaloJahiEuw7AeCV2Ko4T4ugYEDB9IonviKjmVDQlmryxk8Lz1X6da1f5myQdeyTvs8zYwBmGH1OHmp7lEcnMyqqqq4KBPseHKaqqsvKxscW/uRzKwzxMPa5NfN4dnFwcls3ZpVj97k18y85UpDU0jN4fG0jbygN3XUqFGcjKCKigqtX7+edoeHbr9FT+nEiRNVXFxMuwVtEezawJnR+gxzcDKbPGW6Svv0U0fZtWObso+Z0cQdrLSlU2Oa5jg9/fTTDDTmLGkCEDP09Pzzz3MyDteTzktjaDHtGvS/9u/fn90ltHz5cv385z/XZ5iDk9msK7c1q2uxOsK4l1/S6w5OWcYsmOOUhoATUnM4FaY5c+ZozZo12rdvX/P4EnZa4ISeS5cuJR1Jw5nUwXy+w4cP08eqr371qww6bb69mTk4mV3YvUcdZeDMmco+ZhanMpTB4wgY38JSHTs8BDjBhyGy7PyQLDgFQ40Th4UGb83ByczMLHVBj1PCeXNIdpvadAzBKZ6WyfScMd1ySY7rhB+GGKewnQ47RzCrzyNfHJzMzMwef6kuWFKLt5qrEqRwzKCx4/Rsr75KFb1MLZu8GenSEte5tHUfT56DocY0ibN8Zw5OZmZmjyfEpbrq02d16NS5dm+fxbJcyy2tuM5uDZxV9ygcy36ibN7+4Ycfsswnc3AyM7N2cI9Tk8Jw59at9u7JGOzewFJbMJSYXR0IRFx/ZGM5lSZGErz11luqrKyUOTiZmZk9vniIzeFpCGSME2D+Evt7vv/++/Q2acKECWyN9UBjOAGJQMWIApbx2PrqxRdfZHlOP/vZz9i5QebgZGZmaeAepzjvSLHYo7vDY2rjMekbgMkoAjZt//////+fxnDCkD7++GP2B1Vg2LBh7E2qAO+PHj2aJT798Ic/VEuHDh3S6tWrZQ5OZmZmGTOOoDEN4wjAXp9svM74ARq9L1y4kLgPKUGIEQTNjeSXL1/Wr3/9a3qhlODx9wY1ByczM7NMnuMUYFmOSzKEqcQN3c+dOydzcDJrs9K/9ueDxszQ7aq/rexjZlRo6EUKKzhlDXNwMvvdr3/mTX47jZk3+RU9TtnCHJzM/uSXv82ZJwpLQa9C/cef/i9VXahU9jKzhpAqQ41NcWUNc3AyO/zv/6vCNOmVl5T9zNwc3tC2gOPgZA5OZmZm9SEFHAJZpJiDk5mZuTk8tIpTPK4IMwcnMzNzxYn3Y0LibSkeE63gZA5OZmZmcRGcmhJvTXJkCsd4qc4cnMzMLAXucXLFKVocnMzMzD1OKQQcj3EyByczM3PFKS0tTeC2iC/VmYOTmZm5x6ll8Ikneavk97XyeDeHR4uDk5mZWVwJ4wjij3ibwn2uOGUVByezJ//jv9TN2lqF5Z6kW6veVBYzszgVJ89xMgcnM/2nf/cvvMlvyMy85Ury1qdGZRFzcDL7zte+o9qbtWqvvF499S//2T+UmaXE4wgUV5YyByfr2bOn+vTpo4qKCjXRCPk5sPsf/3ulwxf/zT9RNJlZXCEu1cXilJ+yjTk42fTp0zV27Fh9+umnunDhQpuDUywW0/Lly7Vq1SrV1dUpLIsWLdLEiRN1584dYd++fdqzZ4/MzMJ2R01amXNdZmHIUdax/Px8jRo1il4fHT58WPX19SooKNCgQYO4KDc3V+jevbsGDx6sJ554QsXFxUJhYSHX1b9/f/Xq1YvHNd+H0tLS5sd269ZNRUVF6t27N4GL4zVkyBAey8fQo2zevFm//OUvuejAgQPqcGZmZg5O1qNHD5WUlBCSNHToUK5r4cKFmjJliubMmaNp06YRdDRy5Ehu06RJk/TCCy8Qhjiet5owYYIGDBig0aNHc0zz81IpAtWiF198UQsWLND48eMJYJo/fz7vc4wGDhyoRyF0BSGLcNfhzMzMvFRn169f16VLl/TJJ5/o7Nmzmjt3Lkt12r9/PyGFkKSjR4/q0KFDHKe+ffsSYOiH4jY99dRT2rBhg+7du6cnn3xSXbt2FXJycqgyCXl5eaqpqeE4xeNxvfzyyzp//jwXQpRmzZqlyspKJVNVVaVhw4ZpxowZVKz03nvv8bkIhDeeP9UqWzrFcnKooHV6jxqfQ0NDg7IdXwc/e3wtUekf5N/H/fv3le14ocSLIr6ebMHvs1u3bsnMwclCwVIb1R2qQTh48CC/eLR06VJCkU6ePMkvTYJR0r6n1ly5coXQJFDhoieKpT6cO3dOD0Nw4wIqVVS2guBEOOvs4BSEw85E0OASBfy/5GvhbRQEX0tjY6O/N50UnMwcnCw0Fy9eZClMu3bt4i2v/glMVJr00Ucf0aAdhKrmIERvE38UCEcjRozgFSlVqaQBpbq6mgoUvUr8EubxehiqTIQ1fgGWlZWpvLxcgWPHjilVhC2qXOkSb2rS1atXO33J9dq1a5Go0vA18IeZ/6dRWQ7na4lCxYl/h7zo4esxM/c4fW5Rxm5Z3aGatHjxYi1btoyeJX5RUmnSvHnzqPioS5cuCnA7vUtUgTgjjxDEYzlLr7a2ViBsEXpaNnrT18RxwbFIVsGaOnUqx1H14jl15swZmZmZueJknWLdunUK8Kp4zZo1vOInQBGahK1btxKKqEJRXXrgsVSWuI1w9Nvf/pZg9UAPBP1TLd28eVMrV67kOB5DhYHm8lb7hE6fPq3169dT9SJEZV5vhZmZmYOTtbbkkyy0EKYCBKE2hpsglCFp3xTPhzCWOWa8/orSoaAjG8PNzMzByYz+HC4daXX1SZ2tqFC77V6vyDIzMwcnMxrU8/JyNWhAmdKB5+lELGXSOB+Zs+oQkXEEfG/o6YvE2V3BEj5jQLKpes5uA2YOTmaPh6VFxhnwCzUqZwcx/Z0zFaMwHJSJ8/TNRep7w4kTd+/ejcKMLcaIZMv3Jl0B3MzBydy/xdl5/CFjq5mo/HFmHhZfUwQwMiJK3xuGuEYiCFI5o+r0/9i7WxsIgSAAo7PLb3BURO90gcUiKIFLtgAwJ2Dznh6xlzGfuDAf3w34HAEAgHACABBOAADCCQAA4QQAIJwAAIQTAIBwAgAQTgAAwgkAAOEEACCcAAAc+YVt26Im67pWc+B33/fadlPNhf7jOOI8z/gPIM3zfD1OAQBw5agLAID/OEHf95Fz/uzbU0pxZxzHMvdyZQf376xuN0XTNGVHL1Z+xzAMjzPTNEXXdVEhEE7Qtm0sy/Jj3ww8FIiCMP4BVFWhklQVJaWgChAiVUJJRf9pUhQCQQRBEkUgBdQunPkczt7eAXjl/WAtg5k3b83M9/ah0+lgOBwin8/jXXA4HGi1Wmi32xiPx0gmk7DicrnQ7XZpMxgM5MkirSLZbBb9fp8xST7+K9KhUAiTyQTRaFTZ3HzvK657KpWCDYyx2WxKjsSe7yqSSCQwGo3QaDToq8fjgRWv18t9WKvV0Ov1UCwWodFodOOk+TDC4TDi8ThmsxnW6zWLNyd/9RG/ZbKn77vdDrlc7pdqZhgGttstptOp/JTMRiMQCCipNKXTaez3e8bj9/sRi8X+VHEqlQptFFU2ZI3Ff4mF61+tVm19LRQK3G+r1QrL5ZL5UjE3pVIJp9MJ8/lc4uB3YiWTyeDxeGCxWGCz2aBcLuPD0Gh046TRBINB3G433kC7XC6iFHByfgcikQiu1yuezycOhwN8Ph/cbjd+YpqmxEWb+/3O21w8OlIMp9NJteV8PuP1ekmRlqbW9kirXq/jeDzS9oudM9BcLArC+AAQECSAgogEKnqDJNK7BaAHCBCAAEoSopCAkFJQFVCt33BwDxuAufc/P1a7d8PMztmdb+ebc61SKBTkdDpxrrgVSF0QerF9qsJpNpvxeyoIv9+vSbuRCdN+v9fa7HY7KRaLEkOuTAIRVpyx2+0mGcNxXDg5Ds2LZhCgcaVlPwORF2Lnk7h/xc7UAPF0Pp/FGogmJhsIPXi9XuQXTz6YYuhUg9dHUCurIJQQq0BOxB7bcNQKsVur1dQKGwwGOnWzBnEiWMNZQyDFtQGE1efzkX6/L51ORxaLhTiO48LJyRg0tXgZmX/80wC2DjtawOf7/f5v7M1mk6kGlpDJ/KgD0KCBmvAsFopYjfl8nl0bfo4FZnJCiMigJiEnahPnE0TIdDrFRlVLr1KpWNtBY0qJSE2cNc5eLGobjYZsNhsZj8fkpDXKGI7jwslxeHlfsLiw7WgA9/td0sDlcsEaYWrGxEKb8OPxwCYJuzMqQFqtFtYKlhANT59ZgwkTsSGGiK9UKmF1JfbQyA+BsVqtZL1eY7Fi2elzYxA754oaED/ig2kftWFpGmsSMcVZw3Lle+xFUT+ErTkReL1e9YwxfeLzeDwGS1LPFnkhbPmByCJXcsoYjuNvDncc9k9Y4uXmEw17Pp/L8/mUNMCuCQu53AakSfG/fKYaNLFutyvD4ZBGprec2DfhphMsl0uEh7mpxna7lXa7jR2nNQg7TNVqlSkHtUIsJsQWvyZnaxwOBymXy9xEI3ZEKwJEa9Pr9WQ0GrF7xnNqRb4qOCaTiTkLEiGHWOW2I7dO+fMONly9XicvhBRnCpuOv0+cO10QdxzH3xzuZBT2T2jeTAHSGDvNjAaXdrCpmGqwH/RXzlXYfyJnRJNVEH0I9F9x8p1cLvevvTvwqCyN4zj8q2nuzJiZyVVJqBQESokEkQgqUSFEob8uQRKRClWBCEQICilSqVSVuut9uYssu4uGdp+Hy8y55wDw8X3PVYqpfx+0QEk4AQD4kysAAF4OBwAQTgAAwgkAQDgBAAgnAACEEwCAcAIAEE4AAMIJAOA/HU4AAMIJAADhBAAgnAAAhBMAgHACqKysjEKhEBUVFfEXAIQTwOfPn6O7uzump6djcnIypqamor29Pd4AEE4A9fX10dfXFysrK7GwsBCbm5vx/PwcSVqfvn//Hr9+/Ypv375FWflaWqnKvn79Gl++fIkfP37k61VVVfme9Elx9l4AquI3Afj06VPc39/HxcVFPDw8xM3NTZQ1NzdHb29vvLy85BhaWlqKpqam6OzsjNfX17i+vo719fX8fVqqzs/Pc0AtLy/n1aqxsTE/d3p6mu8DsDgBH9rJyUkcHBzE7OxszMzMRH9/f16UkvTvnZ2dmJ+fT2tUXpF6enpicXEx5ubmImlpaYmkuro6NjY28vWfP39GW1tbrK6uxtraWrS2tuagArA4AR9aOpZLwbO7u5uDqaOjIwYGBtLRXf6uvEA9Pj7mIEru7u4iSUtSsViM5Pb29s/rdXV1OZS6uroiOTs7y8sWgMUJ+NBqa2ujoaEhnp6e4vLyMg4PD9N6lP+fYid9n47bUlSlI7303lNNTU1an3I0XV1dxVvp2C8F19bWVjqiy5/0LIBwAj60tCKNjo7G+Ph4jI2N5eO57e3tKJVKsbe3l99xGhoayvck+/v7MTg4GMPDwzmcjo6O4q3j4+P0vlN+ZmRkJCYmJt5tcQKoKBaLpfiNANLRWvlILkVTWVqY0i/q0jFcWVqb0i/l/m5FSrFUKBTec20CKP2zcAIAoFQZ/2sAAN5xAgAQTgAAwgkAQDgBAAgnAADhBACAcAIAEE4AAMIJAEA4AQAIJwAA4QQAIJwAABBOAADCCQBAOAEACCcAAOEEACCcAAAQTgAAwgkAQDgBAAgnAADhBAAgnAAAhBMAAMIJAEA4AQAIJwAA4QQAIJwAAIQTAAB/AHcGHj/wVFfnAAAAAElFTkSuQmCC"},{title:"Experiment tracking",description:"Experiment tracking is the process of saving all the metadata related to an experiment each time you run it. It enables you to compare different runs of a machine-learning model as part of the experimentation process.",learnMoreLink:"https://docs.kedro.org/en/stable/experiment_tracking/index.html",elementId:"#experiment-tracking-nav-button",image:"data:image/jpeg;base64,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"},{title:"Filters and tags",description:"Use filters and tags to adjust the view of your visualisation and see only what you want, whether that's Nodes, Datasets, or tags you've created yourself.",elementId:".pipeline-nodelist-section__title span",learnMoreLink:"https://docs.kedro.org/en/latest/nodes_and_pipelines/nodes.html#how-to-tag-a-node"},{title:"Settings panel",description:"Find additional settings and experiments by opening the settings panel. You can even show or hide this very onboarding journey.",elementId:".pipeline-menu-button--settings"}],tn="showFeatureHints",an="featureHintStep",nn=me()?en:en.slice(1),sn=nn.length;var rn=Object(r.b)((e=>({metadataVisible:pi(e)})),((e,t)=>({onToggleShowFeatureHints:()=>{e(N(!1))},...t})))((e=>{let{metadataVisible:t,onToggleShowFeatureHints:a}=e;const[n,s]=Object(i.useState)(!1),[r,o]=Object(i.useState)(0),[l,c]=Object(i.useState)(!1),[d,p]=Object(i.useState)(!1);Object(i.useEffect)((()=>{const e=dt(je);e[tn]?s(!0):s(!1),e.featureHintStep&&o(e.featureHintStep)}),[]),Object(i.useEffect)((()=>{nn[r].elementId||c(!0),pt(je,{[an]:r})}),[r]);const u=()=>{p(!0),c(!0),a(!1),setTimeout((()=>{m()}),4e3)},m=()=>{s(!1),pt(je,{[an]:0,[tn]:!1})};return!1===n?null:Object(Di.jsxs)(Qi,{children:[Object(Di.jsx)($i,{featureHintsContent:nn,featureHintStep:r,hideDot:l,requestedHintClose:d}),Object(Di.jsx)("div",{className:"feature-hints",style:{right:t?"".concat(ke.open+36,"px"):"36px"},children:d?Object(Di.jsx)("p",{className:"feature-hints__reopen-message",children:"You can revisit these hints at any time in the Settings panel."}):Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsxs)("div",{className:"feature-hints__nav",children:[r+1," of ",sn,Object(Di.jsx)("div",{className:"feature-hints__close",onClick:()=>u(),children:Object(Di.jsx)(Wi,{})})]}),Object(Di.jsx)("div",{className:"feature-hints__header",children:nn[r].title}),nn[r].image&&Object(Di.jsx)("img",{alt:nn[r].title,src:nn[r].image}),Object(Di.jsx)("div",{className:"feature-hints__description",children:nn[r].description}),Object(Di.jsxs)("div",{className:"feature-hints__buttonsWrapper",children:[Object(Di.jsx)("div",{children:nn[r].learnMoreLink?Object(Di.jsx)("a",{href:nn[r].learnMoreLink,rel:"noreferrer",target:"_blank",children:Object(Di.jsx)(Xi,{mode:"secondary",size:"small",children:"Learn more"})}):null}),Object(Di.jsxs)("div",{className:"feature-hints__backNextButtons",children:[r>0?Object(Di.jsx)(Xi,{mode:"secondary",onClick:()=>o(r-1),size:"small",children:"Back"}):null,Object(Di.jsx)(Xi,{mode:"primary",onClick:()=>r+1===sn?u():o(r+1),size:"small",children:r+1===sn?"Close":"Next"})]})]})]})})]})}));var on=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("g",{children:Object(Di.jsx)("path",{d:"M12 4.5L12.7071 3.79289L12 3.08579L11.2929 3.79289L12 4.5ZM8.29289 6.79289L7.58579 7.5L9 8.91421L9.70711 8.20711L8.29289 6.79289ZM14.2929 8.20711L15 8.91421L16.4142 7.5L15.7071 6.79289L14.2929 8.20711ZM15.75 9.5H14.75V11.5H15.75V9.5ZM18.75 10.5H19.75V9.5H18.75V10.5ZM18.75 20.25V21.25H19.75V20.25H18.75ZM5.25 20.25H4.25V21.25H5.25V20.25ZM5.25 10.5V9.5H4.25V10.5H5.25ZM8.25 11.5H9.25V9.5H8.25V11.5ZM11 4.5V15H13V4.5H11ZM9.70711 8.20711L12.7071 5.20711L11.2929 3.79289L8.29289 6.79289L9.70711 8.20711ZM11.2929 5.20711L14.2929 8.20711L15.7071 6.79289L12.7071 3.79289L11.2929 5.20711ZM15.75 11.5H18.75V9.5H15.75V11.5ZM17.75 10.5V20.25H19.75V10.5H17.75ZM18.75 19.25H5.25V21.25H18.75V19.25ZM6.25 20.25V10.5H4.25V20.25H6.25ZM5.25 11.5H8.25V9.5H5.25V11.5Z"})})})};var ln=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M13 10V6h-2v4l-.766 2-.83 1.66 4.571-1.225-.218-.435L13 10zm1.889 4.261-6.68 1.79L7.235 18h9.526l-1.872-3.739zM20 20H4l4.999-10H9V6H8V4h8v2h-1v4h-.007L20 20z"})})};a(361);const cn=["right","left","bottom","top"],dn=e=>{let{active:t,ariaLabel:a,ariaLive:n,children:s,className:r,container:o="li",dataTest:l,dataHeapEvent:c,disabled:d,icon:p,labelText:u,labelTextPosition:m="right",onClick:_,visible:h,...b}=e;const f=p;let g;const[y,j]=Object(i.useState)(!1),v=cn.includes(m.toLowerCase())?m.toLocaleLowerCase():"right";return h?Object(Di.jsxs)(pn,{container:o,...b,children:[Object(Di.jsxs)("button",{"aria-label":a,"aria-live":n,className:xi()(r,{"pipeline-icon-toolbar__button":!0,"pipeline-icon-toolbar__button--active":t}),"data-test":l,"data-heap-event":c,disabled:d,onClick:_,onMouseEnter:()=>{g=setTimeout((()=>{window.localStorage.setItem("kedro-viz-tooltip-show",!0),j(!0)}),333)},onMouseLeave:()=>{clearTimeout(g),j(!1)},children:[f&&Object(Di.jsx)(f,{className:"pipeline-icon"}),u&&Object(Di.jsx)("span",{className:xi()("pipeline-toolbar__label",{"pipeline-toolbar__label__visible":y},"pipeline-toolbar__label-".concat(v)),children:u})]}),s]}):null},pn=e=>{let{children:t,container:a="li",...i}=e;return"symbol"===typeof a?Object(Di.jsx)(n.a.Fragment,{children:t}):Object(Di.jsx)(a,{className:"pipeline-icon--container",...i,children:t})};dn.defaultProps={active:!1,ariaLabel:null,ariaLive:null,children:null,dataTest:"TestDefaultDataValue",dataHeapEvent:null,disabled:!1,icon:null,labelText:null,onClick:null,visible:!0};var un=dn;var mn=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 32 32",fill:"none",children:Object(Di.jsx)("path",{d:"M16 0L6.55651e-07 16L16 32L32 16L16 0Z",fill:"#FFC900"})})};var _n=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"-4 -4 24 24",children:Object(Di.jsxs)("g",{children:[Object(Di.jsx)("path",{d:"M14.75 7L16.25 7 16.5 10 14.5 10z"}),Object(Di.jsx)("path",{d:"M0.75 7L2.25 7 2.5 10 0.5 10z"}),Object(Di.jsx)("path",{d:"M7.75 0L9.25 0 9.5 3 7.5 3z"}),Object(Di.jsx)("path",{d:"M7.75 14L9.25 14 9.5 17 7.5 17z"}),Object(Di.jsx)("path",{d:"M12.7 2.05L14.2 2.05 14.45 5.05 12.45 5.05z"}),Object(Di.jsx)("path",{d:"M2.8 11.95L4.3 11.95 4.55 14.95 2.55 14.95z"}),Object(Di.jsx)("path",{d:"M2.8 2.05L4.3 2.05 4.55 5.05 2.55 5.05z"}),Object(Di.jsx)("path",{d:"M12.7 11.95L14.2 11.95 14.45 14.95 12.45 14.95z"}),Object(Di.jsx)("path",{d:"M15.5 8.389c0 3.866-3.134 7-7 7s-7-3.134-7-7 3.134-7 7-7 7 3.134 7 7zm-2 0c0-2.762-2.239-5-5-5s-5 2.238-5 5c0 2.761 2.239 5 5 5s5-2.239 5-5z"})]})})};var hn=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M12 3a9 9 0 110 18 9 9 0 010-18zm0 2v14a7 7 0 100-14z"})})};var bn=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M12 2a3 3 0 0 1 2.16 5.082l4.47 8.94a3 3 0 1 1-1.79.895l-4.469-8.94a3.03 3.03 0 0 1-.742 0l-4.47 8.94a3 3 0 1 1-1.789-.895l4.47-8.94A3 3 0 0 1 12 2z"})})};a(362);var fn=Object(r.b)((e=>({theme:e.theme,visible:e.visible})),(e=>({onToggleSettingsModal:t=>{e(y(t))},onToggleShareableUrlModal:t=>{e(f(t))},onToggleTheme:t=>{e({type:M,theme:t})}})))((e=>{let{isOutdated:t,onToggleSettingsModal:a,onToggleShareableUrlModal:i,onToggleTheme:n,theme:s}=e;return Object(Di.jsx)(Di.Fragment,{children:Object(Di.jsxs)("div",{className:"pipeline-global-toolbar",children:[Object(Di.jsxs)("ul",{className:"pipeline-global-routes-toolbar kedro",children:[Object(Di.jsx)(un,{ariaLabel:"Kedro Viz logo and link",className:"pipeline-menu-button--logo pipeline-menu-button--large",dataTest:"Kedro Icon",disabled:!1,icon:mn}),Object(Di.jsx)(yi.b,{exact:!0,to:{pathname:_e()},children:Object(Di.jsx)(un,{ariaLabel:"View your pipeline",dataTest:"View your pipeline",className:"pipeline-menu-button--large pipeline-menu-button--link","data-test":"FlowChart Icon",disabled:!1,icon:bn,labelText:"Flowchart"})}),me()?Object(Di.jsx)(yi.b,{exact:!0,id:"experiment-tracking-nav-button",to:{pathname:"".concat(_e(),"experiment-tracking")},children:Object(Di.jsx)(un,{ariaLabel:"View your experiments",className:"pipeline-menu-button--large pipeline-menu-button--link",dataTest:"View your experiments",disabled:!1,icon:ln,labelText:"Experiment tracking"})}):null]}),Object(Di.jsxs)("ul",{className:"pipeline-global-control-toolbar kedro",children:[Object(Di.jsx)(un,{ariaLabel:"Change to ".concat("light"===s?"dark":"light"," theme"),ariaLive:"polite",dataTest:"Toggle Theme",className:"pipeline-menu-button--theme pipeline-menu-button--large",dataHeapEvent:"theme.".concat(s),icon:hn,labelText:"Toggle theme",onClick:()=>n("light"===s?"dark":"light")}),me()?Object(Di.jsx)(un,{ariaLabel:"Publish and share",className:"pipeline-menu-button--deploy pipeline-menu-button--large",dataTest:"Publish and share Kedro-Viz",disabled:!1,icon:on,labelText:"Publish and share",onClick:()=>i(!0)}):null,Object(Di.jsx)(un,{ariaLabel:"Change the settings flags",className:"pipeline-menu-button--settings pipeline-menu-button--large",dataTest:"Change the settings flags",disabled:!1,icon:_n,labelText:"Settings",onClick:()=>a(!0),children:t&&Object(Di.jsx)("span",{className:"update-reminder-dot"})})]})]})})}));const gn=Object(ta.a)([e=>e.loading.graph,e=>e.loading.pipeline,e=>e.loading.node],((e,t,a)=>e||t||a));a(368);var yn=e=>{let{children:t,className:a,closeModal:n,message:s,title:r,visible:o}=e;const l=e=>{27===e.keyCode&&n(!0)};return Object(i.useEffect)((()=>(window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l))),[o]),Object(Di.jsxs)("div",{className:xi()("modal",{"modal--visible":o,[a]:!!a}),role:"dialog",children:[Object(Di.jsx)("div",{onClick:n,className:xi()("modal__bg",{"modal__bg--visible":o})}),Object(Di.jsx)("div",{className:xi()("modal__content",{"modal__content--visible":o}),children:Object(Di.jsxs)("div",{className:"modal__wrapper",children:[r&&Object(Di.jsx)("div",{className:"modal__title",children:r}),s&&Object(Di.jsx)("div",{className:"modal__description",children:s}),t]})})]})},jn=a(150);var vn=e=>{let{format:t,theme:a,graphSize:i,mockFn:n}=e;const s={png:jn.b,svg:jn.a},r=n||s[t],o=document.querySelector("#pipeline-graph"),l=o.parentNode.appendChild(o.cloneNode(!0));let c,d;l.classList.add("kedro","kui-theme--".concat(a),"pipeline-graph--export");const p=isFinite(i.width)&&isFinite(i.height);if(p&&(c=i.width+2*i.marginx,d=i.height+2*i.marginy,l.setAttribute("viewBox","0 0 ".concat(c," ").concat(d))),l.querySelector("#zoom-wrapper").removeAttribute("transform"),l.querySelector("#zoom-wrapper").setAttribute("transform","translate(".concat(80,", 0)")),"png"===t){const e=5e3;c=Math.min(c,e),d=Math.min(d,e*(d/c))}p&&(l.setAttribute("width",c),l.setAttribute("height",d));const u=document.createElement("style");u.innerHTML="svg"===t?"@import url(https://fonts.googleapis.com/css?family=Inter:400);":'.kedro {\n      font-family: "Trebuchet MS", "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Tahoma, sans-serif;\n      letter-spacing: -0.4px;\n    }',l.prepend(u);r(l,"kedro-pipeline","svg"===t?{css:"internal"}:void 0),o.parentNode.removeChild(l)};a(369);var xn=Object(r.b)((e=>({graphSize:e.graph.size||{},visible:e.visible,theme:e.theme})),(e=>({onToggle:t=>{e(h(t))}})))((e=>{let{graphSize:t,theme:a,onToggle:i,visible:n}=e;return n.exportBtn?Object(Di.jsx)(yn,{closeModal:()=>i(!1),title:"Export pipeline visualisation",visible:n.exportModal,children:Object(Di.jsxs)("div",{className:"pipeline-export-modal",children:[Object(Di.jsx)(Xi,{dataTest:"btnDownloadPNG",onClick:()=>{vn({format:"png",theme:a,graphSize:t}),i(!1)},children:"Download PNG"}),Object(Di.jsx)(Xi,{dataTest:"btnDownloadSVG",onClick:()=>{vn({format:"svg",theme:a,graphSize:t}),i(!1)},children:"Download SVG"})]})}):null}));const On=Object(ta.a)([e=>e.graph,ka,e=>e.layer.name],((e,t,a)=>{let{nodes:i,size:n}=e;if(!i||!n||!i.length||!t.length)return[];const{width:s,height:r}=n,o={};for(const l of i){const e=l.nearestLayer||l.layer;if(e){const t=o[e]||(o[e]=[1/0,-1/0]);l.y-l.height<t[0]&&(t[0]=l.y-l.height),l.y+l.height>t[1]&&(t[1]=l.y+l.height)}}return t.map(((e,i)=>{const n=o[e]||[0,0],l=o[t[i-1]]||[n[0],n[0]],c=o[t[i+1]]||[n[1],n[1]],d=(l[1]+n[0])/2,p=(n[1]+c[0])/2,u=5*Math.max(s,r);return{id:e,name:a[e],x:(u-s)/-2,y:d,width:u,height:Math.max(p-d,0)}}))})),wn=Object(ta.a)([La],(e=>{const t={},a={};for(const i of e)t[i.target]||(t[i.target]=[]),t[i.target].push(i.source),a[i.source]||(a[i.source]=[]),a[i.source].push(i.target);return{sourceEdges:t,targetEdges:a}})),kn=(e,t,a)=>(a[e]||(a[e]=!0,t[e]&&t[e].forEach((e=>kn(e,t,a)))),a),Nn=Object(ta.a)([wn,e=>e.node.clicked],((e,t)=>{let{sourceEdges:a,targetEdges:i}=e;if(!t)return{};const n={};return kn(t,a,n),n[t]=!1,kn(t,i,n),n}));a(54);var Tn=a(214),Mn=a(616),Sn=a(604);var zn=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return Object.keys(t||{}).reduce(((a,i)=>{const n=t[i];return"string"!==typeof n&&"number"!==typeof n?"".concat(a," ").concat(e,"--").concat(n?"":"no-").concat(i):"".concat(a," ").concat(e,"--").concat(i,"-").concat((n+"").replace(/\s/g,"-"))}),e)+(a?" "+a:"")};const En={data:"M12 4c3.31 0 6 1.67 6 3.73l-.01.27H18v9h-.02a1.1 1.1 0 01-.16.42c-1.14 1.7-3.11 2.53-5.82 2.53s-4.68-.82-5.82-2.53a1.09 1.09 0 01-.16-.42H6V8h.01A2.33 2.33 0 016 7.73C6 5.67 8.69 4 12 4zm0 11.73c-1.6 0-2.94-.31-4-.94v1.64c.74.9 2.05 1.38 4 1.38 1.95 0 3.26-.48 4-1.38v-1.65c-1.06.64-2.4.95-4 .95zm0-4.26a8.33 8.33 0 01-4-.95v1.64c.75 1.1 2.04 1.65 4 1.65s3.25-.55 4-1.65V10.5c-1.06.6-2.46.96-4 .96zm0-5.34a6.3 6.3 0 00-3.23.8c-.56.35-.77.66-.77.8 0 .15.2.45.77.8.8.5 1.96.8 3.23.8s2.44-.3 3.23-.8c.56-.35.77-.65.77-.8 0-.14-.2-.45-.77-.8a6.3 6.3 0 00-3.23-.8z",JSONTracking:"M12 4c3.31 0 6 1.67 6 3.73l-.01.27H18v9h-.02a1.1 1.1 0 01-.16.42c-1.14 1.7-3.11 2.53-5.82 2.53s-4.68-.82-5.82-2.53a1.09 1.09 0 01-.16-.42H6V8h.01A2.33 2.33 0 016 7.73C6 5.67 8.69 4 12 4zm0 11.73c-1.6 0-2.94-.31-4-.94v1.64c.74.9 2.05 1.38 4 1.38 1.95 0 3.26-.48 4-1.38v-1.65c-1.06.64-2.4.95-4 .95zm0-4.26a8.33 8.33 0 01-4-.95v1.64c.75 1.1 2.04 1.65 4 1.65s3.25-.55 4-1.65V10.5c-1.06.6-2.46.96-4 .96zm0-5.34a6.3 6.3 0 00-3.23.8c-.56.35-.77.66-.77.8 0 .15.2.45.77.8.8.5 1.96.8 3.23.8s2.44-.3 3.23-.8c.56-.35.77-.65.77-.8 0-.14-.2-.45-.77-.8a6.3 6.3 0 00-3.23-.8z",metricsTracking:"M12 4c3.31 0 6 1.67 6 3.73l-.01.27H18v9h-.02a1.1 1.1 0 01-.16.42c-1.14 1.7-3.11 2.53-5.82 2.53s-4.68-.82-5.82-2.53a1.09 1.09 0 01-.16-.42H6V8h.01A2.33 2.33 0 016 7.73C6 5.67 8.69 4 12 4zm0 11.73c-1.6 0-2.94-.31-4-.94v1.64c.74.9 2.05 1.38 4 1.38 1.95 0 3.26-.48 4-1.38v-1.65c-1.06.64-2.4.95-4 .95zm0-4.26a8.33 8.33 0 01-4-.95v1.64c.75 1.1 2.04 1.65 4 1.65s3.25-.55 4-1.65V10.5c-1.06.6-2.46.96-4 .96zm0-5.34a6.3 6.3 0 00-3.23.8c-.56.35-.77.66-.77.8 0 .15.2.45.77.8.8.5 1.96.8 3.23.8s2.44-.3 3.23-.8c.56-.35.77-.65.77-.8 0-.14-.2-.45-.77-.8a6.3 6.3 0 00-3.23-.8z",task:"M20 4.2l.2.2L19 5.9c-2.3-1.8-3.8-.9-4.8 3.4h3.1v2h-3.5v.2l-.1.6c-1.2 7.9-4 11-8.3 8l-.2-.1 1.2-1.6c2.5 1.8 4.2.3 5.2-5.9l.2-1v-.2H9.2v-2h3c1.4-6 4.1-8 7.9-5z",parameters:"M10.2 14v1.5H20v2h-9.8V19H8.3v-1.5H5v-2h3.3V14h2zm7.4-9v1.5H20v2h-2.4V10h-1.8V8.5H5v-2h10.8V5h1.8z",modularPipeline:"M8.18 4c1.11 0 2.03.8 2.17 1.86l4.4 1.61c.31-.17.68-.27 1.07-.27 1.2 0 2.18.95 2.18 2.13s-.98 2.14-2.18 2.14c-.38 0-.73-.1-1.04-.26l-4.22 2.74L13.69 16c.3-.16.66-.26 1.04-.26 1.2 0 2.18.96 2.18 2.14 0 1.18-.98 2.13-2.18 2.13a2.16 2.16 0 01-2.17-2.35l-3.34-2.18c-.3.17-.66.26-1.04.26-1.2 0-2.18-.95-2.18-2.13s.98-2.13 2.18-2.13c.61 0 1.16.24 1.56.63l3.9-2.55v-.22-.13L9.63 7.73c-.39.33-.9.54-1.45.54C6.98 8.27 6 7.3 6 6.13 6 4.95 6.98 4 8.18 4z",plotly:"M6.261 11.546l5.465 5.766-1.452 1.376-4.013-4.235-2.535 2.676-1.452-1.376 3.987-4.207zm6.911-2.898l8.495 7.607-1.334 1.49-7.14-6.394-2.514 2.325-1.358-1.469 3.851-3.559zM5.5 6C6.328 6 7 6.672 7 7.5S6.328 9 5.5 9 4 8.328 4 7.5 4.672 6 5.5 6z",image:"M6.261 11.546l5.465 5.766-1.452 1.376-4.013-4.235-2.535 2.676-1.452-1.376 3.987-4.207zm6.911-2.898l8.495 7.607-1.334 1.49-7.14-6.394-2.514 2.325-1.358-1.469 3.851-3.559zM5.5 6C6.328 6 7 6.672 7 7.5S6.328 9 5.5 9 4 8.328 4 7.5 4.672 6 5.5 6z"};var Cn=e=>{let{className:t,icon:a}=e;return En[a]?Object(Di.jsx)("svg",{className:zn("pipeline-node-icon",{icon:a},t),viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:En[a]})}):null};const Pn=Object(Mn.a)().x((e=>e.x)).y((e=>e.y)).curve(Sn.a),An=/\d+\.\d+/g,Ln=e=>parseFloat(e).toFixed(1),Dn=function(){const{layers:e}=this.props;this.el.layers=this.el.layerGroup.selectAll(".pipeline-layer").data(e,(e=>e.id));const t=this.el.layers.enter().append("rect").attr("class","pipeline-layer").on("mouseover",this.handleLayerMouseOver).on("mouseout",this.handleLayerMouseOut);this.el.layers.exit().remove(),this.el.layers=this.el.layers.merge(t),this.el.layers.attr("x",(e=>e.x)).attr("y",(e=>e.y)).attr("height",(e=>e.height)).attr("width",(e=>e.width))},Rn=function(){const{chartSize:{sidebarWidth:e=0},layers:t}=this.props;this.el.layerNameGroup.transition("layer-names-sidebar-width").duration(this.DURATION).style("transform","translateX(".concat(e,"px)")),this.el.layerNames=this.el.layerNameGroup.selectAll(".pipeline-layer-name").data(t,(e=>e.id));const a=this.el.layerNames.enter().append("li").attr("class","pipeline-layer-name").attr("data-id",(e=>"layer-label--".concat(e.name)));a.style("opacity",0).transition("enter-layer-names").duration(this.DURATION).style("opacity",.55),this.el.layerNames.exit().style("opacity",.55).transition("exit-layer-names").duration(this.DURATION).style("opacity",0).remove(),this.el.layerNames=this.el.layerNames.merge(a),this.el.layerNames.text((e=>e.name)).attr("dy",5)},Vn=e=>e.attr("width",(e=>e.width-5)).attr("height",(e=>e.height-5)).attr("x",(e=>(e.width-5)/-2)).attr("y",(e=>(e.height-5)/-2)).attr("rx",(e=>"task"===e.type||"modularPipeline"===e.type?0:e.height/2)),In=e=>e.attr("width",12).attr("height",12).attr("x",(e=>(e.width+20)/-2)).attr("y",-6),Bn=function(e){const{clickedNode:t,linkedNodes:a,nodeTypeDisabled:i,nodeActive:n,nodeSelected:s,hoveredParameters:r,nodesWithInputParams:o,inputOutputDataNodes:l,nodes:c,focusMode:d,hoveredFocusMode:p}=this.props,u=e=>null!==d&&l[e];if(e("nodes")&&(this.el.nodes=this.el.nodeGroup.selectAll(".pipeline-node").data(c,(e=>e.id))),!this.el.nodes)return;const m=this.el.nodes,_=this.el.nodes.enter().append("g"),h=this.el.nodes.exit(),b=this.el.nodes.merge(_).merge(h).filter((e=>"undefined"!==typeof e));e("nodes")&&(_.attr("tabindex","0").attr("class","pipeline-node").attr("transform",(e=>"translate(".concat(e.x,", ").concat(e.y,")"))).attr("data-id",(e=>e.id)).classed("pipeline-node--parameters",(e=>"parameters"===e.type)).classed("pipeline-node--data",(e=>"data"===e.type)).classed("pipeline-node--task",(e=>"task"===e.type)).on("click",this.handleNodeClick).on("mouseover",this.handleNodeMouseOver).on("mouseout",this.handleNodeMouseOut).on("focus",this.handleNodeMouseOver).on("blur",this.handleNodeMouseOut).on("keydown",this.handleNodeKeyDown),_.attr("opacity",0).transition("show-nodes").duration(this.DURATION).attr("opacity",1),_.append("rect").attr("class",(e=>"pipeline-node__bg pipeline-node__bg--".concat(e.type," pipeline-node__bg--").concat(e.icon))),_.append("rect").attr("class","pipeline-node__parameter-indicator").on("mouseover",this.handleParamsIndicatorMouseOver).call(In),_.append("path").attr("class","pipeline-node__icon").attr("d",(e=>En[e.icon])),_.append("text").attr("class","pipeline-node__text").text((e=>e.name)).attr("text-anchor","middle").attr("dy",5).attr("dx",(e=>e.textOffset)),h.transition("exit-nodes").duration(this.DURATION).style("opacity",0).remove(),m.transition("exit-nodes").style("opacity",null),this.el.nodes=this.el.nodeGroup.selectAll(".pipeline-node")),e("nodes","nodeTypeDisabled","nodeActive","nodeSelected","hoveredParameters","nodesWithInputParams","clickedNode","linkedNodes","focusMode","inputOutputDataNodes")&&b.classed("pipeline-node--active",(e=>n[e.id])).classed("pipeline-node--selected",(e=>s[e.id])).classed("pipeline-node--collapsed-hint",(e=>r&&o[e.id]&&i.parameters)).classed("pipeline-node--dataset-input",(e=>u(e.id)&&"data"===e.type)).classed("pipeline-node--parameter-input",(e=>u(e.id)&&"parameters"===e.type)).classed("pipeline-node-input--active",(e=>u(e.id)&&n[e.id])).classed("pipeline-node-input--selected",(e=>u(e.id)&&s[e.id])).classed("pipeline-node--faded",(e=>t&&!a[e.id])),e("hoveredFocusMode")&&b.classed("pipeline-node--faded",(e=>p&&!n[e.id])),e("nodes")&&(b.transition("update-nodes").duration(this.DURATION).attr("transform",(e=>"translate(".concat(e.x,", ").concat(e.y,")"))).on("end",(()=>{try{b.sort(((e,t)=>e.order-t.order))}catch(e){}})),_.select(".pipeline-node__bg").call(Vn),m.select(".pipeline-node__bg").transition("node-rect").duration((e=>e.showText?200:600)).call(Vn),b.select(".pipeline-node__parameter-indicator").classed("pipeline-node__parameter-indicator--visible",(e=>i.parameters&&o[e.id])).transition("node-rect").duration((e=>e.showText?200:600)).call(In),b.select(".pipeline-node__icon").style("transition-delay",(e=>e.showText?"0ms":"200ms")).style("transform",(e=>"translate(".concat(e.iconOffset,"px, ").concat(-e.iconSize/2,"px) ")+"scale(".concat(e.iconSize/24,")"))),b.select(".pipeline-node__text").text((e=>e.name)).style("transition-delay",(e=>e.showText?"200ms":"0ms")).style("opacity",(e=>e.showText?1:0)))},Hn=function(e){const{edges:t,clickedNode:a,linkedNodes:i,focusMode:n,inputOutputDataEdges:s}=this.props,r=e=>null!==n&&s[e];if(e("edges")&&(this.el.edges=this.el.edgeGroup.selectAll(".pipeline-edge").data(t,(e=>e.id))),!this.el.edges)return;const o=this.el.edges,l=this.el.edges.enter().append("g"),c=this.el.edges.exit(),d=this.el.edges.merge(l).merge(c).filter((e=>e));e("edges","focusMode","inputOutputDataNodes")&&(l.append("path"),d.select("path").attr("marker-end",(e=>"parameters"===e.sourceNode.type?r(e.id)?"url(#pipeline-arrowhead--accent--input)":"url(#pipeline-arrowhead--accent)":r(e.id)?"url(#pipeline-arrowhead--input)":"url(#pipeline-arrowhead)")),l.attr("data-id",(e=>e.id)).attr("class","pipeline-edge"),l.attr("opacity",0).transition("show-edges").duration(this.DURATION).attr("opacity",1),c.transition("exit-edges").duration(this.DURATION).style("opacity",0).remove(),o.transition("exit-edges").style("opacity",null),d.select("path").transition("update-edges").duration(this.DURATION).attrTween("d",(function(e){let t=e.points&&Pn(e.points).replace(An,Ln);const a=Object(aa.a)(this).attr("d")||t;return Object(Tn.a)(a,t)})),this.el.edges=this.el.edgeGroup.selectAll(".pipeline-edge")),e("edges","clickedNode","linkedNodes","focusMode","inputOutputDataEdges")&&d.classed("pipeline-edge--parameters",(e=>"parameters"===e.sourceNode.type&&!r(e.id))).classed("pipeline-edge--parameters-input",(e=>"parameters"===e.sourceNode.type&&r(e.id))).classed("pipeline-edge--dataset--input",(e=>r(e.id))).classed("pipeline-edge--faded",(e=>e&&a&&(!i[e.source]||!i[e.target])))};var Un=a(619),qn=a(124);const Gn=e=>{let{container:t,wrapper:a,onViewChanged:i,onViewEnd:n,allowUserInput:s=!0}=e;const r=Object(qn.a)().on("zoom",(e=>{const t=e.transform;Jn(t)||(Object(aa.a)(a.current).attr("transform",t),i&&i(t))})).on("end",n).interpolate(Un.a);return s||r.filter((()=>!1)),Object(aa.a)(t.current).call(r).on("dblclick.zoom",null),{zoom:r,container:t,wrapper:a}},Fn=qn.b,Zn=e=>{let{x:t,y:a,k:i}=e;return t===Fn.x&&a===Fn.y&&i===Fn.k},Jn=e=>{let{x:t,y:a,k:i}=e;return!isFinite(t+a+i)||isNaN(t+a+i)||0===t&&0===a&&0===i},Kn=e=>{const t=Object(qn.c)(e.wrapper.current);return Jn(t)?Fn:Xn(t)},Xn=e=>Fn.translate(-e.x||0,-e.y||0).scale(e.k),Wn=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=Object(aa.a)(e.container.current),n=Fn.translate(-t.x,-t.y).scale(t.k);"undefined"===typeof jest?(a?i.transition("zoom").duration(a):i).call(e.zoom.transform,n):e.container.current.__zoom=n},Yn=e=>{let{offset:t,focus:a,viewWidth:i,viewHeight:n,objectWidth:s,objectHeight:r,minScaleX:o=0,minScaleFocus:l=0,focusOffset:c=.8,preventZoom:d}=e,p=Fn.k,u=Fn.x,m=Fn.y;const _=n/r,h=i/s,b=Math.max(o,h);if(p=Math.min(b,_),!a&&d||(p=Math.max(l,p)),u+=t.x,m+=t.y,u+=.5*(i-s*p),m+=.5*(n-r*p),a){const e=n<r*p,t=.5*r,o=i<s*p?.5*s-a.x:0,l=e?t-a.y:0;u+=o*p,m+=l*p,u-=o/s*i*c,m-=l/r*n*c}return{x:-u||0,y:-m||0,k:p}};a(370);const Qn=String.fromCharCode(8203),$n=e=>e.replace(/([^\w\s]|[_])/g,"".concat(Qn,"$1").concat(Qn)),es=e=>{let{arrowSize:t,centerArrow:a,chartSize:i,noDelay:n,style:s,targetRect:r,text:o,visible:l}=e,c=!1,d=!1;const p=i&&Object.keys(i).length,u={...s};if(p){let e=0,t=0;const{left:a,top:n,width:s,height:o,outerWidth:l,sidebarWidth:p}=i;d=r.left-p>s/2,c=r.top<o/2;const m=d?r.left-l:r.left,_=c?r.top+r.height:r.top;e=m-a+r.width/2,t=_-n,u.transform="translate(".concat(e,"px, ").concat(t,"px)")}return Object(Di.jsx)("div",{className:xi()("pipeline-tooltip",{"pipeline-tooltip--visible":l,"pipeline-tooltip--right":d,"pipeline-tooltip--top":c,"pipeline-tooltip--chart":p,"pipeline-tooltip--no-delay":n,"pipeline-tooltip--center-arrow":a,"pipeline-tooltip--small-arrow":"small"===t}),style:u,children:Object(Di.jsx)("div",{className:"pipeline-tooltip__text",children:$n(o)})})};es.defaultProps={arrowSize:"regular",centerArrow:!1,chartSize:{},noDelay:!1,style:{},targetRect:{},text:"",visible:!1};var ts=es;a(371);class as extends i.Component{constructor(e){super(e),this.handleWindowResize=()=>{this.updateChartSize()},this.handleBeforePrint=()=>{const e=this.props.graphSize,t=e.width+2*e.marginx,a=e.height+2*e.marginy;this.el.svg.attr("viewBox","0 0 ".concat(t," ").concat(a))},this.handleAfterPrint=()=>{this.el.svg.attr("viewBox",null)},this.getHoveredParameterLabel=e=>e.length>1?"Parameters:".concat(e.length):e[0],this.handleNodeClick=(e,t)=>{"modularPipeline"===t.type?this.props.onClickToExpandModularPipeline(t.id):(this.props.onLoadNodeData(t.id),this.props.toSelectedNode(t)),e.stopPropagation()},this.handleChartClick=()=>{this.props.clickedNode&&(this.props.onLoadNodeData(null),this.props.toSelectedPipeline())},this.handleNodeMouseOver=(e,t)=>{this.props.onToggleNodeHovered(t.id),t&&this.showTooltip(e,t.fullName)},this.handleLayerMouseOver=(e,t)=>{t&&this.setState({activeLayer:t.name});const{activeLayer:a}=this.state,i=document.querySelector('[data-id="layer-label--'.concat(t.name,'"]'));a&&i&&i.classList.add("pipeline-layer-name--active")},this.handleLayerMouseOut=(e,t)=>{const{activeLayer:a}=this.state,i=document.querySelector('[data-id="layer-label--'.concat(t.name,'"]'));a&&i&&i.classList.remove("pipeline-layer-name--active"),t&&this.setState({activeLayer:void 0})},this.handleParamsIndicatorMouseOver=(e,t)=>{const a=this.props.nodesWithInputParams[t.id];if(a){const t=this.getHoveredParameterLabel(a);this.showTooltip(e,t)}e.stopPropagation()},this.handleNodeMouseOut=()=>{this.props.onToggleNodeHovered(null),this.hideTooltip()},this.handleNodeKeyDown=(e,t)=>{13===e.keyCode&&this.handleNodeClick(e,t),27===e.keyCode&&(this.handleChartClick(),this.handleNodeMouseOut())},this.state={tooltip:{visible:!1},activeLayer:void 0},this.onViewChange=this.onViewChange.bind(this),this.onViewChangeEnd=this.onViewChangeEnd.bind(this),this.containerRef=n.a.createRef(),this.svgRef=n.a.createRef(),this.wrapperRef=n.a.createRef(),this.edgesRef=n.a.createRef(),this.nodesRef=n.a.createRef(),this.layersRef=n.a.createRef(),this.layerNamesRef=n.a.createRef(),this.DURATION=700,this.MARGIN=500,this.MIN_SCALE=.8,this.MAX_SCALE=2}componentDidMount(){this.selectD3Elements(),this.updateChartSize(),this.view=Gn({container:this.svgRef,wrapper:this.wrapperRef,onViewChanged:this.onViewChange,onViewEnd:this.onViewChangeEnd}),this.updateViewExtents(),this.addGlobalEventListeners(),this.update(),this.props.tooltip?this.showTooltip(null,null,this.props.tooltip):this.hideTooltip()}componentWillUnmount(){this.removeGlobalEventListeners()}componentDidUpdate(e){this.update(e)}update(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{chartZoom:a}=this.props,i=function(){for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return e.changed(i,t,e.props)},n=this.props.visibleMetaSidebar;if(i("visibleSidebar","visibleCode","visibleMetaSidebar")&&this.updateChartSize(),i("layers","chartSize")&&(Dn.call(this),Rn.call(this)),i("edges","clickedNode","linkedNodes","focusMode","inputOutputDataEdges")&&Hn.call(this,i),i("nodes","clickedNode","linkedNodes","nodeTypeDisabled","nodeActive","nodeSelected","hoveredParameters","nodesWithInputParams","focusMode","inputOutputDataNodes","hoveredFocusMode")&&Bn.call(this,i),i("edges","nodes","layers","chartSize","clickedNode")){if(t.visibleMetaSidebar!==this.props.visibleMetaSidebar)return Bn.call(this,i),void Hn.call(this,i);if(t.visibleCode!==this.props.visibleCode&&!this.props.visibleMetaSidebar)return Bn.call(this,i),void Hn.call(this,i);this.resetView(n)}else this.onChartZoomChanged(a)}changed(e,t,a){return t&&a&&e.some((e=>t[e]!==a[e]))}selectD3Elements(){this.el={svg:Object(aa.a)(this.svgRef.current),wrapper:Object(aa.a)(this.wrapperRef.current),edgeGroup:Object(aa.a)(this.edgesRef.current),nodeGroup:Object(aa.a)(this.nodesRef.current),layerGroup:Object(aa.a)(this.layersRef.current),layerNameGroup:Object(aa.a)(this.layerNamesRef.current)}}updateChartSize(){"undefined"!==typeof jest?this.props.onUpdateChartSize(is):this.props.onUpdateChartSize(this.containerRef.current.getBoundingClientRect())}addGlobalEventListeners(){window.ResizeObserver?(this.resizeObserver=this.resizeObserver||new window.ResizeObserver(this.handleWindowResize),this.resizeObserver.observe(this.containerRef.current)):window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeprint",this.handleBeforePrint),window.addEventListener("afterprint",this.handleAfterPrint)}removeGlobalEventListeners(){window.ResizeObserver?this.resizeObserver.unobserve(this.containerRef.current):window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeprint",this.handleBeforePrint),window.removeEventListener("afterprint",this.handleAfterPrint)}onViewChange(e){const{k:t,x:a,y:i}=e;this.el.wrapper.classed("pipeline-flowchart__zoom-wrapper--animating",!0),this.el.layerNames&&this.el.layerNames.style("transform",(e=>{const a=i+(e.y+e.height/2)*t;return"translateY(".concat(a,"px)")})),this.hideTooltip(),this.updateViewExtents(e);const n=(e=>{const t=e.zoom.scaleExtent(),a=e.zoom.translateExtent();return{translate:{minX:a[0][0],minY:a[0][1],maxX:a[1][0],maxY:a[1][1]},scale:{minK:t[0],maxK:t[1]}}})(this.view);this.props.onUpdateZoom({scale:t,x:a,y:i,applied:!0,transition:!1,relative:!1,minScale:n.scale.minK,maxScale:n.scale.maxK})}onViewChangeEnd(){this.el.wrapper.classed("pipeline-flowchart__zoom-wrapper--animating",!1)}updateViewExtents(e){const{k:t}=e||Kn(this.view),{sidebarWidth:a=0,metaSidebarWidth:i=0,codeSidebarWidth:n=0,width:s=0,height:r=0}=this.props.chartSize,{width:o=0,height:l=0}=this.props.graphSize,c=a/t,d=(i+n)/t,p=this.MARGIN,u=Math.min(s/(o||1),r/(l||1));((e,t)=>{let{translate:a,scale:i}=t;if(a){const{minX:t,minY:i,maxX:n,maxY:s}=a;e.zoom.translateExtent([[t,i],[n,s]])}if(i){const{minK:t,maxK:a}=i;e.zoom.scaleExtent([t,a])}})(this.view,{translate:{minX:-c-p,maxX:o+p+d,minY:-p,maxY:l+p},scale:{minK:this.MIN_SCALE*u,maxK:this.MAX_SCALE}})}onChartZoomChanged(e){e.applied||(!0!==e.reset?function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const n=Object(aa.a)(e.container.current),s=Kn(e),r="undefined"!==typeof t.x&&"undefined"!==typeof t.y;let o,l,c;if("undefined"!==typeof jest&&(a=0),i?(o=s.k+(t.k||0),l=s.x+(t.x||0),c=s.y+(t.y||0)):(o=t.k||s.k,l=t.x||s.x,c=t.y||s.y),r&&(n.call(e.zoom.transform,Fn),n.call(e.zoom.translateTo,l/o,c/o)),n.call(e.zoom.scaleTo,o),a){const t=Kn(e);n.call(e.zoom.transform,Xn(s)),Wn(e,t,a)}}(this.view,{x:e.x,y:e.y,k:e.scale},e.transition?.3*this.DURATION:0,e.relative):this.resetView(!0))}resetView(e){const{chartSize:t,graphSize:a,clickedNode:i,nodes:n}=this.props,{width:s,height:r}=t,{width:o,height:l}=a;if(!s||!o)return;const c={x:t.sidebarWidth,y:0},d=i?n.find((e=>e.id===i)):null,p=Yn({offset:c,focus:d,viewWidth:s,viewHeight:r,objectWidth:o,objectHeight:l,minScaleX:.2,minScaleFocus:this.props.visibleMetaSidebar?this.props.chartZoom.scale:.1,focusOffset:0,preventZoom:e}),u=Zn(Kn(this.view));Wn(this.view,p,u?0:this.DURATION,!1)}showTooltip(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.setState({tooltip:{targetRect:e&&e.target.getBoundingClientRect(),text:t,visible:!0,...a}})}hideTooltip(){this.state.tooltip.visible&&this.setState({tooltip:{...this.state.tooltip,visible:!1}})}render(){const{chartSize:e,layers:t,visibleGraph:a,displayGlobalToolbar:i}=this.props,{outerWidth:n=0,outerHeight:s=0}=e;return Object(Di.jsxs)("div",{className:"pipeline-flowchart kedro",ref:this.containerRef,onClick:this.handleChartClick,children:[Object(Di.jsx)("svg",{id:"pipeline-graph",className:"pipeline-flowchart__graph",width:n,height:s,ref:this.svgRef,children:Object(Di.jsxs)("g",{id:"zoom-wrapper",className:xi()("pipeline-zoom-wrapper",{"pipeline-zoom-wrapper--hidden":!a}),ref:this.wrapperRef,children:[Object(Di.jsx)("defs",{children:["arrowhead","arrowhead--input","arrowhead--accent--input","arrowhead--accent"].map((e=>Object(Di.jsx)("marker",{id:"pipeline-".concat(e),className:"pipeline-flowchart__".concat(e),viewBox:"0 0 10 10",refX:"7",refY:"5",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"6",orient:"auto",children:Object(Di.jsx)("path",{d:"M 0 0 L 10 5 L 0 10 L 4 5 z"})},e)))}),Object(Di.jsx)("g",{className:"pipeline-flowchart__layers",ref:this.layersRef}),Object(Di.jsx)("g",{className:"pipeline-flowchart__edges",ref:this.edgesRef}),Object(Di.jsx)("g",{id:"nodes",className:"pipeline-flowchart__nodes",ref:this.nodesRef})]})}),Object(Di.jsx)("ul",{className:xi()("pipeline-flowchart__layer-names",{"pipeline-flowchart__layer-names--visible":t.length,"pipeline-flowchart__layer-names--no-global-toolbar":!i}),ref:this.layerNamesRef}),Object(Di.jsx)(ts,{chartSize:e,...this.state.tooltip,style:{fontSize:"1.5em"}})]})}}const is={left:0,top:0,right:1280,bottom:1024,width:1280,height:1024},ns=[],ss=[],rs={};var os=Object(r.b)(((e,t)=>({clickedNode:e.node.clicked,chartSize:bi(e),chartZoom:fi(e),displayGlobalToolbar:e.display.globalToolbar,edges:e.graph.edges||ns,focusMode:e.visible.modularPipelineFocusMode,graphSize:e.graph.size||rs,hoveredParameters:e.hoveredParameters,hoveredFocusMode:e.hoveredFocusMode,layers:On(e),linkedNodes:Nn(e),nodes:e.graph.nodes||ss,nodeTypeDisabled:e.nodeType.disabled,nodeActive:Wa(e),nodeSelected:Ya(e),nodesWithInputParams:oi(e),inputOutputDataNodes:li(e),inputOutputDataEdges:Da(e),visibleGraph:e.visible.graph,visibleSidebar:e.visible.sidebar,visibleCode:e.visible.code,visibleMetaSidebar:pi(e),...t})),((e,t)=>({onClickToExpandModularPipeline:t=>{e({type:Jt,modularPipelineID:t})},onLoadNodeData:t=>{e(Pt(t))},onToggleNodeHovered:t=>{e(St(t))},onUpdateChartSize:t=>{e(function(e){return{type:S,chartSize:e}}(t))},onUpdateZoom:t=>{e(E(t))},...t})))(as);const ls=()=>{var e,t;const a=window.localStorage.getItem(je);return null===(e=JSON.parse(a))||void 0===e||null===(t=e.pipeline)||void 0===t?void 0:t.active},cs=()=>{const e=Object(ji.g)(),t=Object(i.useCallback)((()=>{const t=Object(ji.e)(Ke.flowchart.main);e.push(t)}),[e]);return{toSelectedPipeline:Object(i.useCallback)((t=>{const a=t||ls(),i=Object(ji.e)(Ke.flowchart.selectedPipeline,{pipelineId:a});e.push(i)}),[e]),toFlowchartPage:t,toSelectedNode:Object(i.useCallback)((t=>{const a=ls(),i=Object(ji.e)(Ke.flowchart.selectedNode,{pipelineId:a,id:t.id});e.push(i)}),[e]),toFocusedModularPipeline:Object(i.useCallback)((t=>{const a=ls(),i=Object(ji.e)(Ke.flowchart.focusedNode,{pipelineId:a,id:t.id});e.push(i)}),[e])}},ds=()=>{const e=Object(ji.g)();return{toExperimentTrackingPath:Object(i.useCallback)((()=>{const t=Object(ji.e)(Ke.experimentTracking.main);e.push(t)}),[e]),toMetricsViewPath:Object(i.useCallback)((()=>{const t=Object(ji.e)(Ke.experimentTracking.selectedView,{view:"Metrics"});e.push(t)}),[e]),toSelectedRunsPath:Object(i.useCallback)(((t,a,i)=>{const n=Object(ji.e)(Ke.experimentTracking.selectedRuns,{ids:1===t.length?t[0]:t.toString(),view:a,isComparison:i});e.push(n)}),[e])}};var ps,us=(ps=os,e=>{const{toSelectedPipeline:t,toSelectedNode:a,toFocusedModularPipeline:i}=cs();return Object(Di.jsx)(ps,{toSelectedPipeline:t,toSelectedNode:a,toFocusedModularPipeline:i,...e})});a(372);const ms=e=>{let{isVisible:t,title:a,subtitle:i,buttons:n=[],sidebarVisible:s}=e;return t?Object(Di.jsxs)("div",{className:xi()("kedro","pipeline-warning",{"pipeline-warning--sidebar-visible":s}),children:[Object(Di.jsx)("h2",{className:"pipeline-warning__title",children:a}),Object(Di.jsx)("p",{className:"pipeline-warning__subtitle",children:i}),Object(Di.jsx)("div",{className:"pipeline-warning__button-wrapper",children:n.map(((e,t)=>Object(Di.jsx)(Xi,{...e},t)))})]}):null};var _s=Object(r.b)((e=>({nodes:ri(e),sidebarVisible:e.visible.sidebar,theme:e.theme,visible:mi(e)})),(e=>({onDisable:()=>{e(A("sizewarning",!1))},onHide:()=>{e({type:L,ignoreLargeWarning:!0})}})))((e=>{let{errorMessage:t,invalidUrl:a,nodes:n,onDisable:s,onHide:r,sidebarVisible:o,visible:l,onResetClick:c}=e;const[d,p]=Object(i.useState)(!1),u=0===n.length,{toFlowchartPage:m}=cs();return Object(i.useEffect)((()=>{const e=setTimeout((()=>{p(!0)}),1500);return()=>clearTimeout(e)}),[]),Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)(ms,{isVisible:l,title:"Whoa, that\u2019s a chonky pipeline!",subtitle:Object(Di.jsxs)(Di.Fragment,{children:["This graph contains ",Object(Di.jsx)("b",{children:n.length})," elements, which will take a while to render. You can use the sidebar controls to select a smaller graph."]}),buttons:[{onClick:r,children:"Render it anyway"},{mode:"secondary",onClick:s,size:"small",children:"Don't show this again"}],sidebarVisible:o}),Object(Di.jsx)(ms,{isVisible:u&&d,title:"Oops, there's nothing to see here",subtitle:"This selection has nothing. Please unselect your filters or modular pipeline selection to see pipeline elements.",sidebarVisible:o}),Object(Di.jsx)(ms,{isVisible:a&&d,title:"Oops, this URL isn't valid",subtitle:"".concat(t,". Perhaps you've deleted the entity \ud83d\ude48 or it may be a typo \ud83d\ude07"),buttons:[{onClick:()=>{m(),c()},children:"Reset view"}],sidebarVisible:o})]})}));a(373);const hs="M 50 50 100 100 50 150 0 100 Z";var bs=e=>{let{className:t,visible:a}=e;return Object(Di.jsxs)("svg",{className:xi()(t,"pipeline-loading-icon",{"pipeline-loading-icon--visible":a}),viewBox:"-10 45 120 100",children:[Object(Di.jsx)("path",{d:hs}),Object(Di.jsx)("path",{d:hs})]})};a(374);var fs=e=>{var t,a;let{data:n,size:s="small",onClick:r}=e;const[o,l]=Object(i.useState)(null);return Object(Di.jsx)("table",{className:xi()("preview-table",{"preview-table__small":"small"===s,"preview-table__large":"large"===s}),cellSpacing:0,children:Object(Di.jsxs)("tbody",{children:[Object(Di.jsx)("tr",{className:"preview-table__row-header",children:null===(t=n.columns)||void 0===t?void 0:t.map(((e,t)=>Object(Di.jsx)("th",{className:"preview-table__header",onClick:r,onMouseOut:()=>l(null),onMouseOver:()=>l(t),children:e},e)))}),null===(a=n.data)||void 0===a?void 0:a.map(((e,t)=>Object(Di.jsx)("tr",{className:"preview-table__row",children:e.map(((e,t)=>Object(Di.jsx)("td",{className:xi()("preview-table__data",{"preview-table__data-hovered":t===o}),onClick:r,children:e},t)))},t)))]})})};a(101);var gs=e=>{let{className:t,container:a="span",empty:i,kind:n,title:s,value:r}=e;return Object(Di.jsx)(Di.Fragment,{children:Object(Di.jsx)(a,{title:s,className:zn("pipeline-metadata__value",{kind:n},t),children:r||0===r?r:i})})};var ys=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M17 1v1h4v16h-4v4H3V6h4V2h4V1h6zM7 8H5v12h10v-2H7V8zm4-4H9v12h10V4h-2v1h-6V4z"})})};a(375);var js=e=>{let{command:t,isCommand:a}=e;const[n,s]=Object(i.useState)(!1);return Object(Di.jsxs)("div",{className:"container",children:[Object(Di.jsx)(gs,{container:"code",className:"command-value",value:t}),window.navigator.clipboard&&a&&Object(Di.jsxs)("ul",{className:"toolbox",children:[Object(Di.jsx)(un,{ariaLabel:"Copy run command to clipboard.",className:"copy-button",dataHeapEvent:"clicked.run_command",icon:ys,onClick:()=>{window.navigator.clipboard.writeText(t),s(!0),setTimeout((()=>s(!1)),1500)}}),Object(Di.jsx)(ts,{text:"Copied!",visible:n,noDelay:!0,centerArrow:!0,arrowSize:"small"})]})]})},vs=a(215),xs=a.n(vs),Os=a(216),ws=a.n(Os);a(380);const ks={autosize:!0,annotationdefaults:{arrowcolor:"#2a3f5f",arrowhead:0,arrowwidth:1},autotypenumbers:"strict",coloraxis:{autocolorscale:!1,colorbar:{thickness:20,showticklabels:!0,ticks:"outside",tickwidth:1,tickcolor:"rgba(255,255,255,0.30)",ticklen:12,tickfont:{color:"rgba(255,255,255,0.55)",size:12},ticklabelposition:"outside",title:{font:{color:"rgba(255,255,255,0.55)",size:12}}}},colorscale:{diverging:["rgb(230,59,90)","rgb(240,185,186)","rgb(237,212,213)","rgb(232,232,232)","rgb(190,213,236)","rgb(136,192,240)","rgb(0,169,244)"],sequential:["rgb(0,169,244)","rgb(60,175,245)","rgb(148,203,250)","rgb(195,225,254)","rgb(214,235,255)"],sequentialminus:["rgb(0,169,244)","rgb(60,175,245)","rgb(148,203,250)","rgb(195,225,254)","rgb(214,235,255)"]},colorway:["#00a9f4","#42459F","#F4973B","#E63B5A","#948DCA","#769D00","#1A2E91","#4F9596","#F7D02A","#F07179","#3C7A34","#B2DFE1","#C1BCE5","#AD544A","#F4973B","#B6CD70","#65A6A8","#F8E979"],font:{color:"rgba(255,255,255,0.55)"},height:null,hoverlabel:{align:"left"},hovermode:"closest",legend:{title:{font:{color:"rgba(255,255,255,0.55)"}},font:{color:"rgba(255,255,255,0.55)"}},mapbox:{style:"DARK"},paper_bgcolor:"#111111",plot_bgcolor:"#111111",title:{font:{color:"rgba(255,255,255,0.85)",size:16},xref:"paper",yref:"paper",x:0,xanchor:"left",yanchor:"middle"},width:null,xaxis:{automargin:!0,gridcolor:"rgba(255,255,255,0.12)",layer:"below traces",linewidth:1,linecolor:"rgba(255,255,255,0.30)",rangemode:"normal",showline:!0,showticklabels:!0,ticks:"outside",tickwidth:1,tickcolor:"rgba(255,255,255,0.30)",ticklen:12,tickfont:{color:"rgba(255,255,255,0.55)",size:12},ticklabelposition:"outside",title:{font:{color:"rgba(255,255,255,0.55)",size:16}},zerolinecolor:"rgba(255,255,255,0.30)",zerolinewidth:1},yaxis:{automargin:!0,gridcolor:"rgba(255,255,255,0.12)",layer:"below traces",linewidth:1,linecolor:"rgba(255,255,255,0.30)",rangemode:"normal",showline:!0,showticklabels:!0,ticks:"outside",tickwidth:1,tickcolor:"rgba(255,255,255,0.30)",ticklen:12,tickfont:{color:"rgba(255,255,255,0.55)",size:12},ticklabelposition:"outside",title:{font:{color:"rgba(255,255,255,0.55)",size:16}},zerolinecolor:"rgba(255,255,255,0.30)",zerolinewidth:1},margin:{l:72,r:40,t:64,b:72}},Ns={...ks,height:300,margin:{l:70,r:40,t:60,b:70},title:{font:{size:12},x:.09},showlegend:!1,width:400,xaxis:{...ks.xaxis,title:{...ks.xaxis.title,font:{...ks.xaxis.font,size:8}},tickfont:{...ks.xaxis.tickfont,size:8},nticks:5},yaxis:{...ks.yaxis,title:{...ks.yaxis.title,font:{...ks.yaxis.font,size:8}},tickfont:{...ks.yaxis.tickfont,size:8},nticks:5}},Ts={...ks},Ms={...ks,height:375,margin:{l:30,r:10,t:10,b:10},width:null},Ss={...ks,height:250,margin:{l:30,r:10,t:10,b:10},width:null},zs={...Ns,height:188,margin:{l:30,r:10,t:10,b:10},width:250},Es={autosize:!0,annotationdefaults:{arrowcolor:"#2a3f5f",arrowhead:0,arrowwidth:1},autotypenumbers:"strict",coloraxis:{autocolorscale:!1,colorbar:{thickness:20,showticklabels:!0,ticks:"outside",tickwidth:1,tickcolor:"rgba(0,0,0,0.30)",ticklen:12,tickfont:{color:"rgba(0,0,0,0.55)",size:12},ticklabelposition:"outside",title:{font:{color:"rgba(0,0,0,0.55)",size:12}}}},colorscale:{diverging:["rgb(230,59,90)","rgb(240,185,186)","rgb(237,212,213)","rgb(232,232,232)","rgb(190,213,236)","rgb(136,192,240)","rgb(0,169,244)"],sequential:["rgb(0,169,244)","rgb(60,175,245)","rgb(148,203,250)","rgb(195,225,254)","rgb(214,235,255)"],sequentialminus:["rgb(0,169,244)","rgb(60,175,245)","rgb(148,203,250)","rgb(195,225,254)","rgb(214,235,255)"]},colorway:["#00a9f4","#42459F","#F4973B","#E63B5A","#948DCA","#769D00","#1A2E91","#4F9596","#F7D02A","#F07179","#3C7A34","#B2DFE1","#C1BCE5","#AD544A","#F4973B","#B6CD70","#65A6A8","#F8E979"],font:{color:"rgba(0,0,0,0.55)"},height:null,hoverlabel:{align:"left"},hovermode:"closest",legend:{title:{font:{color:"rgba(0,0,0,0.55)"}},font:{color:"rgba(0,0,0,0.55)"}},mapbox:{style:"light"},paper_bgcolor:"#EEEEEE",plot_bgcolor:"#EEEEEE",title:{font:{color:"rgba(0,0,0,0.85)",size:16},xref:"paper",yref:"paper",x:0,xanchor:"left",yanchor:"middle"},width:null,xaxis:{automargin:!0,gridcolor:"rgba(0,0,0,0.12)",layer:"below traces",linewidth:1,linecolor:"rgba(0,0,0,0.30)",rangemode:"normal",showline:!0,showticklabels:!0,ticks:"outside",tickwidth:1,tickcolor:"rgba(0,0,0,0.30)",ticklen:12,tickfont:{color:"rgba(0,0,0,0.55)",size:12},ticklabelposition:"outside",title:{font:{color:"rgba(0,0,0,0.55)",size:16}},zerolinecolor:"rgba(0,0,0,0.30)",zerolinewidth:1},yaxis:{automargin:!0,gridcolor:"rgba(0,0,0,0.12)",layer:"below traces",linewidth:1,linecolor:"rgba(0,0,0,0.30)",rangemode:"normal",showline:!0,showticklabels:!0,ticks:"outside",tickwidth:1,tickcolor:"rgba(0,0,0,0.30)",ticklen:12,tickfont:{color:"rgba(0,0,0,0.55)",size:12},ticklabelposition:"outside",title:{font:{color:"rgba(0,0,0,0.55)",size:16}},zerolinecolor:"rgba(0,0,0,0.30)",zerolinewidth:1},margin:{l:72,r:40,t:64,b:72}},Cs={...Es,height:300,margin:{l:70,r:40,t:60,b:70},showlegend:!1,width:400,title:{font:{size:12},x:.09},xaxis:{...Es.xaxis,title:{...Es.xaxis.title,font:{...Es.xaxis.font,size:8}},tickfont:{...Es.xaxis.tickfont,size:8},nticks:5},yaxis:{...Es.yaxis,title:{...Es.yaxis.title,font:{...Es.yaxis.font,size:8}},tickfont:{...Es.yaxis.tickfont,size:8},nticks:5}},Ps={...Es},As={...Es,height:375,margin:{l:30,r:10,t:10,b:10},width:null},Ls={...Es,height:250,margin:{l:30,r:10,t:10,b:10},width:null},Ds={...Cs,height:188,margin:{l:30,r:10,t:10,b:10},width:250},Rs=xs()(ws.a),Vs=(e,t,a)=>"dark"===e?"experiment_preview"===t?ye()(a,zs):"preview"===t?ye()(a,Ns):"twoCharts"===t?ye()(a,Ms):"threeCharts"===t?ye()(a,Ss):ye()(a,Ts):"experiment_preview"===t?ye()(a,Ds):"preview"===t?ye()(a,Cs):"twoCharts"===t?ye()(a,As):"threeCharts"===t?ye()(a,Ls):ye()(a,Ps);var Is=Object(r.b)((e=>({theme:e.theme})))((e=>{let{theme:t,view:a="",data:i=[],layout:n={}}=e;const s=a.includes("preview")?{staticPlot:!0}:void 0;return Object(Di.jsx)("div",{className:xi()("pipeline-plotly-chart","pipeline-plotly__".concat(a)),children:Object(Di.jsx)(Rs,{data:i,layout:Vs(t,a,n),config:s,style:{width:"100%",height:"100%"},useResizeHandler:!0})})}));var Bs=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M21 5v16H5v-8h2v6h12V7h-6.116V5H21zM8 3v2H6.415l6.292 6.293-1.414 1.414L5 6.415V8H3V3h5z"})})};var Hs=e=>{let{property:t,values:a=[],kind:n="text",empty:s="-",inline:r=!0,commas:o=!0,limit:l=!1}=e;const[c,d]=Object(i.useState)(!1),p=!c&&l?a.slice(0,l):a,u=a.length-p.length;return Object(i.useEffect)((()=>d(!1)),[a]),a.length>0?Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)("ul",{className:zn("pipeline-metadata__value-list",{inline:r,commas:o}),children:p.map(((e,a)=>Object(Di.jsx)("li",{children:Object(Di.jsx)(gs,{value:t?e[t]:e,kind:n,empty:s})},a)))}),u>0?Object(Di.jsxs)("button",{className:"pipeline-metadata__value-list-expand","aria-expanded":c,onClick:()=>d(!0),children:["+ ",u," more"]}):null]}):Object(Di.jsx)(gs,{empty:s})},Us=(a(381),a(217)),qs=a.n(Us);const Gs={base00:"#122531",base01:"#122531",base02:"#122531",base03:"#122531",base04:"rgba(255,255,255,0.35)",base05:"#122531",base06:"#122531",base07:"rgba(255,255,255,0.85)",base08:"#122531",base09:"#ffbc00",base0A:"#122531",base0B:"rgba(255,255,255,0.85)",base0C:"rgba(255,255,255,0.85)",base0D:"#00b0f5",base0E:"#dcc6e0",base0F:"rgba(255,255,255,0.85)"},Fs={base00:"#f0f1f3",base01:"#f0f1f3",base02:"#f0f1f3",base03:"#f0f1f3",base04:"rgba(0,0,0,0.55)",base05:"#f0f1f3",base06:"#f0f1f3",base07:"rgba(0,0,0,0.85)",base08:"#f0f1f3",base09:"#a000bc",base0A:"#f0f1f3",base0B:"rgba(0,0,0,0.85)",base0C:"rgba(0,0,0,0.85)",base0D:"#00b0f5",base0E:"#7928a1",base0F:"rgba(0,0,0,0.85)"};var Zs=e=>{let{className:t,value:a,kind:i,theme:n,empty:s}=e;return Object(Di.jsx)("div",{className:zn("pipeline-json__object",{kind:i},t),children:0===Object.keys(a).length?s:Object(Di.jsx)(qs.a,{theme:"dark"===n?Gs:Fs,name:!1,indentWidth:1,collapsed:1,collapseStringsAfterLength:!0,enableClipboard:!0,displayDataTypes:!1,src:a,style:{backgroundColor:"transparent"}})})};var Js=e=>{let{label:t,theme:a,property:i,value:n,kind:s="text",empty:r="-",visible:o=!0,inline:l=!0,commas:c=!0,limit:d=!1,title:p=null,children:u}=e;const m=Array.isArray(n),_="object"===typeof n&&null!==n&&!m;return o&&Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)("dt",{className:"pipeline-metadata__label",children:t}),Object(Di.jsxs)("dd",{className:"pipeline-metadata__row","data-label":t,children:[m&&Object(Di.jsx)(Hs,{property:i,inline:l,commas:c,kind:s,empty:r,values:n,limit:d}),!m&&!_&&!u&&Object(Di.jsx)(gs,{empty:r,kind:s,theme:a,title:p||n,value:n}),_&&Object(Di.jsx)(Zs,{value:n,kind:s,theme:a,empty:r}),u]})]})},Ks=a(74),Xs=a.n(Ks),Ws=a(218),Ys=a.n(Ws),Qs=a(219),$s=a.n(Qs),er=a(220),tr=a.n(er);a(382);Xs.a.registerLanguage("python",Ys.a),Xs.a.registerLanguage("yaml",$s.a),Xs.a.registerLanguage("javascript",tr.a);var ar=Object(r.b)((e=>({sidebarVisible:e.visible.sidebar})))((e=>{let{sidebarVisible:t,visible:a=!0,value:n=""}=e;const s=Object(i.useRef)(),r=Object(i.useMemo)((()=>{const e=Xs.a.highlightAuto(n),t=e.language||e.second_best.language;return t?Xs.a.highlight(n,{language:t}).value:n}),[n]);return Object(Di.jsxs)("div",{className:zn("pipeline-metadata-code",{visible:a,sidebarVisible:t},"kedro"),children:[Object(Di.jsx)("h2",{className:"pipeline-metadata-code__title",children:"Code block"}),Object(Di.jsx)("code",{className:"pipeline-metadata-code__code",children:Object(Di.jsx)("pre",{ref:s,dangerouslySetInnerHTML:{__html:r}})})]})}));a(383);var ir=e=>{let{id:t="",checked:a,enabled:i=!0,title:n,onChange:s,className:r=""}=e;return Object(Di.jsxs)("div",{className:zn(xi()("pipeline-toggle",r),{enabled:i}),children:[Object(Di.jsx)("input",{id:"pipeline-toggle-input-".concat(t),"data-test":"pipeline-toggle-input-".concat(t),className:"pipeline-toggle-input",type:"checkbox","data-heap-event":"visible.code.".concat(a),checked:a,disabled:!i,onChange:s}),Object(Di.jsx)("label",{className:zn("pipeline-toggle-label",{checked:i&&a}),htmlFor:"pipeline-toggle-input-".concat(t),children:n})]})};a(384);var nr=e=>{let{stats:t}=e;const[a,s]=Object(i.useState)(!1),r=Object(i.useRef)(null);return Object(i.useLayoutEffect)((()=>{const e=r.current;if(!e)return;const t=Array.from(e.children).reduce(((e,t)=>{var a;return e+(null===(a=t.outerText)||void 0===a?void 0:a.length)}),0);s(t>33)}),[t]),Object(Di.jsx)("ul",{ref:r,className:"stats-container__".concat(a?"overflow":"no-overflow"),children:et.map((e=>{return Object(Di.jsxs)(n.a.Fragment,{children:[Object(Di.jsx)("li",{className:"pipeline-metadata__value pipeline-metadata-value__stats","data-test":"stats-value-".concat(e),children:null!==t&&void 0!==t&&t.hasOwnProperty(e)?"file_size"!==e?(a=t[e],a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")):ue(t[e]):"N/A"}),Object(Di.jsx)("span",{className:"pipeline-metadata__label pipeline-metadata-label__stats","data-test":"stats-label-".concat(e),children:e&&e.replace(/_/g," ")})]},e);var a}))})};var sr=Object(r.b)(((e,t)=>({isPrettyName:e.isPrettyName,metadata:ui(e),theme:e.theme,visible:pi(e),visibleCode:e.visible.code,...t})),(e=>({onToggleNodeSelected:t=>{e(Nt(t))},onToggleCode:t=>{e(function(e){return{type:D,visible:e}}(t))},onToggleMetadataModal:t=>{e(v(t))}})))((e=>{let{isPrettyName:t,metadata:a,onToggleCode:s,onToggleMetadataModal:r,onToggleNodeSelected:o,theme:l,visible:c=!0,visibleCode:d}=e;const{toSelectedPipeline:p}=cs(),{toExperimentTrackingPath:u,toMetricsViewPath:m}=ds();Object(i.useEffect)((()=>s(!1)),[a,s]),Object(i.useEffect)((()=>r(!1)),[a,r]);const _="task"===(null===a||void 0===a?void 0:a.type),h="data"===(null===a||void 0===a?void 0:a.type),b="parameters"===(null===a||void 0===a?void 0:a.type),f=Ta(null===a||void 0===a?void 0:a.datasetType,null===a||void 0===a?void 0:a.type),g=null===a||void 0===a?void 0:a.preview,y=g&&"PlotlyPreview"===(null===a||void 0===a?void 0:a.previewType),j=g&&"ImagePreview"===(null===a||void 0===a?void 0:a.previewType),v=g&&("MetricsTrackingPreview"===(null===a||void 0===a?void 0:a.previewType)||"JSONTrackingPreview"===(null===a||void 0===a?void 0:a.previewType)),x=g&&"TablePreview"===(null===a||void 0===a?void 0:a.previewType),O=g&&"MetricsTrackingPreview"===(null===a||void 0===a?void 0:a.previewType),w=Boolean(null===a||void 0===a?void 0:a.code),k=Boolean(null===a||void 0===a?void 0:a.originalType),N=c&&d&&w,T=w;O&&Object.entries(null===a||void 0===a?void 0:a.preview).forEach((e=>{let[t,i]=e;"number"===typeof i&&(a.preview[t]=Math.round(100*i)/100)}));let M=null===a||void 0===a?void 0:a.runCommand;M||(M=_?"Please provide a name argument for this node in order to see a run command.":null);const S=()=>{r(!0)},z=e=>Array.isArray(e)?e.map((e=>e.split(".").pop())):null===e||void 0===e?void 0:e.split(".").pop();return Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)(ar,{visible:N,value:null===a||void 0===a?void 0:a.code}),Object(Di.jsx)("div",{className:zn("pipeline-metadata",{visible:c},"kedro"),children:a&&Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsxs)("div",{className:"pipeline-metadata__header-toolbox",children:[Object(Di.jsxs)("div",{className:"pipeline-metadata__header",children:[Object(Di.jsx)(Cn,{className:"pipeline-metadata__icon",icon:f}),Object(Di.jsx)("h2",{className:"pipeline-metadata__title",children:a.name})]}),Object(Di.jsx)(un,{ariaLabel:"Close Metadata Panel",className:zn("pipeline-metadata__close-button",{hasCode:w}),container:n.a.Fragment,icon:Wi,onClick:()=>{o(null),p()}}),T&&Object(Di.jsx)(ir,{id:"code",checked:d,enabled:w,title:"Show Code",onChange:e=>{s(e.target.checked)}})]}),Object(Di.jsxs)("div",{className:"pipeline-metadata__list",children:[Object(Di.jsxs)("dl",{className:"pipeline-metadata__properties",children:[t?Object(Di.jsx)(Js,{label:"Original node name:",value:a.fullName}):Object(Di.jsx)(Js,{label:"Pretty node name:",value:a.prettyName}),Object(Di.jsx)(Js,{label:"Type:",value:(C=a.type,"task"===C?"node":"data"===C?"dataset":C)}),!k&&Object(Di.jsx)(Js,{label:"Dataset Type:",visible:h,kind:"type",title:a.datasetType,value:z(a.datasetType)}),k&&Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)(Js,{label:"Original Type:",visible:h,value:z(a.originalType)}),Object(Di.jsx)(Js,{label:"Transcoded Types:",visible:h,value:z(a.transcodedTypes)})]}),Object(Di.jsx)(Js,{label:"File Path:",kind:"path",value:(E=a.filepath,null===E||void 0===E?void 0:E.replace(/^\//g,""))}),v&&Object(Di.jsx)(Js,{label:"Tracking data from last run:",theme:l,visible:h,kind:"trackingData",commas:!1,inline:!1,value:null===a||void 0===a?void 0:a.preview}),Object(Di.jsx)(Js,{label:"Parameters:",theme:l,visible:b||_,kind:"parameters",commas:!1,inline:!1,value:a.parameters,limit:10}),Object(Di.jsx)(Js,{label:"Inputs:",visible:_,value:a.inputs}),Object(Di.jsx)(Js,{label:"Outputs:",visible:_,value:a.outputs}),"task"===a.type&&Object(Di.jsx)(Js,{label:"Tags:",kind:"token",commas:!1,value:a.tags}),Object(Di.jsx)(Js,{label:"Run Command:",visible:Boolean(M),children:Object(Di.jsx)(js,{command:M,isCommand:null===a||void 0===a?void 0:a.runCommand})}),h&&Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)("span",{className:"pipeline-metadata__label","data-label":"Dataset statistics:",children:"Dataset statistics:"}),Object(Di.jsx)(nr,{stats:null===a||void 0===a?void 0:a.stats})]})]}),y&&Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)("div",{className:"pipeline-metadata__plot",onClick:S,children:Object(Di.jsx)(Is,{data:null===a||void 0===a?void 0:a.preview.data,layout:null===a||void 0===a?void 0:a.preview.layout,view:"preview"})}),Object(Di.jsxs)("button",{className:"pipeline-metadata__link",onClick:S,children:[Object(Di.jsx)(Bs,{className:"pipeline-metadata__link-icon"}),Object(Di.jsx)("span",{className:"pipeline-metadata__link-text",children:"Expand Plotly Visualization"})]})]}),j&&Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)("div",{className:"pipeline-metadata__plot",onClick:S,children:Object(Di.jsx)("img",{alt:"Matplotlib rendering",className:"pipeline-metadata__plot-image",src:"data:image/png;base64,".concat(null===a||void 0===a?void 0:a.preview)})}),Object(Di.jsxs)("button",{className:"pipeline-metadata__link",onClick:S,children:[Object(Di.jsx)(Bs,{className:"pipeline-metadata__link-icon"}),Object(Di.jsx)("span",{className:"pipeline-metadata__link-text",children:"Expand Matplotlib Image"})]})]}),me()?v&&Object(Di.jsxs)("button",{className:"pipeline-metadata__link",onClick:O?m:u,children:[Object(Di.jsx)(Bs,{className:"pipeline-metadata__link-icon"}),Object(Di.jsx)("span",{className:"pipeline-metadata__link-text",children:"Open in Experiment Tracking"})]}):null,x&&Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsxs)("div",{className:"pipeline-metadata__preview",children:[Object(Di.jsx)(fs,{data:null===a||void 0===a?void 0:a.preview,size:"small",onClick:S}),Object(Di.jsx)("div",{className:"pipeline-metadata__preview-shadow-box-right"}),Object(Di.jsx)("div",{className:"pipeline-metadata__preview-shadow-box-bottom"})]}),Object(Di.jsxs)("button",{className:"pipeline-metadata__link",onClick:S,children:[Object(Di.jsx)(Bs,{className:"pipeline-metadata__link-icon"}),Object(Di.jsx)("span",{className:"pipeline-metadata__link-text",children:"Expand Preview Table"})]})]})]})]})})]});var E,C}));var rr=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M21 3v18H3v-9.133h2V19h14V5h-7V3h9zm-16.293.293L11 9.586V8h2v5H8v-2h1.586L3.293 4.707l1.414-1.414z"})})};var or=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M14.312 5.244c.387.336.454.905.172 1.318l-.071.093-3.574 4.122 31.684-.058c.552-.001 1 .446 1.002.998 0 .513-.385.936-.882.995l-.117.007-31.323.058 3.225 3.9c.326.395.298.967-.048 1.328l-.086.08c-.395.326-.967.298-1.328-.048l-.08-.086-5.326-6.443L12.9 5.345c.362-.417.994-.462 1.41-.1z"})})};a(385);var lr=Object(r.b)((e=>({metadata:ui(e),theme:e.theme,visible:e.visible})),(e=>({onToggle:t=>{e(v(t))}})))((e=>{let{metadata:t,onToggle:a,visible:i}=e;const n="PlotlyPreview"===(null===t||void 0===t?void 0:t.previewType),s="ImagePreview"===(null===t||void 0===t?void 0:t.previewType),r="TablePreview"===(null===t||void 0===t?void 0:t.previewType);if(!i.metadataModal||!n&&!s&&!r)return null;const o=Ta(null===t||void 0===t?void 0:t.datasetType,null===t||void 0===t?void 0:t.type),l=()=>{a(!1)};return Object(Di.jsxs)("div",{className:"pipeline-metadata-modal",children:[Object(Di.jsxs)("div",{className:"pipeline-metadata-modal__top",children:[Object(Di.jsxs)("button",{className:"pipeline-metadata-modal__back",onClick:l,children:[Object(Di.jsx)(or,{className:"pipeline-metadata-modal__back-icon"}),Object(Di.jsx)("span",{className:"pipeline-metadata-modal__back-text",children:"Back"})]}),Object(Di.jsxs)("div",{className:"pipeline-metadata-modal__header",children:[Object(Di.jsx)(Cn,{className:"pipeline-metadata-modal__icon",icon:o}),Object(Di.jsx)("span",{className:"pipeline-metadata-modal__title",children:t.name})]}),r&&Object(Di.jsxs)("div",{className:"pipeline-metadata-modal__preview-text",children:["Previewing first"," ",t.preview.data&&t.preview.data.length," rows"]})]}),n&&Object(Di.jsx)(Is,{data:t.preview.data,layout:t.preview.layout,view:"modal"}),s&&Object(Di.jsx)("div",{className:"pipeline-matplotlib-chart",children:Object(Di.jsx)("div",{className:"pipeline-metadata__plot-image-container",children:Object(Di.jsx)("img",{alt:"Matplotlib rendering",className:"pipeline-metadata__plot-image--expanded",src:"data:image/png;base64,".concat(t.preview)})})}),r&&Object(Di.jsx)("div",{className:"pipeline-metadata-modal__preview",children:Object(Di.jsx)(fs,{data:t.preview,size:"large"})}),!r&&Object(Di.jsx)("div",{className:"pipeline-metadata-modal__bottom",children:Object(Di.jsxs)("button",{className:"pipeline-metadata-modal__collapse-plot",onClick:l,children:[Object(Di.jsx)(rr,{className:"pipeline-metadata-modal__collapse-plot-icon"}),Object(Di.jsx)("span",{className:"pipeline-metadata-modal__collapse-plot-text",children:n?"Collapse Plotly Visualization":"Collapse Matplotlib Image"})]})})]})}));var cr=()=>{const[e,t]=Object(i.useState)(null);return Object(i.useEffect)((()=>{!async function(){try{const e=await fetch("".concat(_e(),"api/deploy-viz-metadata"),{headers:{"Content-Type":"application/json",Accept:"application/json"}}),a=await e.json();e.ok&&t(a)}catch(e){console.log("deploy-viz-metadata fetch error: ",e)}}()}),[]),null===e?null:Object(Di.jsx)("div",{className:"shareable-url-timestamp",children:Object(Di.jsx)("p",{children:"Kedro-Viz ".concat(e.version," \u2013 ").concat(e.timestamp.split(" ").join(" \u2013 ")," UTC")})})};var dr=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M22 20v2H2v-2h20zM18.707 2.293l3 3a1 1 0 0 1 0 1.414l-11 11A1 1 0 0 1 10 18H7a1 1 0 0 1-1-1v-3a1 1 0 0 1 .293-.707l11-11a1 1 0 0 1 1.414 0zM15.5 7 8 14.414V16h1.586L17 8.5 15.5 7zm2.498-2.491L17 5.5 18.5 7l.95-.978-1.452-1.513z"})})};var pr=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M17 4v16l-5-3-5 3V4z"})})};var ur=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M5 16v4h14v-4h2v4c0 1-.8 2-1.9 2H5a2 2 0 01-2-2v-4h2zm8-14v11l3.5-3.5L18 11l-6 6-6-6 1.5-1.5L11 13V2h2z"})})};var mr=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M18 21V3H6v18l6-4 6 4zM8 5h8v12.262l-4-2.666-4 2.666V5z"})})};var _r=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M10.667 5 12 6.4 6.667 12 12 17.6 10.667 19 4 12l6.667-7zm8 0L20 6.4 14.667 12 20 17.6 18.667 19 12 12l6.667-7z"})})};a(386);var hr=e=>{let{children:t,onToggleSidebar:a,visible:i={sidebar:!0}}=e;return Object(Di.jsx)(Di.Fragment,{children:Object(Di.jsxs)("ul",{className:"pipeline-primary-toolbar kedro",children:[Object(Di.jsx)(un,{active:i.sidebar,ariaLabel:"".concat(i.sidebar?"Hide":"Show"," menu"),className:xi()("pipeline-menu-button","pipeline-menu-button--menu",{"pipeline-menu-button--inverse":!i.sidebar}),dataTest:"btnToggleMenu",dataHeapEvent:"visible.sidebar.".concat(i.sidebar),icon:_r,labelText:"".concat(i.sidebar?"Hide":"Show"," menu"),onClick:()=>a(!i.sidebar)}),t]})})};var br=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("g",{children:Object(Di.jsx)("path",{d:"M7.5,6 L7.5,17.25 L10.625,14.125 L12,15.5 L6.5,21 L1,15.5 L2.375,14.125 L5.5,17.25 L5.5,6 L7.5,6 Z M17.5,3 L23,8.5 L21.625,9.875 L18.5,6.75 L18.5,18 L16.5,18 L16.5,6.75 L13.375,9.875 L12,8.5 L17.5,3 Z"})})})},fr=a(234);const gr={leftToRight:{entering:{transform:"translateX(0)",visibility:"visible",opacity:"1"},entered:{transform:"translateX(0)",visibility:"visible",opacity:"1"},exiting:{transform:"translateX(-34%)",visibility:"hidden",opacity:"0"},exited:{transform:"translateX(-34%)",visibility:"hidden",opacity:"0"}},rightToLeft:{entering:{transform:"translateX(0)",visibility:"visible",opacity:"1"},entered:{transform:"translateX(0)",visibility:"visible",opacity:"1"},exiting:{transform:"translateX(34%)",visibility:"hidden",opacity:"0"},exited:{transform:"translateX(34%)",visibility:"hidden",opacity:"0"}}},yr=e=>{let{children:t,direction:a,duration:i,state:n}=e;const s={transition:"transform 0.3s ease-out, opacity 0.1s linear"};return Object(Di.jsx)(fr.a,{in:n,timeout:i,children:e=>Object(Di.jsx)("div",{style:{...s,...gr[a][e]},children:t})})},jr=e=>{let{state:t,duration:a,children:i}=e;return Object(Di.jsx)(yr,{children:i,direction:"leftToRight",duration:a,state:t})},vr=e=>{let{state:t,duration:a,children:i}=e;return Object(Di.jsx)(yr,{children:i,direction:"rightToLeft",duration:a,state:t})};var xr=Object(r.b)((e=>({runsMetadata:e.runsMetadata})),(e=>({onToggleBookmark:(t,a)=>{e(U(t,a))}})))((e=>{var t;let{displaySidebar:a,enableComparisonView:i,enableShowChanges:n,selectedRunData:s,setEnableShowChanges:r,setSidebarVisible:o,showChangesIconDisabled:l,showRunDetailsModal:c,sidebarVisible:d,setShowRunExportModal:p,onToggleBookmark:u,runsMetadata:m}=e;const _=null===(t=m[null===s||void 0===s?void 0:s.id])||void 0===t?void 0:t.bookmark;return Object(Di.jsxs)(hr,{displaySidebar:a,onToggleSidebar:o,visible:{sidebar:d},children:[Object(Di.jsx)(jr,{state:i,duration:300,children:i&&Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)(un,{active:n,ariaLabel:"Toggle show changes",className:"pipeline-menu-button--labels",dataTest:"btnToggleChange",disabled:l,icon:br,labelText:l?null:"".concat(n?"Disable":"Enable"," show changes"),onClick:()=>r(!n)}),Object(Di.jsx)(un,{ariaLabel:"Export Run Data",className:"pipeline-menu-button--export-runs",icon:ur,labelText:"Export run data",onClick:()=>p(!0)})]})}),Object(Di.jsx)(vr,{state:!i,duration:300,children:!i&&Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)(un,{active:_,ariaLabel:"Toggle run bookmark",className:"pipeline-menu-button--labels",dataTest:"btnToggleBookmark",icon:_?pr:mr,labelText:"".concat(_?"Unbookmark":"Bookmark"),onClick:()=>{u(!_,null===s||void 0===s?void 0:s.id)}}),Object(Di.jsx)(un,{ariaLabel:"Edit run details",className:"pipeline-menu-button--labels",dataTest:"btnEditRunDetails",icon:dr,labelText:"Edit details",onClick:()=>c(!0)}),Object(Di.jsx)(un,{ariaLabel:"Export Run Data",className:"pipeline-menu-button--export-runs",dataTest:"btnExportRunData",icon:ur,labelText:"Export run data",onClick:()=>p(!0)})]})})]})}));var Or=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M22 3v18H8.333L2 12l6.333-9H22zm-6.155 4h-3.69L10 17h1.944l.38-1.809h3.352l.38 1.809H18L15.845 7zm-1.507 1.676l.972 4.75h-2.62l.972-4.75h.676z"})})};var wr=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M12 3l9 4.82-3.6 2.07 3.6 1.93-3.6 2.07 3.6 1.93L12 21l-9-5.18 3.6-1.93L3 11.82 6.6 9.9 3 7.82 12 3zM8.72 15.11l-1.45.78L12 18.6l4.73-2.72-1.45-.78L12 17l-3.28-1.89zm0-4l-1.45.78L12 14.6l4.73-2.72-1.45-.78L12 13l-3.28-1.89zM12 5.35L7.27 7.9 12 10.6l4.73-2.72L12 5.36z"})})};var kr=Object(r.b)((e=>({disableLayerBtn:!e.layer.ids.length,displaySidebar:e.display.sidebar,textLabels:e.textLabels,visible:e.visible,visibleLayers:Boolean(ka(e).length)})),(e=>({onToggleExportModal:t=>{e(h(t))},onToggleLayers:t=>{var a;e((a=Boolean(t),{type:m,visible:a}))},onToggleSidebar:t=>{e(function(e){return{type:T,visible:e}}(t))},onToggleTextLabels:t=>{var a;e((a=Boolean(t),{type:O,textLabels:a}))}})))((e=>{let{disableLayerBtn:t,displaySidebar:a,onToggleExportModal:i,onToggleLayers:n,onToggleSidebar:s,onToggleTextLabels:r,textLabels:o,visible:l,visibleLayers:c}=e;return Object(Di.jsx)(Di.Fragment,{children:Object(Di.jsxs)(hr,{displaySidebar:a,onToggleSidebar:s,visible:l,children:[Object(Di.jsx)(un,{active:o,ariaLabel:"".concat(o?"Hide":"Show"," text labels"),className:"pipeline-menu-button--labels",dataTest:"btnToggleLabels",icon:Or,labelText:"".concat(o?"Hide":"Show"," text labels"),onClick:()=>r(!o),visible:l.labelBtn}),Object(Di.jsx)(un,{active:c,ariaLabel:"Turn data layers ".concat(c?"off":"on"),className:"pipeline-menu-button--layers",dataHeapEvent:"visible.layers.".concat(c),dataTest:"btnToggleLayers",disabled:t,icon:wr,labelText:"".concat(c?"Hide":"Show"," layers"),onClick:()=>n(!c),visible:l.layerBtn}),Object(Di.jsx)(un,{ariaLabel:"Export graph as SVG or PNG",className:"pipeline-menu-button--export",dataTest:"btnExportGraph",icon:ur,labelText:"Export visualisation",onClick:()=>i(!0),visible:l.exportBtn})]})})}));const Nr=function(){const{mapSize:e}=this.props,{x:t,y:a,width:i,height:n}=this.getViewport(),s=Math.max(t,2),r=Math.max(a,2),o=Math.min(t+i,e.width-2),l=Math.min(a+n,e.height-2);this.el.viewport.enter().attr("x",0).attr("y",0),this.el.viewport.attr("transform","translate(".concat(s,", ").concat(r,")")).attr("width",Math.max(0,o-s)).attr("height",Math.max(0,l-r))},Tr=function(){const{clickedNode:e,linkedNodes:t,nodeActive:a,nodeSelected:i,nodes:n}=this.props;this.el.nodes=this.el.nodeGroup.selectAll(".pipeline-minimap-node").data(n,(e=>e.id));const s=this.el.nodes.enter().append("g").attr("class","pipeline-minimap-node");s.attr("transform",(e=>"translate(".concat(e.x,", ").concat(e.y,")"))).attr("opacity",0),s.append("rect"),this.el.nodes.exit().transition("exit-nodes").duration(this.DURATION).attr("opacity",0).remove(),this.el.nodes=this.el.nodes.merge(s).attr("data-id",(e=>e.id)).classed("pipeline-minimap-node--active",(e=>a[e.id])).classed("pipeline-minimap-node--selected",(e=>i[e.id])).classed("pipeline-minimap-node--faded",(a=>e&&!t[a.id])),this.el.nodes.transition("update-nodes").duration(this.DURATION).attr("opacity",1).attr("transform",(e=>"translate(".concat(e.x,", ").concat(e.y,")"))).end().catch((()=>{})),this.el.nodes.select("rect").attr("width",(e=>e.width-Mr(e))).attr("height",(e=>e.height-Mr(e))).attr("x",(e=>(e.width-Mr(e))/-2)).attr("y",(e=>(e.height-Mr(e))/-2))},Mr=e=>"task"===e.type?5:16;a(387);class Sr extends i.Component{constructor(e){var t;super(e),t=this,this.onPointerEnter=()=>{this.isPointerInside=!0},this.onPointerLeave=()=>{this.isPointerInside=!1},this.onPointerUpGlobal=()=>{this.isPointerDown=!1,this.isPointerInside=!1},this.onPointerDown=e=>{this.isPointerDown=!0,this.isPointerInside=!0,this.onPointerMove(e,!0)},this.onPointerWheel=e=>{this.props.onUpdateChartZoom({relative:!0,scale:-(e.deltaY||0)*this.ZOOM_RATE,applied:!1,transition:!1})},this.onPointerWheelGlobal=e=>{this.containerRef.current.contains(e.target)&&e.preventDefault()},this.onPointerMove=function(e){let a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t.isPointerDown&&t.isPointerInside){const i=Number(new Date);if(i-t.lastTransitionTime<t.TRANSITION_WAIT)return;const{scale:n=1}=t.props.chartZoom,{width:s,height:r}=t.props.mapSize,{width:o,height:l}=t.props.graphSize,{k:c=1}=Kn(t.view),d=t.svgRef.current.getBoundingClientRect(),p=((e.clientX-d.x)/c-.5*(s/c-o))*n,u=((e.clientY-d.y)/c-.5*(r/c-l))*n;t.props.onUpdateChartZoom({x:p,y:u,scale:n,relative:!1,applied:!1,transition:a}),a&&(t.lastTransitionTime=i)}},this.DURATION=700,this.TRANSITION_WAIT=200,this.ZOOM_RATE=.0025,this.isPointerDown=!1,this.isPointerInside=!1,this.lastTransitionTime=0,this.containerRef=n.a.createRef(),this.svgRef=n.a.createRef(),this.wrapperRef=n.a.createRef(),this.nodesRef=n.a.createRef(),this.viewportRef=n.a.createRef(),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerEnter=this.onPointerEnter.bind(this),this.onPointerLeave=this.onPointerLeave.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerWheel=this.onPointerWheel.bind(this),this.onPointerWheelGlobal=this.onPointerWheelGlobal.bind(this),this.onPointerUpGlobal=this.onPointerUpGlobal.bind(this)}componentDidMount(){this.selectD3Elements(),this.view=Gn({container:this.svgRef,wrapper:this.wrapperRef,allowUserInput:!1}),this.addGlobalEventListeners(),this.update()}componentWillUnmount(){this.removeGlobalEventListeners()}addGlobalEventListeners(){window.addEventListener("wheel",this.onPointerWheelGlobal,{passive:!1}),window.addEventListener(Er("pointerup"),this.onPointerUpGlobal)}removeGlobalEventListeners(){window.removeEventListener("wheel",this.onPointerWheelGlobal),window.removeEventListener(Er("pointerup"),this.onPointerUpGlobal)}componentDidUpdate(e){this.update(e)}update(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{visible:a,chartZoom:i}=this.props;if(a){const a=function(){for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return e.changed(i,t,e.props)};a("visible","nodes","clickedNodes","linkedNodes","nodesActive","nodeSelected")&&Tr.call(this),a("visible","chartZoom")&&i.applied&&Nr.call(this),a("visible","nodes","textLabels","chartSize")&&this.resetView()}}changed(e,t,a){return t&&a&&e.some((e=>t[e]!==a[e]))}selectD3Elements(){this.el={svg:Object(aa.a)(this.svgRef.current),wrapper:Object(aa.a)(this.wrapperRef.current),nodeGroup:Object(aa.a)(this.nodesRef.current),viewport:Object(aa.a)(this.viewportRef.current)}}resetView(){const{graphSize:e,mapSize:t}=this.props,{width:a,height:i}=t,{width:n,height:s}=e;if(!a||!n)return;const r=Yn({offset:{x:.5*zr,y:.5*zr},viewWidth:a-zr,viewHeight:i-zr,objectWidth:n,objectHeight:s}),o=Zn(Kn(this.view));Wn(this.view,r,o?0:this.DURATION,!1)}getViewport(){const{chartZoom:e,chartSize:t}=this.props,{k:a,x:i,y:n}=Kn(this.view),s=a/e.scale,r=t.width*s,o=t.height*s;return{x:-i-(e.x-t.sidebarWidth)*s,y:-n-e.y*s,width:r,height:o}}render(){const{width:e,height:t}=this.props.mapSize,a={transform:"translate(calc(-100% + ".concat(e,"px), -100%)")},i=Er,n={onWheel:this.onPointerWheel,[i("onPointerEnter")]:this.onPointerEnter,[i("onPointerLeave")]:this.onPointerLeave,[i("onPointerDown")]:this.onPointerDown,[i("onPointerMove")]:this.onPointerMove};return Object(Di.jsx)("div",{className:"pipeline-minimap-container",style:this.props.visible?a:{},children:Object(Di.jsx)("div",{className:"pipeline-minimap kedro",ref:this.containerRef,...n,children:Object(Di.jsxs)("svg",{id:"pipeline-minimap-graph",className:"pipeline-minimap__graph",width:e,height:t,viewBox:"0 0 ".concat(e," ").concat(t),ref:this.svgRef,children:[Object(Di.jsx)("g",{id:"zoom-wrapper",ref:this.wrapperRef,children:Object(Di.jsx)("g",{id:"minimap-nodes",className:"pipeline-minimap__nodes",ref:this.nodesRef})}),Object(Di.jsx)("rect",{className:"pipeline-minimap__viewport",ref:this.viewportRef})]})})})}}const zr=32,Er=e=>window.PointerEvent?e:e.replace("pointer","mouse").replace("Pointer","Mouse"),Cr=e=>{const t=e.graph.size||{},a=t.width||0,i=t.height||0;if(a>0&&i>0){const e=a*(220/i);return{width:Math.min(Math.max(e,218),327),height:220}}return{width:218,height:220}},Pr=[],Ar={};var Lr=Object(r.b)(((e,t)=>({visible:e.visible.miniMap,mapSize:Cr(e),clickedNode:e.node.clicked,chartSize:bi(e),chartZoom:fi(e),graphSize:e.graph.size||Ar,nodes:e.graph.nodes||Pr,linkedNodes:Nn(e),nodeActive:Wa(e),nodeSelected:Ya(e),textLabels:e.textLabels,...t})),((e,t)=>({onUpdateChartZoom:t=>{e(E(t))},...t})))(Sr);var Dr=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M9.5 3l6 3.7 6-2.1v13.9l-6.2 3.3-6-3.8L3 20.4V5.3L9.5 3zm10 4.4l-3.1 1.2v10.3l3.2-1.6V7.4zm-9.1-1.5v10.4l4 2.5V8.4l-4-2.5zm-2-.4L5 6.7v10.8l3.4-1.3V5.5z"})})};var Rr=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"m13 4v7h7v2h-7v7h-2v-7h-7v-2h7v-7z"})})};var Vr=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M19 13H5v-2h14z"})})};var Ir=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M8.5 4v5.5h-2V7.7A7 7 0 0012 19v2A9 9 0 015.3 6H3V4h5.5zM12 3a9 9 0 017.1 14.5h2.4v2H16V14h2v1.6A7 7 0 0012 5z"})})};a(388);const Br=(e,t)=>{let{scale:a}=e;return{scale:a*(t||1),applied:!1,transition:!0,reset:0===t}};var Hr=Object(r.b)((e=>({visible:e.visible,displayMiniMap:e.display.miniMap,chartZoom:fi(e)})),(e=>({onToggleMiniMap:t=>{e({type:C,visible:t})},onUpdateChartZoom:t=>{e(E(t))}})))((e=>{let{chartZoom:t,displayMiniMap:a,onToggleMiniMap:i,onUpdateChartZoom:n,visible:s}=e;const{scale:r,minScale:o,maxScale:l}=t;return Object(Di.jsx)(Di.Fragment,{children:Object(Di.jsxs)("ul",{className:"pipeline-minimap-toolbar kedro",children:[a&&Object(Di.jsx)(un,{active:s.miniMap,ariaLabel:"Turn minimap ".concat(s.miniMap?"off":"on"),className:"pipeline-minimap-button pipeline-minimap-button--map",dataTest:"btnToggleMinimap",icon:Dr,id:"minimap-toggle-icon",labelText:"".concat(s.miniMap?"Hide":"Show"," minimap"),onClick:()=>i(!s.miniMap),visible:s.miniMapBtn}),Object(Di.jsx)(un,{ariaLabel:"Zoom in",className:"pipeline-minimap-button pipeline-minimap-button--zoom-in",dataTest:"btnZoomIn",disabled:r>=l,icon:Rr,labelText:"Zoom in",onClick:()=>n(Br(t,1.3)),visible:s.miniMapBtn}),Object(Di.jsx)(un,{ariaLabel:"Zoom out",className:"pipeline-minimap-button pipeline-minimap-button--zoom-out",dataTest:"btnZoomOut",disabled:r<=o,icon:Vr,labelText:"Zoom out",onClick:()=>n(Br(t,.7)),visible:s.miniMapBtn}),Object(Di.jsx)(un,{ariaLabel:"Reset zoom",className:"pipeline-minimap-button pipeline-minimap-button--reset",dataTest:"btnResetZoom",icon:Ir,labelText:"Reset zoom",onClick:()=>n(Br(t,0)),visible:s.miniMapBtn}),Object(Di.jsx)("li",{children:Object(Di.jsxs)("span",{className:"pipeline-minimap-toolbar__scale",title:"Zoom level",children:[Math.round(100*t.scale)||100,"%"]})})]})})})),Ur=a(115),qr=a.n(Ur),Gr=a(149);var Fr=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})})};a(410);const Zr=e=>{let{disabled:t,label:a,onBlur:n,onChange:s,onFocus:r,placeholder:o,theme:l,value:c}=e;const[d,p]=Object(i.useState)(!1),[u,m]=Object(i.useState)(c);Object(i.useEffect)((()=>{null!==c&&m(c)}),[c]);const _=e=>{p(!0),"function"===typeof r&&r(e,{focused:!0})},h=e=>{p(!1),"function"===typeof n&&n(e,{focused:!1,value:e.target.value})},b=a&&Object(Di.jsx)("div",{className:"search-input__label",children:a});return Object(Di.jsx)("div",{className:"kedro search-input-wrapper",children:Object(Di.jsxs)("div",{className:xi()("search-input","search-theme--".concat(l),{"search-input--disabled":t},{"search-input--focused":d}),onFocus:_,onBlur:h,children:[b,Object(Di.jsx)("input",{className:"search-input__field",disabled:t,onBlur:h,onChange:e=>{m(e.target.value),"function"===typeof s&&s(e,{value:e.target.value})},onFocus:_,placeholder:o||"",type:"text",value:u||""}),Object(Di.jsx)("div",{"aria-hidden":"true",className:"search-input__line","data-value":u||""})]})})};Zr.defaultProps={disabled:!1,label:null,onBlur:null,onChange:null,onFocus:null,placeholder:null,theme:"light",value:null};var Jr=Zr;const Kr=e=>{const{children:t,isFocused:a,placeholder:i,onBlur:n,onChange:s,onClear:r,onFocus:o,onSubmit:l,theme:c,showClearButton:d,value:p}=e;return Object(Di.jsxs)("form",{className:xi()("kedro","search-bar","kui-theme--".concat(c),{"search-bar--focused":a}),onSubmit:l,role:t?"combobox":"search",children:[Object(Di.jsx)("label",{className:"search-bar__label",htmlFor:"search-bar",children:"Search"}),Object(Di.jsx)("div",{className:"search-bar__icon-wrapper",children:Object(Di.jsx)(Fr,{className:"icon icon__graphics"})}),Object(Di.jsx)(Jr,{id:"search-bar",placeholder:i,onChange:s,onFocus:o,onBlur:n,value:p,theme:c,type:"search"}),Object(Di.jsx)("div",{className:xi()("search-bar__dynamic-icon",{"search-bar__dynamic-icon--visible":d}),children:Object(Di.jsx)("button",{className:"icon--close",onBlur:n,onClick:r,onFocus:o,children:Object(Di.jsx)(Wi,{className:"icon icon__graphics"})})}),t]})};Kr.defaultProps={children:null,onSubmit:null};var Xr=Kr;a(411);const Wr=e=>{let{children:t,onBlur:a,onChange:n,onClear:s,onFocus:r,onSubmit:o,placeholder:l,theme:c,value:d}=e;const[p,u]=Object(i.useState)(d),[m,_]=Object(i.useState)(!1),[h,b]=Object(i.useState)(""!==d);Object(i.useEffect)((()=>{u(d),b(""!==d)}),[d]);return Object(Di.jsx)(Xr,{onBlur:e=>{_(!1),"function"===typeof a&&a(e.target.value)},isFocused:m,placeholder:l,onChange:e=>{u(e.target.value),b(""!==e.target.value),"function"===typeof n&&n(e.target.value)},onClear:e=>{u(""),b(!1),"function"===typeof s&&s(),"function"===typeof n&&n(""),e.preventDefault()},onFocus:e=>{_(!0),"function"===typeof r&&r(e.target.value)},onSubmit:e=>{"function"===typeof o&&o({e:e,data:p})},showClearButton:h,value:p,theme:c,children:t})};Wr.defaultProps={children:null,placeholder:"Search Here...",onBlur:null,onChange:null,onClear:null,onFocus:null,onSubmit:null,theme:"dark",value:""};var Yr=Wr;a(412);var Qr=Object(r.b)((e=>({theme:e.theme})))((e=>{let{onUpdateSearchValue:t,searchValue:a,theme:n}=e;const s=Object(i.useRef)(null),r=e=>{const t="f"===e.key||70===e.keyCode,a=e.ctrlKey||e.metaKey;if(t&&a){const t=s.current.querySelector("input");document.activeElement!==t?(t.focus(),e.preventDefault()):t.blur()}};Object(i.useEffect)((()=>(window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r))));return Object(Di.jsx)("div",{className:"pipeline-search-list",onKeyDown:e=>{("Escape"===e.key||27===e.keyCode)&&(t(""),s.current.querySelector("input").blur())},ref:s,children:Object(Di.jsx)(Yr,{onChange:t,placeholder:"Search",theme:n,value:a})})})),$r=Qr;var eo=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M11.5 5.706c4.142 0 7.5 4.662 7.5 5.625 0 .963-3.358 5.625-7.5 5.625-4.142 0-7.5-4.632-7.5-5.625 0-.993 3.358-5.625 7.5-5.625zm0 1.875a3.75 3.75 0 100 7.5 3.75 3.75 0 000-7.5zm0 1.875a1.875 1.875 0 110 3.75 1.875 1.875 0 010-3.75z"})})};var to=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M17.97 5.3L19 6.33l-2 2.01c1.24 1.23 2 2.53 2 3 0 .95-3.36 5.62-7.5 5.62-.9 0-1.76-.22-2.55-.57L6.33 19 5.3 17.97 17.97 5.3zm-2.88 4.94l-1.9 1.9c-.18.39-.5.7-.88.88l-1.9 1.9a3.74 3.74 0 004.84-3.59c0-.38-.06-.74-.16-1.09zM11.5 5.71c1 0 1.95.27 2.83.7l-1.45 1.44a3.74 3.74 0 00-4.87 4.86l-1.8 1.81C4.83 13.24 4 11.82 4 11.33c0-1 3.36-5.63 7.5-5.63zm-.24 3.76L9.64 11.1c.11-.84.77-1.5 1.61-1.62z"})})};var ao=e=>{let{className:t,checked:a}=e;return Object(Di.jsx)("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(Di.jsxs)("g",{children:[Object(Di.jsx)("path",{d:"M5 0L5 2 2 2 2 5 0 5 0 0z",transform:"translate(-258 -194) translate(258 194) translate(6 6)"}),Object(Di.jsx)("path",{d:"M12 0L12 2 9 2 9 5 7 5 7 0z",transform:"translate(-258 -194) translate(258 194) translate(6 6) rotate(90 9.5 2.5)"}),Object(Di.jsx)("path",{d:"M12 7L12 9 9 9 9 12 7 12 7 7z",transform:"translate(-258 -194) translate(258 194) translate(6 6) rotate(-180 9.5 9.5)"}),Object(Di.jsx)("path",{d:"M5 7L5 9 2 9 2 12 0 12 0 7z",transform:"translate(-258 -194) translate(258 194) translate(6 6) rotate(-90 2.5 9.5)"})]})})};const io=(e,t)=>{return a=["active","checked","allUnchecked","disabled","faded","focused","visible","selected","label","children","count"],n=t,!((i=e)&&n&&a.some((e=>i[e]!==n[e])));var a,i,n},no=Object(i.memo)((e=>{let{container:t="div",active:a,checked:i,allUnchecked:n,children:s,disabled:r,faded:o,focused:l,visible:c,id:d,label:p,count:u,name:m,kind:_,onMouseEnter:h,onMouseLeave:b,onChange:f,onClick:g,selected:y,type:j,icon:v,visibleIcon:x=eo,invisibleIcon:O=to,focusModeIcon:w=ao,rowType:k,onToggleHoveredFocusMode:N}=e;const T="modularPipeline"===j,M=T?w:null,S=T?i||l:i,z=S?x:O,E=g&&"filter"!==_?"button":"div";return Object(Di.jsxs)(t,{className:xi()("pipeline-nodelist__row kedro","pipeline-nodelist__row--kind-".concat(_),{"pipeline-nodelist__row--visible":c,"pipeline-nodelist__row--active":a,"pipeline-nodelist__row--selected":y,"pipeline-nodelist__row--disabled":r,"pipeline-nodelist__row--unchecked":!S,"pipeline-nodelist__row--overwrite":!(a||y)}),title:m,onMouseEnter:c?h:null,onMouseLeave:c?b:null,children:[v&&Object(Di.jsx)(Cn,{className:xi()("pipeline-nodelist__row__type-icon","pipeline-nodelist__row__icon",{"pipeline-nodelist__row__type-icon--faded":o,"pipeline-nodelist__row__type-icon--disabled":r,"pipeline-nodelist__row__type-icon--nested":!s,"pipeline-nodelist__row__type-icon--active":a,"pipeline-nodelist__row__type-icon--selected":y}),icon:v}),Object(Di.jsx)(E,{className:xi()("pipeline-nodelist__row__text","pipeline-nodelist__row__text--kind-".concat(_),"pipeline-nodelist__row__text--".concat(k)),"data-heap-event":"clicked.sidebar.".concat(v),"data-test":"node-".concat(s?null:m),onClick:g,onFocus:h,onBlur:b,title:s?null:m,children:Object(Di.jsx)("span",{className:xi()("pipeline-nodelist__row__label","pipeline-nodelist__row__label--kind-".concat(_),{"pipeline-nodelist__row__label--faded":o,"pipeline-nodelist__row__label--disabled":r}),dangerouslySetInnerHTML:{__html:ce(p)}})}),"number"===typeof u&&Object(Di.jsx)("span",{onClick:g,className:"pipeline-nodelist__row__count",children:u}),z&&Object(Di.jsxs)("label",{htmlFor:d,className:xi()("pipeline-row__toggle","pipeline-row__toggle--kind-".concat(_),{"pipeline-row__toggle--disabled":T?l:r,"pipeline-row__toggle--selected":y}),onClick:e=>e.stopPropagation(),children:[Object(Di.jsx)("input",{id:d,className:"pipeline-nodelist__row__checkbox","data-heap-event":_==="visible.".concat(m,".").concat(S),type:"checkbox",checked:S,disabled:r,name:m,onChange:f}),Object(Di.jsx)(z,{"aria-label":m,checked:S,className:xi()("pipeline-nodelist__row__icon","pipeline-row__toggle-icon","pipeline-row__toggle-icon--kind-".concat(_),{"pipeline-row__toggle-icon--parent":Boolean(s),"pipeline-row__toggle-icon--child":!s,"pipeline-row__toggle-icon--checked":S,"pipeline-row__toggle-icon--unchecked":!S,"pipeline-row__toggle-icon--all-unchecked":n,"pipeline-row__toggle-icon--focus-checked":!T&&l})})]}),M&&Object(Di.jsxs)("label",{htmlFor:d+"-focus",className:xi()("pipeline-row__toggle","pipeline-row__toggle--kind-".concat(_),{"pipeline-row__toggle--disabled":r,"pipeline-row__toggle--selected":y}),onClick:e=>e.stopPropagation(),onMouseEnter:()=>N(!0),onMouseLeave:()=>N(!1),children:[Object(Di.jsx)("input",{id:d+"-focus",className:"pipeline-nodelist__row__checkbox","data-heap-event":_==="focusMode.checked.".concat(S),type:"checkbox",checked:S,disabled:r,name:m,onChange:f,"data-icon-type":"focus"}),Object(Di.jsx)(M,{"aria-label":m,checked:S,className:xi()("pipeline-nodelist__row__icon","pipeline-row__toggle-icon","pipeline-row__toggle-icon--kind-".concat(_),{"pipeline-row__toggle-icon--parent":Boolean(s),"pipeline-row__toggle-icon--child":!s,"pipeline-row__toggle-icon--checked":S,"pipeline-row__toggle-icon--unchecked":!S,"pipeline-row__toggle-icon--all-unchecked":n,"pipeline-row__toggle-icon--focus-checked":l})})]}),s]})}),io);var so=Object(r.b)(((e,t)=>({...t,active:"undefined"!==typeof t.active?t.active:Wa(e)[t.id]||!1})),(e=>({onToggleHoveredFocusMode:t=>{e({type:B,hoveredFocusMode:t})}})))(no);const ro=(e,t,a,i)=>[Math.max(Math.min(e,i),a),Math.max(Math.min(t,i),a)],oo=(e,t)=>[Math.min(e[0],t[0]),Math.max(e[1],t[1])],lo=(e,t)=>e[0]===t[0]&&e[1]===t[1],co=(e,t,a,i,n)=>{if(!e)return[0,0];t||(t=e);const s=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=Math.ceil(a*s.height/n);if(s.bottom<0||r.bottom<s.top)return ro(i-o,i,0,i);const l={top:0,bottom:window.innerHeight||document.documentElement.clientHeight};if(s.top>l.bottom||r.top>s.bottom)return ro(0,o,0,i);const c=Math.max(s.top,l.top),d=Math.min(s.bottom,l.bottom),p=Math.floor((c-r.top)/n),u=Math.ceil((d-r.top)/n);return ro(p-o,u+o,0,i)},po=e=>{const t=Object(i.useRef)();return Object(i.useCallback)((()=>{cancelAnimationFrame(t.current),t.current=requestAnimationFrame(e)}),[t,e])},uo=e=>0===e?[0]:[...Array.from({length:e},((t,a)=>a/e)),1],mo=(e,t,a)=>{const n=Object(i.useRef)();return Object(i.useLayoutEffect)((()=>{e.current&&(n.current&&n.current.disconnect(),window.IntersectionObserver&&(n.current=new window.IntersectionObserver(a,t),n.current.observe(e.current)),a())}),[a,e,t])};var _o=e=>{let{height:t,total:a,children:n,lazy:s=!0,dispose:r=!1,buffer:o=.5,onChange:l,container:c=(e=>null===e||void 0===e?void 0:e.offsetParent)}=e;const d="undefined"!==typeof window.IntersectionObserver,p=s&&d,[u,m]=Object(i.useState)([0,0]),_=Object(i.useRef)([0,0]),h=Object(i.useRef)(),b=Object(i.useRef)(),f=Object(i.useRef)(),g=Object(i.useMemo)((()=>t(0,1)),[t]),y=Object(i.useMemo)((()=>t(0,a)),[t,a]),j=Object(i.useMemo)((()=>t(0,u[0])),[t,u]),v=Object(i.useMemo)((()=>t(u[1],a)),[t,u,a]),x=po(Object(i.useCallback)((()=>{const e=co(h.current,c(h.current),o,a,g),t=r?e:oo(_.current,e);lo(_.current,t)||(_.current=t,m(t))}),[o,a,g,r,c])),O=Object(i.useMemo)((()=>({threshold:uo(a)})),[a]);mo(h,O,x),mo(b,O,x),mo(f,O,x),Object(i.useLayoutEffect)((()=>x()),[a,g,y,x]);const w=Object(i.useMemo)((()=>({listRef:h,upperRef:b,lowerRef:f,total:a,start:p?u[0]:0,end:p?u[1]:a,listStyle:{position:"relative",height:p?y:void 0,paddingTop:p?j:void 0},upperStyle:{position:"absolute",display:p?void 0:"none",height:j,width:"100%",top:"0"},lowerStyle:{position:"absolute",display:p?void 0:"none",height:v,width:"100%",bottom:"0"}})),[p,u,a,h,b,f,y,j,v]);return l&&l(w),n(w)};var ho=e=>{let{items:t=[],group:a,collapsed:i,onItemClick:n,onItemChange:s,onItemMouseEnter:r,onItemMouseLeave:o}=e;return Object(Di.jsx)(_o,{height:(e,t)=>32*(t-e),total:t.length,children:e=>{let{start:l,end:c,total:d,listRef:p,upperRef:u,lowerRef:m,listStyle:_,upperStyle:h,lowerStyle:b}=e;return Object(Di.jsxs)("ul",{ref:p,style:_,className:zn("pipeline-nodelist__children",{closed:i},"pipeline-nodelist__list pipeline-nodelist__list--nested"),children:[Object(Di.jsx)("li",{className:zn("pipeline-nodelist__placeholder-upper",{fade:l!==c&&l>0}),ref:u,style:h}),Object(Di.jsx)("li",{className:zn("pipeline-nodelist__placeholder-lower",{fade:l!==c&&c<d}),ref:m,style:b}),t.slice(l,c).map((e=>Object(Di.jsx)(so,{container:"li",id:e.id,kind:a.kind,label:e.highlightedLabel,count:e.count,name:e.name,type:e.type,icon:e.icon,active:e.active,checked:e.checked,disabled:e.disabled,faded:e.faded,visible:e.visible,selected:e.selected,allUnchecked:a.allUnchecked,visibleIcon:e.visibleIcon,invisibleIcon:e.invisibleIcon,onClick:()=>n(e),onMouseEnter:()=>r(e),onMouseLeave:()=>o(e),onChange:t=>s(e,!t.target.checked),rowType:"filter"},e.id)))]})}})};var bo=e=>{let{allUnchecked:t,checked:a,collapsed:i,group:n,id:s,invisibleIcon:r,items:o,kind:l,name:c,onItemChange:d,onItemClick:p,onItemMouseEnter:u,onItemMouseLeave:m,onToggleChecked:_,onToggleCollapsed:h,visibleIcon:b}=e;const f=0===o.length;return Object(Di.jsxs)("li",{className:xi()("pipeline-nodelist__group","pipeline-nodelist__group--type-".concat(s),"pipeline-nodelist__group--kind-".concat(l),{"pipeline-nodelist__group--all-unchecked":t}),children:[Object(Di.jsx)("h3",{className:"pipeline-nodelist__heading",children:Object(Di.jsx)(so,{allUnchecked:t,checked:a,disabled:f,id:s,invisibleIcon:r,kind:l,label:c,name:c,onChange:e=>{_(s,!e.target.checked)},rowType:"filter",visibleIcon:b,children:Object(Di.jsx)("button",{"aria-label":"".concat(i?"Show":"Hide"," ").concat(c.toLowerCase()),className:xi()("pipeline-type-group-toggle",{"pipeline-type-group-toggle--alt":i,"pipeline-type-group-toggle--disabled":f}),disabled:f,onClick:()=>h(s)})})}),Object(Di.jsx)(ho,{collapsed:i,group:n,items:o,onItemChange:d,onItemClick:p,onItemMouseEnter:u,onItemMouseLeave:m})]})};const fo=dt(je);var go=e=>{let{groups:t,items:a,onGroupToggleChanged:n,onItemChange:s,onItemClick:r,onItemMouseEnter:o,onItemMouseLeave:l,searchValue:c}=e;const[d,p]=Object(i.useState)(fo.groupsCollapsed||{}),u=e=>{const t={...d,[e]:!d[e]};p(t),pt(je,{groupsCollapsed:t})};return Object(Di.jsx)("nav",{className:"pipeline-nodelist-section kedro",children:Object(Di.jsx)("ul",{className:"pipeline-nodelist__list",children:Object.values(t).map((e=>Object(Di.jsx)(bo,{allUnchecked:e.allUnchecked,checked:e.checked,collapsed:!Boolean(c)&&d[e.id],group:e,id:e.id,invisibleIcon:e.invisibleIcon,items:a[e.id]||[],kind:e.kind,name:e.name,onItemChange:s,onItemClick:r,onItemMouseEnter:o,onItemMouseLeave:l,onToggleChecked:n,onToggleCollapsed:u,visibleIcon:e.visibleIcon},e.id)))})})},yo=a(611),jo=a(612),vo=a(95),xo=a.n(vo),Oo=a(96),wo=a.n(Oo),ko=a(221),No=a.n(ko);const To=e=>e.nodeType.ids,Mo=e=>"modularPipeline"===e,So=Object(ta.a)([To,e=>e.node.ids,e=>e.node.type,Oa],((e,t,a,i)=>re(e,(e=>{const n=t.filter((t=>a[t]===e)),s=n.filter((e=>!i[e]));return{total:n.length,visible:s.length}})))),zo=Object(ta.a)([To,e=>e.nodeType.name,e=>e.nodeType.disabled,So],((e,t,a,i)=>e.map((e=>({id:e,name:t[e],disabled:a[e],nodeCount:i[e]})))));var Eo=a(615);const Co="#8e8e90";var Po=e=>{let{data:t,onItemClick:a,onItemMouseEnter:i,onItemMouseLeave:n,onItemChange:s,children:r}=e;return Object(Di.jsx)(Eo.a,{className:"pipeline-treeItem__root--overwrite",nodeId:t.id,collapseIcon:Object(Di.jsx)(xo.a,{style:{color:Co}}),expandIcon:Object(Di.jsx)(wo.a,{style:{color:Co}}),label:Object(Di.jsx)(so,{container:"div",id:t.id,kind:"element",label:t.highlightedLabel||t.name,name:t.name,icon:t.icon,type:t.type,active:t.active,checked:t.checked,disabled:t.disabled,faded:t.faded,visible:t.visible,selected:t.selected,allUnchecked:!0,visibleIcon:t.visibleIcon,invisibleIcon:t.invisibleIcon,focusModeIcon:t.focusModeIcon,onClick:()=>a(t),onMouseEnter:()=>i(t),onMouseLeave:()=>n(t),onChange:e=>s(t,!e.target.checked,e.target.dataset.iconType),rowType:"tree",focused:t.focused},t.id),children:r},t.id)};const Ao={modularPipeline:0,task:1,data:2,parameter:3},Lo=Object(yo.a)(jo.a)({root:{height:110,flexGrow:1,maxWidth:400},padding:"0 0 0 20px"}),Do=(e,t)=>t===e||t.startsWith("".concat(e,".")),Ro=e=>{let{id:t,highlightedLabel:a,data:i,disabled:n,focused:s,focusModeIcon:r}=e;const o=!i.disabledModularPipeline;return{id:t,name:a||i.name,type:"modularPipeline",icon:"modularPipeline",focusModeIcon:r,active:!1,selected:!1,faded:n||!o,visible:!n&&o,enabled:!0,disabled:n,focused:s,checked:o}},Vo=(e,t,a)=>{const i=!e.disabledNode;return{...e,visibleIcon:eo,invisibleIcon:to,active:e.active,selected:a,faded:t||e.disabledNode,visible:!t&&i,checked:i,disabled:t}};var Io=Object(r.b)((e=>({nodeSelected:Ya(e),expanded:e.modularPipeline.expanded})),(e=>({onToggleNodeSelected:t=>{e(Pt(t))}})))((e=>{let{nodeSelected:t,modularPipelinesSearchResult:a,modularPipelinesTree:i,onItemChange:n,onItemMouseEnter:s,onItemMouseLeave:r,onItemClick:o,onNodeToggleExpanded:l,focusMode:c,disabledModularPipeline:d,expanded:p,onToggleNodeSelected:u}=e;const m=(e,a)=>{const i=e[a];if(!i)return;const l=No()(i.children,(e=>Ao[e.type]),(e=>e.data.name)).map((a=>Mo(a.type)?m(e,a.id):(e=>{const a=e.disabledTag||e.disabledType||c&&!e.modularPipelines.map((e=>Do(c.id,e))).some(Boolean)||e.modularPipelines&&e.modularPipelines.map((e=>d[e])).some(Boolean),i=t[e.id];return Object(Di.jsx)(Po,{data:Vo(e,a,i),onItemMouseEnter:s,onItemMouseLeave:r,onItemChange:n,onItemClick:o},e.id)})(a.data)));if("__root__"===a)return l;const p=(null===c||void 0===c?void 0:c.id)===i.id;let u;return u=c?p?ao:null:ao,Object(Di.jsx)(Po,{data:Ro({...i,focusModeIcon:u,disabled:c&&!Do(c.id,i.id),focused:p}),onItemMouseEnter:s,onItemMouseLeave:r,onItemChange:n,onItemClick:o,children:l},i.id)};return a?Object(Di.jsx)(Lo,{expanded:Object.keys(a),defaultCollapseIcon:Object(Di.jsx)(xo.a,{}),defaultExpandIcon:Object(Di.jsx)(wo.a,{}),children:m(a,"__root__")},"modularPipelinesSearchResult"):Object(Di.jsx)(Lo,{expanded:p,defaultCollapseIcon:Object(Di.jsx)(xo.a,{}),defaultExpandIcon:Object(Di.jsx)(wo.a,{}),onNodeToggle:(e,t)=>{l(t),0===t.length&&u(null)},children:m(i,"__root__")},"modularPipelinesTree")}));var Bo=e=>{let{splitDefault:t=.65,splitMin:a=0,splitMax:n=1,keyboardStep:s=.025,orientation:r="vertical",children:o}=e;const l=Object(i.useRef)(),c=Object(i.useRef)(),d=()=>{var e,t;return{container:null===(e=l.current)||void 0===e?void 0:e.getBoundingClientRect(),handle:null===(t=c.current)||void 0===t?void 0:t.getBoundingClientRect()}},p=e=>{const t=d(),i=t.handle?t.handle.height/t.container.height:0;return e<a?a:e>n-i?n-i:e},[u,m]=Object(i.useState)(!1),[_,h]=Object(i.useState)(p(t)),b=e=>{if("mouseup"!==e.type){if(u||"mousedown"===e.type){const t=d(),a=(e.clientY-t.container.top-.5*t.handle.height)/t.container.height;m(!0),h(p(a)),e.preventDefault()}}else m(!1)};return o({isResizing:u,split:_,props:{container:{ref:l,onMouseMove:b,onMouseUp:b},panelA:{style:{height:100*_+"%"}},panelB:{style:{height:100*(1-_)+"%"}},handle:{ref:c,role:"separator","aria-orientation":r,tabIndex:"0",onMouseUp:b,onMouseDown:b,onKeyDown:e=>{const t={ArrowUp:-s,ArrowLeft:-s,ArrowDown:s,ArrowRight:s}[e.key]||0;t&&(h(p(_+t)),e.preventDefault())}}}})};a(194);var Ho=e=>{let{faded:t,items:a,modularPipelinesTree:i,modularPipelinesSearchResult:n,groups:s,searchValue:r,getGroupState:o,onUpdateSearchValue:l,onGroupToggleChanged:c,onItemClick:d,onItemMouseEnter:p,onItemMouseLeave:u,onItemChange:m,onModularPipelineToggleExpanded:_,focusMode:h,disabledModularPipeline:b}=e;return Object(Di.jsxs)("div",{className:xi()("pipeline-nodelist",{"pipeline-nodelist--fade":t}),children:[Object(Di.jsx)($r,{onUpdateSearchValue:l,searchValue:r}),Object(Di.jsx)(Bo,{children:e=>{let{isResizing:l,props:{container:f,panelA:g,panelB:y,handle:j}}=e;return Object(Di.jsxs)("div",{className:xi()("pipeline-nodelist__split",{"pipeline-nodelist__split--resizing":l}),...f,children:[Object(Di.jsx)("div",{className:"pipeline-nodelist__elements-panel",...g,children:Object(Di.jsx)(Gr.Scrollbars,{className:"pipeline-nodelist-scrollbars",style:{width:"auto"},autoHide:!0,hideTracksWhenNotNeeded:!0,children:Object(Di.jsx)("div",{className:"pipeline-nodelist-section",children:Object(Di.jsx)(Io,{modularPipelinesSearchResult:n,modularPipelinesTree:i,searchValue:r,faded:t,onItemClick:d,onItemMouseEnter:p,onItemMouseLeave:u,onItemChange:m,onNodeToggleExpanded:_,focusMode:h,disabledModularPipeline:b})})})}),Object(Di.jsxs)("div",{className:"pipeline-nodelist__filter-panel",...y,children:[Object(Di.jsx)("div",{className:"pipeline-nodelist__split-handle",...j}),Object(Di.jsxs)(Gr.Scrollbars,{className:"pipeline-nodelist-scrollbars",style:{width:"auto"},autoHide:!0,hideTracksWhenNotNeeded:!0,children:[Object(Di.jsx)("h2",{className:"pipeline-nodelist-section__title",children:Object(Di.jsx)("span",{children:"Filters"})}),Object(Di.jsx)(go,{items:a,groups:s,searchValue:r,getGroupState:o,onItemClick:d,onItemMouseEnter:p,onItemMouseLeave:u,onItemChange:m,onGroupToggleChanged:c})]})]})]})}})]})};var Uo=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("rect",{x:"8.5",y:"9",width:"5",height:"5",rx:"1",strokeWidth:"1.5"})})};var qo=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("rect",{x:"8.5",y:"9",width:"5",height:"5",rx:"1",strokeWidth:"1.9"})})};var Go=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("rect",{x:"6.5",y:"10.5",width:"8",height:"1.5"})})};const Fo=e=>"tag"===e,Zo=e=>"elementType"===e,Jo=e=>Zo(e)||Fo(e),Ko=e=>Object.values(e).flatMap((e=>e.map((e=>e.id)))),Xo=(e,t)=>{const a={};for(const i of Object.keys(e))a[i]=e[i].map((e=>({...e,highlightedLabel:oa(e.name,t)})));return a},Wo=(e,t)=>!t||new RegExp(la(t),"gi").test(e.name),Yo=(e,t)=>{const a={};for(const i of Object.keys(e))a[i]=e[i].filter((e=>Wo(e,t)));return a},Qo=Object(ta.a)([e=>e.nodes,e=>e.searchValue],((e,t)=>{const a=Yo(e,t);return{filteredNodes:Xo(a,t),nodeIDs:Ko(a)}})),$o=Object(ta.a)([e=>e.tags,e=>e.searchValue],((e,t)=>Xo(Yo({tag:e},t),t))),el=Object(ta.a)([$o,e=>e.tagNodeCounts],(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{tag:e.tag.map((e=>({...e,type:"tag",visibleIcon:Uo,invisibleIcon:qo,active:!1,selected:!1,faded:!1,visible:!0,disabled:!1,checked:e.enabled,count:t[e.id]||0})))}})),tl=Object(ta.a)([e=>e.searchValue],(e=>Xo(Yo({elementType:Object.entries(De).map((e=>{let[t,a]=e;return{id:t,name:a}}))},e),e))),al=Object(ta.a)([tl,e=>e.nodeTypes],((e,t)=>({elementType:e.elementType.map((e=>{const a=t.find((t=>t.id===e.id));return{...e,type:"elementType",visibleIcon:Uo,invisibleIcon:qo,active:!1,selected:!1,faded:!1,visible:!0,disabled:!1,checked:!1===a.disabled,count:a.nodeCount.total}}))}))),il=(e,t)=>{const a=Number(e.disabledTag)-Number(t.disabledTag),i=e.name.localeCompare(t.name);return 0!==a?a:i},nl=Object(ta.a)([Qo,e=>e.nodeSelected,e=>e.focusMode,e=>e.inputOutputDataNodes],((e,t,a,i)=>{let{filteredNodes:n}=e;const s={};for(const r of Object.keys(n))s[r]=n[r].map((e=>{const n=!e.disabledNode,s=e.disabledTag||e.disabledType||null!==a&&!!i[e.id];return{...e,visibleIcon:eo,invisibleIcon:to,active:void 0,selected:t[e.id],faded:s||e.disabledNode,visible:!s&&n,checked:n,disabled:s}})).sort(il);return s})),sl=Object(ta.a)([e=>e.items],(e=>{const t={};for(const[a,i]of Object.entries(Le)){const n=e[a]||[],s=n.every((e=>!e.checked)),r=n.every((e=>e.checked));t[a]={type:a,name:i,id:a,kind:"filter",allUnchecked:n.every((e=>!e.checked)),allChecked:n.every((e=>e.checked)),checked:!s,visibleIcon:r?Uo:Go,invisibleIcon:qo}}return t})),rl=Object(ta.a)([nl,el,al],((e,t,a)=>({...t,...e,...a})));var ol=Object(r.b)((e=>({tags:ba(e),tagNodeCounts:ga(e),nodes:ii(e),nodeSelected:Ya(e),nodeTypes:zo(e),focusMode:da(e),disabledModularPipeline:e.modularPipeline.disabled,inputOutputDataNodes:li(e),modularPipelinesTree:ai(e)})),(e=>({onToggleTagActive:(t,a)=>{e(function(e,t){return{type:Ht,tagIDs:Array.isArray(e)?e:[e],active:t}}(t,a))},onToggleTagFilter:(t,a)=>{e(function(e,t){return{type:Ut,tagIDs:Array.isArray(e)?e:[e],enabled:t}}(t,a))},onToggleModularPipelineActive:(t,a)=>{e(Ft(t,a))},onToggleModularPipelineDisabled:(t,a)=>{e(function(e,t){return{type:Zt,modularPipelineIDs:Array.isArray(e)?e:[e],disabled:t}}(t,a))},onToggleTypeDisabled:(t,a)=>{e(function(e,t){return{type:Dt,typeIDs:"string"===typeof e?{[e]:t}:e}}(t,a))},onToggleNodeSelected:t=>{e(Pt(t))},onToggleModularPipelineExpanded:t=>{e(Xt(t))},onToggleNodeActive:t=>{e(St(t))},onToggleParametersActive:t=>{e({type:R,hoveredParameters:t})},onToggleNodesDisabled:(t,a)=>{e(function(e,t){return{type:Tt,nodeIDs:e,isDisabled:t}}(t,a))},onToggleFocusMode:t=>{e(I(t))}})))((e=>{let{faded:t,nodes:a,nodeSelected:n,tags:s,tagNodeCounts:r,nodeTypes:o,onToggleNodesDisabled:l,onToggleNodeSelected:c,onToggleNodeActive:d,onToggleParametersActive:p,onToggleTagActive:u,onToggleTagFilter:m,onToggleModularPipelineActive:_,onToggleModularPipelineDisabled:h,onToggleModularPipelineExpanded:b,onToggleTypeDisabled:f,onToggleFocusMode:g,modularPipelinesTree:y,focusMode:j,disabledModularPipeline:v,inputOutputDataNodes:x}=e;const[O,w]=Object(i.useState)(""),{toSelectedPipeline:k,toSelectedNode:N,toFocusedModularPipeline:T}=cs(),M=rl({nodes:a,tags:s,nodeTypes:o,tagNodeCounts:r,nodeSelected:n,searchValue:O,focusMode:j,inputOutputDataNodes:x}),S=O?((e,t)=>{if(!e)return{};const a={};return _a(t,e,"__root__",a),a})(y,O):null,z=sl({items:M}),E=(e,t)=>{Fo(e.type)?m(e.id,!t):Zo(e.type)&&f({[e.id]:t}),c(null),d(null)},C=e=>{27===e.keyCode&&c(null)};return Object(i.useEffect)((()=>(window.addEventListener("keydown",C),()=>window.removeEventListener("keydown",C)))),Object(Di.jsx)(Ho,{faded:t,items:M,modularPipelinesTree:y,modularPipelinesSearchResult:S,groups:z,searchValue:O,onUpdateSearchValue:qr()(w,250),onModularPipelineToggleExpanded:e=>{b(e)},onGroupToggleChanged:e=>{const t=M[e]||[],a=t.every((e=>!e.checked));Fo(e)?m(t.map((e=>e.id)),a):Zo(e)&&f(t.reduce(((e,t)=>({...e,[t.id]:!a})),{}))},onToggleFocusMode:g,onItemClick:e=>{Jo(e.type)?E(e,e.checked):Mo(e.type)?c(null):e.faded||e.selected?(c(null),k()):(c(e.id),N(e))},onItemMouseEnter:e=>{Fo(e.type)?u(e.id,!0):Mo(e.type)?_(e.id,!0):Zo(e.type)&&"parameters"===e.id?p(!0):e.visible&&d(e.id)},onItemMouseLeave:e=>{Fo(e.type)?u(e.id,!1):Mo(e.type)?_(e.id,!1):Zo(e.type)&&"parameters"===e.id?p(!1):e.visible&&d(null)},onItemChange:(e,t,a)=>{Jo(e.type)||Mo(e.type)?(E(e,t),Mo(e.type)&&("focus"===a?null===j?(g(e),T(e),v[e.id]&&h([e.id],t)):(g(null),k()):(h([e.id],t),_([e.id],!1)))):(t&&d(null),l([e.id],t))},focusMode:j,disabledModularPipeline:v})})),ll=a(59);var cl=class{static addBodyListener(e){"undefined"===typeof window.__bodyEventHandlers&&(window.__bodyEventHandlers=[]),window.__bodyEventHandlers.push(e),document.body.addEventListener("click",e),window.__bodyListenerAttached=!0}static removeBodyListeners(){window.__bodyListenerAttached&&(window.__bodyEventHandlers.forEach((e=>{document.body.removeEventListener("click",e)})),window.__bodyEventHandlers=[],window.__bodyListenerAttached=!1)}};const dl=e=>{const t=Object(i.useRef)();return Object(i.useEffect)((()=>{t.current=e})),t.current},pl={13:"enter",27:"escape",38:"up",40:"down"};var ul=(e,t)=>{const a=(t,a)=>{if(e in pl&&pl[e]===t.toLowerCase())return a()};return t?Object.keys(t).map((e=>a(e,t[e]))):(e,t)=>e.includes(",")?e.split(/\s*,\s*/).map((e=>a(e,t))):a(e,t)},ml=a(225),_l=a.n(ml);var hl=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M15.572 15.35L17 13.936l-4.997-4.953L7 13.93l1.432 1.417 3.586-3.55z"})})};const bl=e=>{let{children:t,defaultText:a,disabled:i,focusedOption:s,handleRef:r,haveSelectedValues:o,onApplyAndClose:l,onCancel:c,onLabelClicked:d,onOptionSelected:p,onSelectChanged:u,open:m,selectedOption:_,showCancelApplyBtns:h,title:b,width:f,placeholderText:g}=e;const y=xi()("kedro","dropdown",{"dropdown--open":m,"dropdown--disabled":i});let j=0;const v=(e,t,a)=>{const i={id:t,onSelected:p,focused:s===a,selected:_.id===t||!_.id&&e.props.selected};return j+=1,n.a.cloneElement(e,i)},x=n.a.Children.toArray(t),O=x[0]&&"function"===typeof x[0].type,w=n.a.Children.map(x,((e,t)=>{switch(e.type){case"section":return Object(Di.jsx)("section",{children:n.a.Children.map(e.props.children,((e,a)=>"span"===e.type?e:v(e,"menu-option-".concat(t,".").concat(a),j)))},"menu-section-".concat(_l()(t)));case"span":case"div":return e;default:return v(e,"menu-option-".concat(t),j)}})),k=O?Object(Di.jsx)("section",{children:w}):w;return Object(Di.jsxs)("div",{"aria-expanded":m.toString(),"data-test":"kedro-pipeline-selector","aria-haspopup":"true",className:y,onKeyDown:e=>{ul(e.keyCode,m?{escape:d,up:u.bind(void 0,-1),down:u.bind(void 0,1)}:{up:d,down:d}),ul(e.keyCode)("escape, up, down",(()=>e.preventDefault()))},ref:r,style:{width:"".concat(f,"px")},title:b,children:[Object(Di.jsxs)("button",{type:"button",disabled:i,className:"dropdown__label",onClick:d,children:[g?Object(Di.jsx)("span",{className:"dropdown__placeholder",children:g}):Object(Di.jsx)("span",{children:_.label||a}),Object(Di.jsx)("span",{className:"dropdown__icon",children:Object(Di.jsx)(hl,{})})]}),Object(Di.jsxs)("div",{className:"dropdown__options",children:[k,h&&Object(Di.jsxs)("div",{className:"select-dropdown__btn-wrapper",children:[Object(Di.jsx)(Xi,{mode:"secondary",onClick:c,size:"small",children:"Cancel"}),Object(Di.jsx)(Xi,{disabled:!o,dataTest:"btnMetricsChange",onClick:l,mode:"primary",size:"small",children:"Apply and Close"})]})]})]})};bl.defaultProps={children:null,defaultText:"Please select...",disabled:!1,focusedOption:null,handleRef:null,haveSelectedValues:!1,onLabelClicked:null,onOptionSelected:null,onSelectChanged:null,open:!1,selectedOption:null,title:null,width:160,placeholderText:null};var fl=bl;a(512);const gl=e=>{const{children:t,defaultText:a,disabled:s,haveSelectedValues:r,onApplyAndClose:o,onCancel:l,onChanged:c,onClosed:d,onOpened:p,showCancelApplyBtns:u,width:m,placeholderText:_}=e,h=Object(i.useCallback)((e=>{const t=b(e);if(t){const{id:e,primaryText:a,value:i}=t.props;return{id:e,label:a,value:i}}return{id:null,label:null,value:null}}),[]),b=e=>{const t=n.a.Children.toArray(e.children);return t.length?"section"===t[0].type?Object(ll.flow)(Object(ll.map)((e=>e.props.children)),ll.flatten,Object(ll.find)((e=>e.props.selected)))(t):Object(ll.find)((e=>e.props.selected))(t):null},f=dl(e),[g,y]=Object(i.useState)(null),[j,v]=Object(i.useState)(!1),[x,O]=Object(i.useState)(h(e)),[w,k]=Object(i.useState)(!1),[N,T]=Object(i.useState)(null),M=Object(i.useRef)(),S=Object(i.useRef)({open:w,selectedOption:x}),z=Object(i.useRef)(N),E=Object(i.useRef)(!1);Object(i.useEffect)((()=>{E.current?f&&(t=>{const a=[e,t].map((e=>n.a.Children.toArray(e.children)));return!Object(ll.isEqual)(...a)})(f)&&O(h(f)):E.current=!0}),[h,f,e]),Object(i.useEffect)((()=>{!0===j&&("function"===typeof p&&w?p():"function"!==typeof d||w||d(),v(!1))}),[j,p,d,w]),Object(i.useEffect)((()=>{z.current!==N&&(w||S.current.handleOptionSelectedRef===x||"function"===typeof c&&c(N),w||"function"!==typeof d||d())}),[N,z]),Object(i.useEffect)((()=>()=>cl.removeBodyListeners()),[]),Object(i.useEffect)((()=>{const e=null!==g?".menu-option--focused":".dropdown__label";M.current.querySelector(e).focus()}),[g]),Object(i.useEffect)((()=>(w&&document.addEventListener("click",C),()=>document.removeEventListener("click",C))),[w]);const C=e=>{M.current&&!M.current.contains(e.target)&&w&&A()},P=()=>{M.current.querySelector(".dropdown__label").focus(),y(null)},A=()=>{k(!1),cl.removeBodyListeners()};return Object(Di.jsx)(fl,{defaultText:a,disabled:s,focusedOption:g,handleRef:e=>{M.current=e},haveSelectedValues:r,placeholderText:_,onApplyAndClose:()=>{k(!1),o()},onCancel:()=>{k(!1),l()},onLabelClicked:()=>{w?cl.removeBodyListeners():cl.addBodyListener(C),k(!w),v(!0),P()},onOptionSelected:e=>{const{label:t,id:a,value:i}=e;T(e);if(i!==x.value){const e={label:t,value:i,id:a};k(!1),O(e)}else k(!1);P()},onSelectChanged:t=>{let a=g;const i=(()=>{const t=(e,a)=>a.props.primaryText?e.concat(a):"section"===a.type?e.concat(a.props.children.reduce(t,[])):e;return n.a.Children.toArray(e.children).reduce(t,[])})().length;null===g?a=t>0?0:i-1:a+=t,(a>=i||a<0)&&(a=null),y(a)},open:w,selectedOption:x,showCancelApplyBtns:u,width:m,children:t})};gl.defaultProps={children:null,defaultText:"Please select...",disabled:!1,haveSelectedValues:!1,onChanged:null,onClosed:null,onOpened:null,width:160,placeholderText:null};var yl=gl;a(513);const jl=e=>{let{className:t,focused:a,id:i,onSelected:n,primaryText:s,selected:r,value:o}=e;const l=xi()("kedro","menu-option",t,{"menu-option--focused":a,"menu-option--selected":r}),c=e=>n({event:e,id:i,label:s,value:o});return Object(Di.jsx)("div",{"aria-selected":r.toString(),className:l,onClick:c,onKeyDown:e=>ul(e.keyCode)("enter, space",(()=>{c(e),e.preventDefault()})),role:"option",tabIndex:"-1",children:Object(Di.jsx)("div",{className:"menu-option__content",title:s,children:Object(Di.jsx)("span",{children:s})})})};jl.defaultProps={className:null,focused:!1,id:null,onSelected:null,selected:!1,value:null};var vl=jl;a(514);var xl=Object(r.b)((e=>({asyncDataSource:"json"===e.dataSource,pipeline:e.pipeline,isPrettyName:e.isPrettyName})),(e=>({onUpdateActivePipeline:t=>{e(wt(t.value)),e(I(null))}})))((e=>{let{asyncDataSource:t,onUpdateActivePipeline:a,pipeline:i,isPrettyName:n,onToggleOpen:s}=e;const{toSelectedPipeline:r}=cs();return i.ids.length||t?Object(Di.jsx)("div",{className:"pipeline-list",children:Object(Di.jsx)(yl,{disabled:!i.ids.length,onOpened:()=>s(!0),onClosed:()=>s(!1),width:null,onChanged:e=>{a(e),r(e.value)},defaultText:n?i.name[i.active]:i.active||"Default",children:i.ids.map((e=>Object(Di.jsx)(vl,{className:xi()({"pipeline-list__option--active":i.active===e}),value:e,primaryText:n?i.name[e]:e},"pipeline-".concat(e))))})}):null}));a(515);var Ol=e=>{let{defaultChecked:t=!1,onChange:a}=e;const[n,s]=Object(i.useState)(t);Object(i.useEffect)((()=>{s(t)}),[t]);return Object(Di.jsxs)("div",{className:"switch",onClick:()=>{s(!n),a&&a()},children:[Object(Di.jsx)("span",{className:"switch__label",children:n?"On":"Off"}),Object(Di.jsxs)("div",{className:"switch__root",children:[Object(Di.jsxs)("div",{className:xi()("switch__base",{"switch__base--active":n}),children:[Object(Di.jsx)("input",{className:"switch__input",defaultChecked:n,type:"checkbox"}),Object(Di.jsx)("div",{className:"switch__circle"})]}),Object(Di.jsx)("div",{className:"switch__track"})]})]})};a(516);var wl=e=>{let{children:t,className:a=null,heading:n="",headingClassName:s=null,headingDetail:r=null,isCollapsed:o=!1,isHyperlink:l=!1,layout:c="right",linkTitle:d=null,onCallback:p,size:u="small"}=e;const[m,_]=Object(i.useState)(o),[h,b]=Object(i.useState)(null),{pathname:f,search:g}=Object(ji.h)();Object(i.useEffect)((()=>{_(o)}),[o]),Object(i.useEffect)((()=>{if(n.length>0){const e=Object(ji.e)(Ke.flowchart.selectedName,{pipelineId:"__default__",fullName:n});b(e)}}),[n]);const y=()=>{_(!m),p&&p()};return Object(Di.jsxs)("div",{className:xi()("accordion",{"accordion--left":"left"===c,["".concat(a)]:a}),children:[Object(Di.jsxs)("div",{className:xi()("accordion__heading",{["".concat(s)]:s}),children:["left"===c&&Object(Di.jsx)("button",{"aria-label":"".concat(m?"Show":"Hide"," ").concat(n.toLowerCase()),onClick:y,className:xi()("accordion__toggle",{"accordion__toggle--alt":m})}),Object(Di.jsxs)("div",{className:xi()("accordion__title",{"accordion__title--medium":"medium"===u,"accordion__title--large":"large"===u}),children:[l?Object(Di.jsx)("a",{className:"accordion__title--hyperlink",href:h,onClick:()=>{pt(ve,{fromURL:f+g,showGoBackBtn:!0})},title:d,children:n}):n,r&&Object(Di.jsx)("span",{className:"accordion__title__detail",children:r})]}),"right"===c&&Object(Di.jsx)("button",{"aria-label":"".concat(m?"Show":"Hide"," ").concat(n.toLowerCase()),onClick:y,className:xi()("accordion__toggle",{"accordion__toggle--alt":m})})]}),Object(Di.jsx)("div",{className:m?"accordion__content--hide":null,children:t})]})},kl=a(226),Nl=a.n(kl),Tl=a(227),Ml=a.n(Tl);const Sl=Nl.a.extend(Ml.a),zl=e=>e.replace(".",":").replace(".",":"),El=e=>Sl(zl(e)).fromNow(),Cl=Object(i.createContext)(null),Pl=e=>{let{children:t}=e;const[a,n]=Object(i.useState)(null);return Object(Di.jsx)(Cl.Provider,{value:{hoveredElementId:a,setHoveredElementId:n},children:t})};a(517);var Al=Object(r.b)((e=>({runsMetadata:e.runsMetadata})),(e=>({onToggleBookmark:(t,a)=>{e(U(t,a))}})))((e=>{let{data:t,disableRunSelection:a=!1,enableComparisonView:n=!1,onRunSelection:s,selectedRunIds:r=[],searchValue:o,selectedIndex:l,runsMetadata:c,onToggleBookmark:d}=e;const{id:p,gitSha:u}=t,{notes:m="",title:_=p,bookmark:h=!1}=c[p]||{},[b,f]=Object(i.useState)(!1),g=El(p),{setHoveredElementId:y,hoveredElementId:j}=Object(i.useContext)(Cl),v=e=>!!o&&ca(e,o),x=e=>v(e)?oa(e,o):e,O=v(m);return Object(i.useEffect)((()=>{f(r.includes(p))}),[p,r]),Object(Di.jsxs)("div",{className:xi()("kedro","runs-list-card",{"runs-list-card--active":b,"runs-list-card--disabled":a&&!b,"runs-list-card--hovered":j===p}),onClick:e=>((e,t)=>{t.target.classList.contains("runs-list-card__bookmark")||"path"===t.target.tagName?d(!h,e):s(e)})(p,e),onMouseOver:()=>y(p),onMouseLeave:()=>y(null),children:[n&&Object(Di.jsx)("div",{className:xi()("runs-list-card__checked",{"runs-list-card__checked--active":b,"runs-list-card__checked--comparing":n,"runs-list-card__checked--selected-first":0===l,"runs-list-card__checked--selected-second":1===l,"runs-list-card__checked--selected-third":2===l})}),Object(Di.jsxs)("div",{children:[Object(Di.jsx)("div",{className:"runs-list-card__title",dangerouslySetInnerHTML:{__html:x(_)}}),Object(Di.jsx)("div",{className:"runs-list-card__gitsha",dangerouslySetInnerHTML:{__html:x(u)}}),Object(Di.jsx)("div",{className:"runs-list-card__timestamp",children:g}),O&&Object(Di.jsx)("div",{className:"runs-list-card__notes",dangerouslySetInnerHTML:{__html:"Notes:  <em>".concat(x(m),"</em>")}})]}),h?Object(Di.jsx)(pr,{className:"runs-list-card__bookmark runs-list-card__bookmark--solid"}):Object(Di.jsx)(mr,{className:"runs-list-card__bookmark runs-list-card__bookmark--stroke"})]})}));a(518);var Ll=Object(r.b)((e=>({runsMetadata:e.runsMetadata})))((e=>{let{disableRunSelection:t,enableComparisonView:a,isDisplayingMetrics:n,onRunSelection:s,onToggleComparisonView:r,runData:o,selectedRunIds:l,runsMetadata:c}=e;const[d,p]=Object(i.useState)(""),u=((e,t,a)=>null===e||void 0===e?void 0:e.filter((e=>{var i,n;return ca((null===(i=a[e.id])||void 0===i?void 0:i.title)||e.id,t)||ca((null===(n=a[e.id])||void 0===n?void 0:n.notes)||"",t)||ca(e.gitSha,t)})))(n?o.slice(0,50):o,d,c),m=u.filter((e=>c[e.id]&&!0===c[e.id].bookmark)),_=u.filter((e=>!c[e.id]||!c[e.id].bookmark));return Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsxs)("div",{className:"runs-list-top-wrapper",children:[Object(Di.jsx)("div",{className:"search-bar-wrapper",children:Object(Di.jsx)($r,{onUpdateSearchValue:qr()(p,250),searchValue:d})}),Object(Di.jsxs)("div",{className:"compare-switch-wrapper",children:[Object(Di.jsx)("span",{className:"compare-switch-wrapper__text",children:"Compare runs (max. 3)"}),Object(Di.jsx)(Ol,{defaultChecked:a,onChange:r})]})]}),m.length>0?Object(Di.jsx)(wl,{heading:"Bookmarked",headingClassName:"runs-list__accordion-header",headingDetail:m.length,children:Object(Di.jsx)("div",{className:"runs-list__wrapper",children:m.map((e=>Object(Di.jsx)(Al,{data:e,disableRunSelection:t,enableComparisonView:a,onRunSelection:s,selectedRunIds:l,searchValue:d,selectedIndex:l.indexOf(e.id)},e.id)))})}):null,_.length>0?Object(Di.jsx)(wl,{heading:"".concat(0===m.length?"All":"Unbookmarked"),headingClassName:"runs-list__accordion-header",headingDetail:_.length,children:Object(Di.jsx)("div",{className:"runs-list__wrapper",children:_.map((e=>Object(Di.jsx)(Al,{data:e,disableRunSelection:t,enableComparisonView:a,onRunSelection:s,selectedRunIds:l,searchValue:d,selectedIndex:l.indexOf(e.id)},e.id)))})}):null]})}));a(519);var Dl=Object(r.b)((e=>({displayGlobalToolbar:e.display.globalToolbar,displaySidebar:e.display.sidebar,visible:e.visible.sidebar})))((e=>{let{disableRunSelection:t,displayGlobalToolbar:a,displaySidebar:n,enableComparisonView:s,enableShowChanges:r,isDisplayingMetrics:o=!1,isExperimentView:l=!1,onRunSelection:c,onToggleComparisonView:d,runMetadata:p,runsListData:u,runTrackingData:m,selectedRunData:_,selectedRunIds:h,setEnableShowChanges:b,setSidebarVisible:f,showRunDetailsModal:g,sidebarVisible:y,visible:j,setShowRunExportModal:v}=e;const[x,O]=Object(i.useState)(!1);return l?Object(Di.jsx)(Di.Fragment,{children:Object(Di.jsxs)("div",{className:xi()("pipeline-sidebar",{"pipeline-sidebar--visible":y}),children:[Object(Di.jsx)("div",{className:"pipeline-ui pipeline-ui--experiment-tracking",children:Object(Di.jsx)(Ll,{disableRunSelection:t,enableComparisonView:s,isDisplayingMetrics:o,onRunSelection:c,onToggleComparisonView:d,runData:u,selectedRunIds:h})}),Object(Di.jsx)("nav",{className:"pipeline-toolbar",children:Object(Di.jsx)(xr,{displaySidebar:n,enableComparisonView:s,enableShowChanges:r,runMetadata:p,runTrackingData:m,selectedRunData:_,setEnableShowChanges:b,setSidebarVisible:f,showChangesIconDisabled:!(h.length>1),showRunDetailsModal:g,sidebarVisible:y,setShowRunExportModal:v})})]})}):Object(Di.jsx)(Di.Fragment,{children:Object(Di.jsxs)("div",{className:xi()("pipeline-sidebar",{"pipeline-sidebar--visible":j,"pipeline-sidebar--no-global-toolbar":!a}),children:[Object(Di.jsxs)("div",{className:"pipeline-ui",children:[Object(Di.jsx)(xl,{onToggleOpen:O}),Object(Di.jsx)(ol,{faded:x})]}),Object(Di.jsxs)("nav",{className:"pipeline-toolbar",children:[Object(Di.jsx)(kr,{}),Object(Di.jsx)(Hr,{})]}),Object(Di.jsx)(Lr,{})]})})}));a(520);var Rl=e=>{let{children:t}=e;const a=Object(i.useCallback)((()=>t/60),[t]),n=Object(i.useCallback)((()=>{const e="".concat((283*a()).toFixed(0)," 283");document.getElementById("base-timer-path-remaining").setAttribute("stroke-dasharray",e)}),[a]),s=Object(i.useCallback)((()=>{const e=setInterval((()=>{n()}),1e3);return()=>clearInterval(e)}),[n]);return Object(i.useEffect)((()=>s()),[s]),Object(Di.jsxs)("div",{className:"base-timer",children:[Object(Di.jsx)("svg",{className:"base-timer__svg",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:Object(Di.jsxs)("g",{className:"base-timer__circle",children:[Object(Di.jsx)("circle",{className:"base-timer__path-elapsed",cx:"50",cy:"50",r:"45"}),Object(Di.jsx)("path",{id:"base-timer-path-remaining",strokeDasharray:"283",className:"base-timer__path-remaining",d:" M 50, 50 m -45, 0 a 45,45 0 1,0 90,0 a 45,45 0 1,0 -90,0 "})]})}),Object(Di.jsx)("span",{id:"base-timer-label",className:"base-timer__label",children:t})]})};const Vl=(e,t)=>({matchedFlowchartMainPage:Object(ji.f)(e+t,{exact:!0,path:[Ke.flowchart.main]}),matchedSelectedPipeline:Object(ji.f)(e+t,{exact:!0,path:[Ke.flowchart.selectedPipeline]}),matchedSelectedNodeId:Object(ji.f)(e+t,{exact:!0,path:[Ke.flowchart.selectedNode]}),matchedSelectedNodeName:Object(ji.f)(e+t,{exact:!0,path:[Ke.flowchart.selectedName]}),matchedFocusedNode:Object(ji.f)(e+t,{exact:!0,path:[Ke.flowchart.focusedNode]}),matchedExperimentTrackingMainPage:Object(ji.f)(e+t,{exact:!0,path:[Ke.experimentTracking.main]}),matchedSelectedView:Object(ji.f)(e+t,{exact:!0,path:[Ke.experimentTracking.selectedView]}),matchedSelectedRuns:Object(ji.f)(e+t,{exact:!0,path:[Ke.experimentTracking.selectedRuns]})});a(521);var Il=Object(r.b)((e=>({fullNodeNames:Ba(e),graph:e.graph,loading:gn(e),metadataVisible:pi(e),modularPipelinesTree:ai(e),nodes:e.node.modularPipelines,pipelines:e.pipeline.ids,sidebarVisible:e.visible.sidebar})),(e=>({onToggleFocusMode:t=>{e(I(t))},onToggleNodeSelected:t=>{e(Pt(t))},onToggleModularPipelineActive:(t,a)=>{e(Ft(t,a))},onToggleModularPipelineExpanded:t=>{e(Xt(t))},onUpdateActivePipeline:t=>{e(wt(t))}})))((e=>{let{fullNodeNames:t,graph:a,loading:n,metadataVisible:s,modularPipelinesTree:r,nodes:o,onToggleFocusMode:l,onToggleModularPipelineActive:c,onToggleModularPipelineExpanded:d,onToggleNodeSelected:p,onUpdateActivePipeline:u,pipelines:m,sidebarVisible:_}=e;const h=Object(ji.g)(),{pathname:b,search:f}=Object(ji.h)(),g=new URLSearchParams(f),[y,j]=Object(i.useState)({}),[v,x]=Object(i.useState)(!1),[O,w]=Object(i.useState)(!1),[k,N]=Object(i.useState)(60),[T,M]=Object(i.useState)(!1),S=Object(i.useRef)(null),{matchedFlowchartMainPage:z,matchedSelectedPipeline:E,matchedSelectedNodeId:C,matchedSelectedNodeName:P,matchedFocusedNode:A}=Vl(b,f),L=()=>{j({}),x(!1)},D=()=>{const e=g.get(Ue);m.find((t=>t===e))||(j(Ye),x(!0))},R=()=>{const e=g.get(Be)||g.get(He),i=(n=t,s=e,Object.keys(n).find((e=>n[e]===s))||Object.keys(o).find((t=>t===e)));var n,s;if(i){const e=o[i],t=(null===e||void 0===e?void 0:e.length)>0,n=a.nodes&&a.nodes.find((e=>e.id===i&&"parameters"===e.type));t&&!n&&d(e),p(i),v&&L()}else j(Xe),x(!0);D()},V=Object(i.useCallback)((()=>{w((e=>!e))}),[]);Object(i.useEffect)((()=>(window.addEventListener("popstate",V),()=>{window.removeEventListener("popstate",V)})),[V]),Object(i.useEffect)((()=>{M(dt(ve))}),[]),Object(i.useEffect)((()=>{const e=0===Object.keys(a).length;null!==S.current&&!O&&!v||e||(z&&(p(null),l(null),L()),E&&(()=>{const e=g.get(Ue),t=m.find((t=>t===e));t?(u(t),p(null),l(null)):(j(Ye),x(!0))})(),(P||C)&&R(),A&&(()=>{const e=g.get(Ie),t=r[e];t?(c(e,!0),l(t.data),v&&L()):(j(We),x(!0)),D()})(),S.current=a,w(!1))}),[a,O,v]);const I=Object(i.useCallback)((()=>{pt(ve,we),M(we)}),[]);Object(i.useEffect)((()=>{if(null!==T&&void 0!==T&&T.showGoBackBtn){const e=k>0&&setInterval((()=>N(k-1)),1e3);return 0===k&&I(),()=>clearInterval(e)}}),[k,null===T||void 0===T?void 0:T.showGoBackBtn,I]);const B=()=>{const e=T.fromURL;h.push(e),I()};return v?Object(Di.jsxs)("div",{className:"kedro-pipeline",children:[Object(Di.jsx)(Dl,{}),Object(Di.jsx)(sr,{}),Object(Di.jsx)(_s,{errorMessage:y,invalidUrl:v,onResetClick:()=>x(!1)})]}):Object(Di.jsxs)("div",{className:"kedro-pipeline",children:[Object(Di.jsx)(Dl,{}),Object(Di.jsx)(sr,{}),Object(Di.jsxs)("div",{className:"pipeline-wrapper",children:[Object(Di.jsx)(_s,{}),Object(Di.jsx)(us,{}),Object(Di.jsx)("div",{className:xi()("pipeline-wrapper__go-back-btn",{"pipeline-wrapper__go-back-btn--show":null===T||void 0===T?void 0:T.showGoBackBtn,"pipeline-wrapper__go-back-btn--show-sidebar-visible":_,"pipeline-wrapper__go-back-btn--show-metadata-visible":s}),children:Object(Di.jsxs)(Xi,{onClick:B,children:[Object(Di.jsx)(Rl,{children:k}),"Return to Experiment Tracking"]})}),Object(Di.jsx)("div",{className:xi()("pipeline-wrapper__loading",{"pipeline-wrapper__loading--sidebar-visible":_}),children:Object(Di.jsx)(bs,{visible:n})}),me()?null:Object(Di.jsx)(cr,{})]}),Object(Di.jsx)(xn,{}),Object(Di.jsx)(lr,{})]})}));const Bl=Object(i.createContext)(null),Hl=e=>{let{children:t}=e;const[a,n]=Object(i.useState)(!1),[s,r]=Object(i.useState)(!1),[o,l]=Object(i.useState)(!0);return Object(Di.jsx)(Bl.Provider,{value:{handleClick:()=>{r(!0);const e=setTimeout((()=>{n(!0)}),500),t=setTimeout((()=>{r(!1)}),1500),a=setTimeout((()=>{n(!1),l(!0)}),2e3);return()=>{clearTimeout(e),clearTimeout(t),clearTimeout(a)}},hasNotInteracted:o,isSuccessful:a,setHasNotInteracted:e=>l(e),setIsSuccessful:e=>n(e),showModal:s},children:t})};var Ul=a(72);a(195);const ql=e=>{let{y:t}=e;return Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)("rect",{width:"10",height:"10",x:"0",y:t+3}),Object(Di.jsx)("rect",{width:"100",height:"20",x:"30",y:t})]})},Gl=e=>{let{y:t}=e;return Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)("rect",{width:"10",height:"10",x:"0",y:t+3}),Object(Di.jsx)("rect",{width:"180",height:"20",x:"30",y:t}),Object(Di.jsx)("rect",{width:"50",height:"16",x:"0",y:t+38}),Object(Di.jsx)("rect",{width:"100",height:"16",x:"0",y:t+76})]})},Fl=e=>{let{x:t,y:a}=e;return Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)("rect",{width:"0",height:"0",x:t,y:a}),Object(Di.jsx)("rect",{width:"50",height:"16",x:t,y:a+38}),Object(Di.jsx)("rect",{width:"180",height:"16",x:t,y:a+76})]})},Zl=e=>{let{theme:t}=e;return Object(Di.jsx)("div",{className:"details-dataset",children:Object(Di.jsxs)(Ul.a,{viewBox:"0 0 1000 625",width:"1000px",height:"100%",backgroundColor:"dark"===t?ze:Me,foregroundColor:"dark"===t?Ee:Se,children:[Object(Di.jsx)(ql,{y:0}),Object(Di.jsx)(Gl,{y:50}),Object(Di.jsx)(Fl,{x:380,y:50}),Object(Di.jsx)(Gl,{y:185}),Object(Di.jsx)(Fl,{x:380,y:185}),Object(Di.jsx)(Gl,{y:320}),Object(Di.jsx)(Fl,{x:380,y:320})]})})},Jl=e=>{let{x:t,y:a,length:i,theme:n}=e;return Object(Di.jsx)(Ul.a,{viewBox:"0 10 200 30",width:"180px",height:"100%",backgroundColor:"dark"===n?ze:Me,foregroundColor:"dark"===n?Ee:Se,children:Object(Di.jsx)("rect",{width:"150",height:"16",x:t,y:a+2*i})})};a(196);const Kl=()=>Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)("rect",{width:"180",height:"20",x:"0",y:"12"}),Object(Di.jsx)("rect",{width:"88",height:"16",x:"0",y:50}),Object(Di.jsx)("rect",{width:"88",height:"16",x:"0",y:88}),Object(Di.jsx)("rect",{width:"88",height:"16",x:"0",y:126}),Object(Di.jsx)("rect",{width:"88",height:"16",x:"0",y:164}),Object(Di.jsx)("rect",{width:"88",height:"16",x:"0",y:202}),Object(Di.jsx)("rect",{width:"88",height:"16",x:"0",y:240})]}),Xl=e=>{let{x:t}=e;return Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)("rect",{width:"0",height:"0",x:t,y:"12"}),Object(Di.jsx)("rect",{width:"30",height:"16",x:t,y:50}),Object(Di.jsx)("rect",{width:"180",height:"16",x:t,y:88}),Object(Di.jsx)("rect",{width:"88",height:"16",x:t,y:126}),Object(Di.jsx)("rect",{width:"50",height:"16",x:t,y:164}),Object(Di.jsx)("rect",{width:"100",height:"16",x:t,y:202}),Object(Di.jsx)("rect",{width:"150",height:"16",x:t,y:240})]})},Wl=e=>{let{theme:t}=e;return Object(Di.jsx)("div",{className:"details-metadata",children:Object(Di.jsxs)(Ul.a,{viewBox:"0 0 1000 300",width:"1000px",height:"100%",backgroundColor:"dark"===t?ze:Me,foregroundColor:"dark"===t?Ee:Se,children:[Object(Di.jsx)(Kl,{}),Object(Di.jsx)(Xl,{x:380})]})})},Yl=e=>{let{length:t,theme:a}=e;const i=t>1?75:0;return Object(Di.jsx)("tbody",{className:"details-metadata__run-lazy-loader",children:Object(Di.jsx)("tr",{children:Object(Di.jsx)("td",{children:Object(Di.jsx)(Ul.a,{viewBox:"0 0 200 300",width:"200px",height:"100%",backgroundColor:"dark"===a?ze:Me,foregroundColor:"dark"===a?Ee:Se,children:Object(Di.jsx)(Xl,{x:i})})})})})};a(522);const Ql={content:{label1:"",value1:"",label2:"",value2:""},direction:"right",position:{x:-500,y:-500},visible:!1},$l=e=>{let{content:t=Ql.content,direction:a=Ql.direction,position:i=Ql.position,visible:n=Ql.visible}=e;return Object(Di.jsxs)("div",{className:xi()("tooltip",{"tooltip--show":n}),style:{transform:"translate(".concat(i.x,"px, ").concat(i.y,"px)")},children:[Object(Di.jsx)("span",{className:xi()("tooltip-arrow","tooltip-arrow--".concat(a))}),Object(Di.jsx)("h3",{className:"tooltip-label",children:"".concat(null===t||void 0===t?void 0:t.label1,":")}),Object(Di.jsx)("h4",{className:"tooltip-value",children:null===t||void 0===t?void 0:t.value1}),Object(Di.jsx)("br",{}),Object(Di.jsx)("h3",{className:"tooltip-label",children:"".concat(null===t||void 0===t?void 0:t.label2,":")}),Object(Di.jsx)("h4",{className:"tooltip-value",children:null===t||void 0===t?void 0:t.value2})]})},ec=(e,t)=>{const a=t?0:Ne.pipelineUI,i=e.clientY-150;let n,s;return window.innerWidth-e.clientX>300?(n=e.clientX-Ne.open-70,s="right"):(n=e.clientX-Ne.open-Ne.open/2-85,s="left"),n+=a,{x:n,y:i,direction:s}};var tc=a(12);a(523);const ac=(e,t)=>e.filter((e=>{let[a,i]=e;return t.includes(a)})).sort(((e,a)=>t.indexOf(e[0])-t.indexOf(a[0]))).map(((e,t)=>{let[a,i]=e;return[new Date(zl(a)),i]})),ic=.02,nc=150,sc=20,rc=10,oc=80,lc=35,cc={},dc=e=>{let{chartWidth:t,metricsData:a,selectedRuns:s,sidebarVisible:r}=e;const o=dl(s),[l,c]=Object(i.useState)(Ql),[d,p]=Object(i.useState)(void 0),{hoveredElementId:u,setHoveredElementId:m}=Object(i.useContext)(Cl),_=isNaN(t)?100:t,h=[45,0,0],b=[tc.n,tc.m,tc.o],f=u&&new Date(zl(u)),g=u&&a.runs[u],y=Object.keys(a.metrics),j=Object.entries(a.metrics),v=Object.keys(a.runs),x=Object.entries(a.runs),O=x.map((e=>{let[t,a]=e;return[new Date(zl(t)),a]})),w=O.map((e=>{let[t,a]=e;return t})),k=parseInt((tc.e(w)-tc.f(w))/864e5,10),N=new Date(tc.f(w));N.setDate(N.getDate()-k*ic);const T=new Date(tc.e(w));T.setDate(T.getDate()+k*ic);const M=x.filter((e=>{let[t,a]=e;return s.includes(t)})).map(((e,t)=>{let[a,i]=e;return[new Date(zl(a)),i]}));j.map(((e,t)=>{let[a,i]=e;return cc[t]=tc.g().domain([Math.min(...i)-Math.min(...i)*ic,Math.max(...i)+Math.max(...i)*ic]).range([nc,0])}));const S=tc.i().domain([N,T]).range([0,_]);d&&S.domain(d);const z=()=>{m(null),c(Ql)};return Object(i.useEffect)((()=>{tc.k('line[id="'.concat(u,'"]')).raise()}),[u]),o!==s&&d&&p(void 0),Object(Di.jsxs)("div",{className:"time-series",children:[Object(Di.jsx)($l,{content:l.content,direction:l.direction,position:l.position,visible:l.visible}),y.map(((e,t)=>{const i=Object.values(a.metrics)[t],o=e=>{tc.j(e).call(tc.b(cc[t]).tickSizeOuter(0).tickFormat((e=>"".concat(e.toFixed(2)))))},l=tc.d().defined((function(e){return null!==e})),y=tc.c().extent([[0,0],[_,nc]]).on("end",(e=>{if(e.selection){const t=e.selection.map(S.invert);p(t),tc.k(".time-series__brush").call(y.move,null)}}));tc.k(".time-series__brush").call(y);return Object(Di.jsxs)(n.a.Fragment,{children:[Object(Di.jsx)("div",{className:"time-series__metric-name",children:e}),Object(Di.jsxs)("svg",{preserveAspectRatio:"xMinYMin meet",width:_+lc+rc,height:nc+sc+oc,children:[Object(Di.jsx)("defs",{children:Object(Di.jsx)("clipPath",{id:"clip",children:Object(Di.jsx)("rect",{x:0,y:0,width:_,height:nc})})}),Object(Di.jsx)("defs",{children:Object(Di.jsx)("clipPath",{id:"brush_clip",children:Object(Di.jsx)("rect",{height:149,width:_,x:0,y:.5})})}),Object(Di.jsxs)("g",{id:e,transform:"translate(".concat(lc,",").concat(sc,")"),children:[Object(Di.jsx)("g",{className:"time-series__runs-axis",ref:e=>{d?tc.j(e).transition().duration(1e3).call(tc.a(S).tickSizeOuter(0)):tc.j(e).call(tc.a(S).tickSizeOuter(0))},transform:"translate(0,".concat(nc,")")}),Object(Di.jsx)("g",{className:"time-series__metric-axis",ref:o}),Object(Di.jsx)("g",{className:"time-series__metric-axis-dual",ref:o,transform:"translate(".concat(_,",0)")}),Object(Di.jsx)("text",{className:"time-series__axis-label",x:-85,y:10-lc,children:"value"}),Object(Di.jsx)("g",{className:"time-series__brush",onDoubleClick:()=>p(void 0)}),Object(Di.jsx)("g",{className:"time-series__run-lines",clipPath:"url(#brush_clip)",children:O.map(((e,t)=>{let[a,i]=e;return Object(Di.jsx)("line",{className:xi()("time-series__run-line",{"time-series__run-line--hovered":u===v[t],"time-series__run-line--blend":u||s.length>1}),id:v[t],x1:S(a),y1:0,x2:S(a),y2:nc,onMouseOver:e=>((e,t)=>{if(m(t),e){const a=new Date(zl(t)),{x:i,y:n,direction:s}=ec(e,r);c({content:{label1:"Run name",value1:t,label2:"Date",value2:a.toLocaleDateString("default",{day:"numeric",month:"long",year:"numeric"})},direction:s,position:{x:i,y:n},visible:!0})}})(e,v[t]),onMouseLeave:z},a+t)}))}),g&&Object(Di.jsxs)("g",{className:"time-series__hovered-line-group",children:[g.map(((e,a)=>t===a?Object(Di.jsxs)(n.a.Fragment,{children:[Object(Di.jsx)("line",{className:"time-series__hovered-line",x1:0,y1:cc[a](e),x2:_,y2:cc[a](e)}),Object(Di.jsxs)("g",{className:"time-series__ticks",children:[Object(Di.jsx)("line",{className:"time-series__tick-line",x1:S(f),y1:cc[a](e),x2:S(f)-5,y2:cc[a](e)}),Object(Di.jsx)("text",{className:"time-series__tick-text",x:S(f),y:cc[a](e),children:null===e||void 0===e?void 0:e.toFixed(3)})]})]},e+a):null)),";"]}),Object(Di.jsx)("g",{className:xi()("time-series__metric-line",{"time-series__metric-line--blend":u||s.length>1}),clipPath:"url(#clip)",children:Object(Di.jsx)("path",{d:(e=>{let a=e.map(((e,a)=>null!==e?[S(w[a]),cc[t](e)]:null));return l(a)})(i)})}),Object(Di.jsx)("g",{className:"time-series__selected-group",clipPath:"url(#brush_clip)",children:ac(x,s).map(((e,a)=>{var i;let[s,r]=e;return Object(Di.jsxs)(n.a.Fragment,{children:[Object(Di.jsx)("line",{className:"time-series__run-line--selected-".concat(a),x1:S(s),y1:0,x2:S(s),y2:nc}),Object(Di.jsx)("text",{className:"time-series__tick-text",x:S(s),y:cc[t](r[t]),children:null===(i=r[t])||void 0===i?void 0:i.toFixed(3)}),Object(Di.jsx)("path",{className:"time-series__marker--selected-".concat(a),d:"".concat(tc.l(b[a],20)()),transform:"translate(".concat(S(s),",").concat(cc[t](r[t]),") \n                  rotate(").concat(h[a],")")})]},s+r)}))}),Object(Di.jsx)("g",{className:"time-series__trend-line",children:Object(Di.jsx)("path",{d:(e=>{let a=e.map((e=>{let[a,i]=e;return null!==i?[S(a),cc[t](i[t])]:null}));return tc.d()(a)})(M)})})]})]},"time-series--".concat(e))]},e+t)}))]})};var pc=a(617);a(524);const uc=e=>e.filter(((e,t,a)=>a.indexOf(e)===t)).filter((e=>null!==e)).sort(((e,t)=>e-t)),mc=[45,0,0],_c={},hc={},bc=e=>{let{chartHeight:t,chartWidth:a,metricsData:s,selectedRuns:r,sidebarVisible:o}=e;const[l,c]=Object(i.useState)(null),[d,p]=Object(i.useState)(Ql),{hoveredElementId:u,setHoveredElementId:m}=Object(i.useContext)(Cl),_=[tc.n,tc.m,tc.o],h=Object.entries(s.metrics),b=Object(i.useMemo)((()=>Object.keys(s.metrics)),[s.metrics]),f=Object.entries(s.runs),g=f.filter((e=>{let[t]=e;return r.includes(t)})).sort(((e,t)=>r.indexOf(e[0])-r.indexOf(t[0]))),y=u&&s.runs[u],j=tc.h().domain(b).range([80,a-80]);h.forEach((e=>{let[a,i]=e;hc[a]=tc.g().domain([tc.f(i),tc.e(i)]).range([t-81.7,38+38/3])})),Object.entries(hc).forEach((e=>{let[t,a]=e;_c[t]=tc.b(a).ticks(0).tickSizeOuter(0)}));const v=tc.d().defined((function(e){return null!==e})),x=function(e){const t=e.map(((e,t)=>null!==e?[j(b[t]),hc[b[t]](e)]:null));return v(t)},O=()=>{c(null),p(Ql)},w=()=>{m(null),p(Ql)};return Object(i.useEffect)((()=>{tc.j('.run-line[id="'.concat(u,'"]')).raise()}),[u]),Object(i.useEffect)((()=>{tc.j('.metric-axis[id="'.concat(l,'"]')).raise(),tc.k(".selected-runs").raise(),tc.k(".selected-runs > path").raise()}),[l]),Object(Di.jsxs)("div",{className:"parallel-coordinates",children:[Object(Di.jsx)($l,{content:d.content,direction:d.direction,position:d.position,visible:d.visible}),Object(Di.jsxs)("svg",{preserveAspectRatio:"xMinYMin meet",viewBox:"0 0 ".concat(a," ").concat(t),width:"100%",children:[b.map((e=>Object(Di.jsx)("g",{className:xi()("metric-axis",{"metric-axis--hovered":l===e,"metric-axis--faded":l&&l!==e}),ref:t=>{tc.j(t).call(_c[e]).attr("id",e)},transform:"translate(".concat(j(e),", 0)"),y:19,children:Object(Di.jsx)("text",{className:"headers",onMouseOut:O,onMouseOver:t=>((e,t)=>{const a=h.find((e=>e[0]===t))[1].length,{x:i,y:n,direction:s}=ec(e,o);c(t),p({content:{label1:"Metric name",value1:t,label2:"Run count",value2:a},direction:s,position:{x:i,y:n},visible:!0})})(t,e),textAnchor:"middle",y:19,children:e.length>20?"..."+e.slice(-20):e},"metric-axis-text--".concat(e))},"metric-axis--".concat(e)))),Object(Di.jsx)("g",{className:"run-lines",children:f.map(((e,t)=>{let[a,i]=e;return Object(Di.jsx)("path",{className:xi()("run-line",{"run-line--hovered":u===a,"run-line--faded":u&&u!==a||l}),d:x(i),id:a,onMouseLeave:w,onMouseOver:e=>((e,t)=>{if(m(t),e){const a=new Date(zl(t)),{x:i,y:n,direction:s}=ec(e,o);p({content:{label1:"Run name",value1:t,label2:"Date",value2:a.toLocaleDateString("default",{day:"numeric",month:"long",year:"numeric"})},direction:s,position:{x:i,y:n},visible:!0})}})(e,a)},a)}))}),h.map(((e,t)=>{let[a,i]=e;const n=uc(i);return Object(Di.jsx)("g",{className:"tick-values",id:a,children:n.map((e=>{const i=y&&y.find(((e,a)=>a===t&&e)),n=isNaN(j(a))?0:j(a),s=isNaN(hc[a](e))?0:hc[a](e);return Object(Di.jsx)("text",{className:xi()("text",{"text--hovered":l===a||i&&i===e,"text--faded":l&&l!==a||i&&i!==e}),x:n-8,y:s+3,style:{textAnchor:"end",transform:"translate(-10,4)"},children:null===e||void 0===e?void 0:e.toFixed(3)},Object(pc.a)())}))},Object(pc.a)())})),h.map(((e,t)=>{let[a,i]=e;const n=uc(i);return Object(Di.jsx)("g",{className:"tick-lines",id:a,children:n.map((e=>{const i=y&&y.find(((e,a)=>a===t&&e)),n=isNaN(j(a))?0:j(a),s=isNaN(hc[a](e))?0:hc[a](e);return e?Object(Di.jsx)("line",{className:xi()("line",{"line--hovered":l===a||i&&i===e,"line--faded":l&&l!==a||i&&i!==e}),x1:n,x2:n-4,y1:s,y2:s},Object(pc.a)()):null}))},"tick-lines--".concat(a))})),Object(Di.jsxs)("g",{className:"selected-runs",children:[g.map(((e,t)=>{let[a,i]=e;return Object(Di.jsx)("path",{className:xi()({"run-line--selected-first":0===t,"run-line--selected-second":1===t,"run-line--selected-third":2===t}),d:x(i),id:a},a)})),g.map(((e,t)=>{let[,a]=e;return a.map(((e,a)=>{const i=j(b[a]),s=hc[b[a]](e),r=mc[t],o=isNaN(j(b[a]))?0:j(b[a]),l=isNaN(hc[b[a]](e))?0:hc[b[a]](e);return Object(Di.jsxs)(n.a.Fragment,{children:[Object(Di.jsx)("path",{className:"marker-path--selected-".concat(t),d:"".concat(tc.l(_[t],20)()),transform:"translate(".concat(i,", ").concat(s,") rotate(").concat(r,")")},"marker-path--".concat(a)),Object(Di.jsx)("text",{className:"text",x:o-8,y:l+3,style:{textAnchor:"end",transform:"translate(-10,4)"},children:null===e||void 0===e?void 0:e.toFixed(3)},"marker-text--".concat(a))]},Object(pc.a)())}))}))]})]})]})};a(525);var fc=e=>{let{title:t,subTitle:a}=e;return Object(Di.jsxs)("div",{className:"experiment-warning__wrapper",children:[Object(Di.jsx)("h2",{className:"experiment-warning__title",children:t}),Object(Di.jsx)("p",{className:"experiment-warning__subtitle",children:a})]})};a(526);const gc=e=>{let{text:t,selectedValues:a,onChange:i}=e;return Object(Di.jsxs)("label",{className:"select-dropdown__checkbox",children:[Object(Di.jsx)("span",{className:"select-dropdown__checkbox-text",title:t,children:t}),Object(Di.jsx)("input",{checked:a&&a.includes(t),id:t,onChange:()=>i(t),type:"checkbox"})]})};var yc=e=>{let{dropdownValues:t,onChange:a,selectedDropdownValues:n}=e;const[s,r]=Object(i.useState)(n),[o,l]=Object(i.useState)(!1);Object(i.useEffect)((()=>{n&&r(n)}),[n]);const c=Object(i.useCallback)((e=>{l(!0),s.includes(e)?r(s.filter((t=>t!==e))):r([...s,e])}),[s]);return Object(Di.jsx)("div",{className:"select-dropdown",children:Object(Di.jsxs)(yl,{onClosed:()=>{r(n),l(!1)},showCancelApplyBtns:!0,onApplyAndClose:()=>{a(s),l(!1)},onCancel:()=>{r(n),l(!1)},haveSelectedValues:o,defaultText:"Metrics ".concat(s?s.length:0,"/").concat(t?t.length:0),children:[Object(Di.jsx)("div",{className:"select-dropdown__title",children:"Metrics"}),t&&t.map(((e,t)=>Object(Di.jsx)(gc,{onChange:c,selectedValues:s,text:e},e+t)))]})})};a(527);const jc=["Time-series","Parallel coordinates"],vc=(e,t,a)=>{const i=(null===e||void 0===e?void 0:e.data)&&Object.keys(null===e||void 0===e?void 0:e.data.metrics),n=(null===e||void 0===e?void 0:e.data)&&(null===e||void 0===e?void 0:e.data.metrics),s=(null===e||void 0===e?void 0:e.data)&&(null===e||void 0===e?void 0:e.data.runs),r={};i.map(((e,t)=>(-1===a.indexOf(e)&&(r[e]=t),r)));return{...t,metrics:((e,t)=>{let a={...e};return t.map((e=>{const{[e]:t,...i}=a;return a={...i}})),a})(n,Object.keys(r)),runs:((e,t)=>{let a={};for(const[i,n]of Object.entries(e)){let e=[...n];e=e.filter((function(e,a){return-1===t.indexOf(a)})),a[i]=e}return a})(s,Object.values(r))}};var xc=e=>{let{selectedRunIds:t,sidebarVisible:a}=e;const[n,s]=Object(i.useState)(jc[0]),[r,o]=Object(i.useState)(0),[l,c]=Object(i.useState)(0),[d,p]=Object(i.useState)(0),[u,m]=Object(i.useState)("auto"),[_,h]=Object(i.useState)({}),[b,f]=Object(i.useState)(0),{data:{runMetricsData:g=[]}=[]}=wi(Zi,{variables:{limit:50}}),y=(null===g||void 0===g?void 0:g.data)&&Object.keys(null===g||void 0===g?void 0:g.data.metrics),j=y?y.length:0;Object(i.useEffect)((()=>{if(null!==g&&void 0!==g&&g.data){const e=dt(xe);if(Object.keys(e).length>0){f(e[0]);const t=vc(g,_,e[0]);h(t)}else{const e=Object.keys(g.data.metrics);f(e),h(g.data)}}}),[g]);return Object(i.useEffect)((()=>{j>0&&(j>5&&n===jc[1]?(m(200*j),c(200*j)):(m("auto"),c(document.querySelector(".metrics-plots-wrapper__charts").clientWidth)))}),[n,j]),Object(i.useEffect)((()=>{p(document.querySelector(".metrics-plots-wrapper__charts").clientWidth),o(document.querySelector(".metrics-plots-wrapper__charts").clientHeight)}),[]),Object(Di.jsxs)("div",{className:"metrics-plots-wrapper",children:[Object(Di.jsxs)("div",{className:"metrics-plots-wrapper__header",children:[Object(Di.jsx)("div",{className:"kedro chart-types-wrapper",children:jc.map((e=>Object(Di.jsx)("div",{className:xi()("chart-types-wrapper__tab",{"chart-types-wrapper__tab--active":n===e}),onClick:()=>s(e),children:e},e)))}),Object(Di.jsx)(yc,{dropdownValues:y,onChange:e=>{const t=vc(g,_,e);h(t),pt(xe,[e]),f(e)},selectedDropdownValues:b})]}),Object(Di.jsxs)("div",{className:"metrics-plots-wrapper__charts",style:{width:u},children:[0===b.length&&Object(Di.jsx)(fc,{title:"No data to display",subTitle:"Select a metric to view a visualisation."}),Object.keys(_).length>0?n===jc[0]?Object(Di.jsx)(dc,{chartWidth:d-100,metricsData:_,selectedRuns:t,sidebarVisible:a}):Object(Di.jsx)(bc,{chartHeight:r,chartWidth:l,metricsData:_,selectedRuns:t,sidebarVisible:a}):null]})]})};const Oc={upArrow:"m10 4.167 4.583 4.583-1.146 1.146-2.604-2.604v9.375H9.167V7.292L6.563 9.896 5.417 8.75z",downArrow:"M10 15.833 5.417 11.25l1.145-1.146 2.605 2.604V3.333h1.666v9.375l2.604-2.604 1.146 1.146z"};var wc=e=>{let{className:t,icon:a}=e;return Oc[a]?Object(Di.jsx)("svg",{className:"dataset-arrow-icon",viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:Oc[a]})}):null};const kc=e=>""===e||null===e||void 0===e?"-":"object"===typeof e||"boolean"===typeof e?JSON.stringify(e):e;var Nc=a(623);a(197);const Tc=(e,t,a)=>{if(e.runId!==a&&"number"===typeof e.value){if(e.value>t)return"upArrow";if(e.value<t)return"downArrow"}return null},Mc=(e,t,a)=>{if(e.runId!==a&&"number"===typeof e.value&&e.value!==t){const a=e.value-t,i=Math.round(a/Math.abs(t)*100);return a.toFixed(1)+" ("+i+"%)"}return null};function Sc(){return Object(Di.jsx)("div",{className:"details-dataset__empty-plot",children:"No plot available"})}var zc=e=>{let{activeTab:t,enableComparisonView:a,enableShowChanges:s,isSingleRun:r,pinnedRun:o,selectedRunIds:l,setRunDatasetToShow:c,setShowRunPlotsModal:d,showLoader:p,trackingData:u,theme:m}=e;const _=Object(i.useMemo)((()=>structuredClone(u)),[u]);return _?Object(Di.jsx)("div",{className:xi()("details-dataset",{"details-dataset--not-overview":"Overview"!==t}),children:Object.keys(_).filter((e=>"Plots"===t&&e===t||"Plots"!==t&&"Plots"!==e)).map((e=>Object(Di.jsxs)(wl,{className:xi()("details-dataset__accordion","details-dataset__accordion-wrapper",{"details-dataset__accordion-wrapper-comparison-view":a}),heading:e,headingClassName:xi()("details-dataset__accordion-header",{"details-dataset__accordion-header--hidden":"Plots"===e}),layout:"left",size:"large",children:[0===_[e].length&&Object(Di.jsxs)("div",{className:"details-dataset__row",children:[Object(Di.jsx)("span",{className:"details-dataset__name-header",style:{visibility:a?"hidden":"visible"},children:"No data to display. Try selecting a different run."}),Object(Di.jsx)(Nc.a,{component:"div",className:"details-dataset__transition-group-wrapper",children:l.map(((e,t)=>Object(Di.jsx)(Yi.a,{classNames:"details-dataset__value-animation",enter:!r,exit:!r,timeout:300,children:Object(Di.jsx)("span",{className:xi()("details-dataset__value-header",{"details-dataset__value-header--comparison-view":a&&0===t}),style:{display:a?"flex":"none"},children:"No data to display. Try selecting a different run."})},e)))})]}),_[e].map((e=>{const{data:t,datasetType:i,datasetName:l,runIds:u}=e;return Object(Di.jsx)(wl,{className:"details-dataset__accordion",heading:l,headingClassName:"details-dataset__accordion-header",isHyperlink:!0,layout:"left",linkTitle:"Show me where this dataset is located in the flowchart",size:"medium",children:Object.keys(t).sort(((e,t)=>e.localeCompare(t))).map(((t,l)=>{const _=function(e,t){if(e.length===t.length)return e;const a=[];return t.forEach((t=>{const i=e.findIndex((e=>e.runId===t));-1===i?a.push({runId:t,value:null}):a.push(e[i])})),a}(e.data[t],u),h=((e,t)=>{var a;const i=null===(a=e.filter((e=>e.runId===t))[0])||void 0===a?void 0:a.value;return"number"===typeof i?e.map((e=>({pinIcon:Tc(e,i,t),pinDelta:Mc(e,i,t),...e}))):e})(_,o);return function(e,t,a,i,s,r,o,l,c,d,p){const u="plotly"===Ta(a),m="image"===Ta(a),_="JSONTracking"===Ta(a),h="metricsTracking"===Ta(a),b=_||h,f=()=>{c(!0),l({datasetKey:e,datasetType:a,datasetValues:t})};return Object(Di.jsxs)(n.a.Fragment,{children:[0===i?Object(Di.jsxs)("div",{className:"details-dataset__row",children:[Object(Di.jsx)("span",{className:"details-dataset__name-header",children:"Name"}),Object(Di.jsx)(Nc.a,{component:"div",className:"details-dataset__transition-group-wrapper",children:t.map(((e,t)=>Object(Di.jsx)(Yi.a,{timeout:300,classNames:"details-dataset__value-animation",enter:!s,exit:!s,children:Object(Di.jsx)("span",{className:xi()("details-dataset__value-header",{"details-dataset__value-header--comparison-view":0===t&&r}),children:"Value"})},e.runId)))}),d&&Object(Di.jsx)(Jl,{length:t.length,theme:p,x:0,y:12})]}):null,Object(Di.jsxs)("div",{className:"details-dataset__row",children:[Object(Di.jsx)("span",{className:"details-dataset__label",children:e}),Object(Di.jsx)(Nc.a,{component:"div",className:"details-dataset__transition-group-wrapper",children:t.map(((e,a)=>{const i=1===t.length,n=e.value&&"object"===typeof e.value;return Object(Di.jsx)(Yi.a,{timeout:300,classNames:"details-dataset__value-animation",enter:!i,exit:!i,children:Object(Di.jsxs)("span",{className:xi()("details-dataset__value",{"details-dataset__value--comparison-view":0===a&&r}),children:[b&&!n&&Object(Di.jsxs)(Di.Fragment,{children:[kc(e.value),o&&Object(Di.jsx)(wc,{icon:e.pinIcon}),o&&Object(Di.jsx)("span",{className:"details-dataset__deltaValue",children:e.pinDelta})]}),_&&n&&Object(Di.jsx)(Zs,{value:e.value,theme:p,empty:"-",kind:"text"}),u&&(e.value?Object(Di.jsx)("div",{className:"details-dataset__visualization-wrapper",onClick:f,children:Object(Di.jsx)(Is,{data:e.value.data,layout:e.value.layout,view:"experiment_preview"})}):Sc()),m&&(e.value?Object(Di.jsx)("div",{className:"details-dataset__image-container",onClick:f,children:Object(Di.jsx)("img",{alt:"Matplotlib rendering",className:"details-dataset__image",src:"data:image/png;base64,".concat(e.value)})}):Sc())]})},e.runId)}))}),d&&Object(Di.jsx)(Jl,{length:t.length,theme:p,x:0,y:12})]})]},e+i)}(t,h,i,l,r,a,s,c,d,p,m)}))},l)}))]},e)))}):null};a(528);var Ec=e=>{let{characterLimit:t=!1,defaultValue:a="",onChange:n,placeholder:s,resetValueTrigger:r,size:o="large",dataTest:l,type:c}=e;const d=t>0,p=Object(i.useRef)(null),[u,m]=Object(i.useState)(a);Object(i.useEffect)((()=>{m(a)}),[a]),Object(i.useEffect)((()=>{m(a)}),[a,r]),Object(i.useLayoutEffect)((()=>{p.current.style.height="inherit",p.current.style.height="".concat(Math.max(p.current.scrollHeight,20),"px")}),[u]);const _=e=>{const a=e.target.value;d?(m(a.slice(0,t)),n&&n(a.slice(0,t))):(m(a.slice(0)),n&&n(a.slice(0)))},h="textarea"===c?Object(Di.jsx)("textarea",{className:"input input--".concat(o),onChange:_,placeholder:s,ref:p,rows:1,value:u,"data-test":l}):Object(Di.jsx)("input",{type:c,className:"input input--".concat(o),onChange:_,placeholder:s,ref:p,value:u,"data-test":l});return Object(Di.jsxs)(Di.Fragment,{children:[h,d?Object(Di.jsx)("div",{className:"input-character-count",children:Object(Di.jsxs)("span",{children:[Object(Di.jsx)("span",{className:"input-number-characters",children:u.length}),"/",t," characters"]})}):null]})};a(198),a(529);var Cc=Object(r.b)((e=>({runsMetadata:e.runsMetadata})),(e=>({onUpdateRunTitle:(t,a)=>{e(function(e,t){return{type:q,title:e,runId:t}}(t,a))},onUpdateRunNotes:(t,a)=>{e(function(e,t){return{type:G,notes:e,runId:t}}(t,a))}})))((e=>{let{runMetadataToEdit:t,setShowRunDetailsModal:a,theme:n,visible:s,runsMetadata:r,onUpdateRunTitle:o,onUpdateRunNotes:l}=e;const[c,d]=Object(i.useState)({}),{handleClick:p,hasNotInteracted:u,isSuccessful:m,setHasNotInteracted:_,setIsSuccessful:h,showModal:b}=Object(i.useContext)(Bl),f=(e,t)=>{d(Object.assign({},c,{[e]:t})),_(!1)},g=()=>{if(null!==t&&void 0!==t&&t.id){const{notes:e="",title:a=t.id}=r[t.id]||{};d({notes:e,title:a})}a(!1)};return Object(i.useEffect)((()=>{s&&m&&a(b)}),[b,a,m,s]),Object(i.useEffect)((()=>{if(null!==t&&void 0!==t&&t.id){const{notes:e="",title:a=t.id}=r[t.id]||{};d({notes:e,title:a})}}),[t,r]),Object(Di.jsx)("div",{className:"pipeline-settings-modal pipeline-settings-modal--experiment-tracking",children:Object(Di.jsxs)(yn,{closeModal:g,theme:n,title:"Edit run details",visible:s,children:[Object(Di.jsxs)("div",{className:"pipeline-settings-modal__content pipeline-settings-modal__content--short",children:[Object(Di.jsx)("div",{className:"pipeline-settings-modal__header",children:Object(Di.jsx)("div",{className:"pipeline-settings-modal__name",children:"Run name"})}),Object(Di.jsx)(Ec,{defaultValue:c.title,onChange:e=>f("title",e),resetValueTrigger:s,type:"textarea",size:"large"})]}),Object(Di.jsxs)("div",{className:"pipeline-settings-modal__content pipeline-settings-modal__content--short",children:[Object(Di.jsx)("div",{className:"pipeline-settings-modal__header",children:Object(Di.jsx)("div",{className:"pipeline-settings-modal__name",children:"Notes"})}),Object(Di.jsx)(Ec,{characterLimit:500,defaultValue:c.notes||"",onChange:e=>f("notes",e),placeholder:"Add here",resetValueTrigger:s,type:"textarea",size:"small"})]}),Object(Di.jsxs)("div",{className:"run-details-modal-button-wrapper",children:[Object(Di.jsx)(Xi,{mode:"secondary",onClick:g,size:"small",children:"Cancel"}),Object(Di.jsx)(Xi,{dataTest:"Apply changes and close in Run Details Modal",disabled:u,onClick:()=>{o(c.title,t.id),l(c.notes,t.id),p(),h(!0)},mode:m?"success":"primary",size:"small",children:m?Object(Di.jsxs)(Di.Fragment,{children:["Changes applied ",Object(Di.jsx)("span",{className:"success-check-mark",children:"\u2705"})]}):"Apply changes and close"})]})]})})})),Pc=a(43),Ac=a(228);a(533);var Lc=Object(r.b)((e=>({runsMetadata:e.runsMetadata})))((e=>{let{runMetadata:t,runTrackingData:a,setShowRunExportModal:n,theme:s,visible:r,runsMetadata:o}=e;const[l,c]=Object(i.useState)([]),{isSuccessful:d,showModal:p,handleClick:u}=Object(i.useContext)(Bl),m=Object(i.useCallback)((()=>{const e=null===t||void 0===t?void 0:t.map((e=>{var t,a;return{...e,title:(null===(t=o[e.id])||void 0===t?void 0:t.title)||e.id,notes:(null===(a=o[e.id])||void 0===a?void 0:a.notes)||""}}));Object(Pc.flushSync)((()=>{c(((e,t)=>{let a=[];if(e&&t){const i=null===e||void 0===e?void 0:e.map((e=>kc(e.title))),n=null===e||void 0===e?void 0:e.map((e=>kc(e.author))),s=null===e||void 0===e?void 0:e.map((e=>kc(e.gitSha))),r=null===e||void 0===e?void 0:e.map((e=>kc(e.gitBranch))),o=null===e||void 0===e?void 0:e.map((e=>kc(e.runCommand))),l=null===e||void 0===e?void 0:e.map((e=>kc(e.notes)));function c(e){t[e].forEach((e=>{const{datasetName:t,data:i}=e,n=Object.keys(i).sort(((e,t)=>e.localeCompare(t)));a.push([t]),n.forEach((e=>{let t=[e];i[e].forEach((e=>t.push(e.value))),a.push(t)})),a.push([])}))}a.push(["Title",...i],["Created By",...n],["Git SHA",...s],["Git Branch",...r],["Run Command",...o],["Notes",...l]),a.push([]),c("Metrics"),c("JSON Data")}return a})(e,a)),u()}))}),[t,a,u,o]);return Object(i.useEffect)((()=>{r&&d&&n(p)}),[p,n,d,r]),Object(Di.jsx)("div",{className:"pipeline-run-export-modal pipeline-run-export-modal--experiment-tracking",children:Object(Di.jsx)(yn,{closeModal:()=>n(!1),theme:s,title:"Export experiment run",visible:r,children:Object(Di.jsxs)("div",{className:"run-export-modal-button-wrapper",children:[Object(Di.jsx)(Xi,{mode:"secondary",onClick:()=>n(!1),size:"small",children:"Cancel"}),Object(Di.jsx)(Ac.CSVLink,{asyncOnClick:!0,className:d?"run-export-modal-export-button--success":"run-export-modal-export-button",data:l,filename:"run-data.csv",onClick:m,children:Object(Di.jsx)(Xi,{dataTest:"Export all and close",mode:d?"success":"primary",size:"small",children:d?Object(Di.jsxs)(Di.Fragment,{children:["Done ",Object(Di.jsx)("span",{className:"success-check-mark",children:"\u2705"})]}):"Export all and close"})})]})})})}));var Dc=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M12 16a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm0-6a2 2 0 1 1 0 4 2 2 0 0 1 0-4zm0-6a2 2 0 1 1 0 4 2 2 0 0 1 0-4z"})})};var Rc=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M12 4a8 8 0 1 1 0 16 8 8 0 0 1 0-16zm0 4a4 4 0 1 0 0 8 4 4 0 0 0 0-8z"})})};var Vc=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 24 24",children:Object(Di.jsx)("path",{d:"M12 4a8 8 0 1 1 0 16 8 8 0 0 1 0-16zm0 2a6 6 0 1 0 0 12 6 6 0 0 0 0-12zm0 4a2 2 0 1 1 0 4 2 2 0 0 1 0-4z"})})};const Ic=e=>""===e||null===e?"-":e,Bc=e=>{let{runsMetadata:t,runId:a,onToggleBookmark:n}=e;const[s,r]=Object(i.useState)(!1),{bookmark:o=!1}=t[a]||{},l=(e=>{const t=Object(i.useRef)();return Object(i.useEffect)((()=>{const a=a=>{t.current&&!t.current.contains(a.target)&&e()};return document.addEventListener("click",a,!0),()=>{document.removeEventListener("click",a,!0)}}),[e,t]),t})(Object(i.useCallback)((()=>{r(!1)}),[]));return Object(Di.jsxs)("div",{className:"hidden-menu-wrapper",onClick:()=>r(!s),ref:l,children:[Object(Di.jsx)("div",{className:xi()("hidden-menu",{"hidden-menu--visible":s}),children:Object(Di.jsx)("div",{className:"hidden-menu__item",onClick:e=>{n(!o,a),r(!1),e.stopPropagation()},children:o?"Unbookmark":"Bookmark"})}),Object(Di.jsx)(un,{active:s,ariaLabel:"Runs menu",className:"pipeline-menu-button--labels",icon:Dc})]})};var Hc=Object(r.b)((e=>({runsMetadata:e.runsMetadata})),(e=>({onToggleBookmark:(t,a)=>{e(U(t,a))}})))((e=>{let{activeTab:t,enableComparisonView:a,enableShowChanges:s=!1,isSingleRun:r,onRunSelection:o,pinnedRun:l,runs:c=[],setPinnedRun:d,setRunMetadataToEdit:p,setShowRunDetailsModal:u,showLoader:m,theme:_,runsMetadata:h,onToggleBookmark:b}=e,f={};for(let i=0;i<c.length;i++)f[i]=!1;const[g,y]=Object(i.useState)(f),j=e=>{const t=c.find((t=>t.id===e));p(t),u(!0)},v=e=>h[e]&&h[e].notes||"",x=c.map((e=>{return{...e,title:(t=e.id,h[t]&&h[t].title||t),notes:v(e.id)};var t}));return Object(Di.jsx)("div",{className:xi()("details-metadata",{"details-metadata--not-overview":"Overview"!==t}),children:Object(Di.jsxs)("table",{className:xi()("details-metadata__table",{"details-metadata__table-comparison-view":a}),children:[x.map(((e,i)=>Object(Di.jsx)(n.a.Fragment,{children:0===i?Object(Di.jsx)("tbody",{children:Object(Di.jsxs)("tr",{className:xi()("details-metadata__run","details-metadata__labels",{"details-metadata__labels-comparison-view":a}),children:[Object(Di.jsx)("td",{className:"details-metadata__title",children:Object(Di.jsx)("span",{className:"details-metadata__title-detail",onClick:()=>j(e.id),title:Ic(e.title),children:Ic(e.title)})}),"Plots"!==t?Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)("td",{className:"details-metadata__table-label",children:"Created By"}),Object(Di.jsx)("td",{className:"details-metadata__table-label",children:"Creation Date"}),Object(Di.jsx)("td",{className:"details-metadata__table-label",children:"Git SHA"}),Object(Di.jsx)("td",{className:"details-metadata__table-label",children:"Git Branch"}),Object(Di.jsx)("td",{className:"details-metadata__table-label",children:"Run Command"}),Object(Di.jsx)("td",{className:"details-metadata__table-label",children:"Notes"})]}):null]})}):null},e.id+i))),Object(Di.jsx)(Nc.a,{className:"details-metadata__run--wrapper",component:"tbody",children:x.map(((e,i)=>{const n=El(e.id);return Object(Di.jsx)(Yi.a,{classNames:"details-metadata__run-animation",enter:!r,exit:!r,timeout:300,children:Object(Di.jsxs)("tr",{className:xi()("details-metadata__run",{"details-metadata__run--first-run":0===i,"details-metadata__run--first-run-comparison-view":0===i&&a}),children:[Object(Di.jsxs)("td",{className:"details-metadata__title",children:[Object(Di.jsx)("div",{className:xi()("details-metadata__indicator",{"details-metadata__indicator--selected-first":0===i,"details-metadata__indicator--selected-second":1===i,"details-metadata__indicator--selected-third":2===i})}),Object(Di.jsx)("span",{className:"details-metadata__title-detail",onClick:()=>j(e.id),title:Ic(e.title),children:Ic(e.title)}),Object(Di.jsxs)("ul",{className:"details-metadata__buttons",children:[r?null:Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)(un,{active:e.id===l,ariaLive:"polite",className:xi()("pipeline-menu-button--labels","pipeline-menu-button__pin",{"details-metadata__buttons--selected-pin":e.id===l}),icon:e.id===l?Rc:Vc,labelText:e.id===l?"Baseline":"Make baseline",labelTextPosition:"bottom",onClick:()=>d(e.id),visible:s}),Object(Di.jsx)(un,{ariaLive:"polite",className:"pipeline-menu-button--labels__close",icon:Wi,labelText:"Remove run",labelTextPosition:"bottom",onClick:()=>o(e.id)})]}),Object(Di.jsx)(Bc,{runsMetadata:h,onToggleBookmark:b,runId:e.id})]})]}),"Plots"!==t?Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)("td",{className:"details-metadata__table-value",children:Ic(e.author)}),Object(Di.jsx)("td",{className:"details-metadata__table-value",children:"".concat(n," (").concat(Ic(e.id),")")}),Object(Di.jsx)("td",{className:"details-metadata__table-value",children:Ic(e.gitSha)}),Object(Di.jsx)("td",{className:"details-metadata__table-value",children:Ic(e.gitBranch)}),Object(Di.jsx)("td",{className:"details-metadata__table-value",children:Ic(e.runCommand)}),Object(Di.jsxs)("td",{className:"details-metadata__table-value",children:[Object(Di.jsx)("p",{className:xi()("details-metadata__notes","details-metadata__table-label"),onClick:()=>j(e.id),style:g[i]?{display:"block"}:null,children:""!==e.notes?e.notes:"- Add notes here"}),e.notes.length>100?Object(Di.jsx)("button",{className:"details-metadata__show-more kedro",onClick:()=>{return e=i,void y({...g,[e]:!g[e]});var e},children:g[i]?"Show less":"Show more"}):null]})]}):null]})},e.id)}))}),m&&Object(Di.jsx)(Yl,{length:c.length,theme:_})]})})}));var Uc=e=>{let{className:t}=e;return Object(Di.jsx)("svg",{className:t,viewBox:"0 0 37 14",children:Object(Di.jsx)("path",{d:"M7.31269 0.244326C7.70024 0.580197 7.76681 1.14874 7.48475 1.56241L7.41345 1.65495L3.83955 5.777L35.5236 5.71879C36.0759 5.71777 36.5244 6.16465 36.5254 6.71694C36.5264 7.22977 36.1411 7.65316 35.6439 7.71185L35.5273 7.71879L4.20355 7.777L7.42846 11.6765C7.75524 12.0718 7.72704 12.6435 7.38055 13.0049L7.29496 13.0844C6.89971 13.4112 6.32798 13.383 5.96656 13.0365L5.88706 12.9509L0.560547 6.5084L5.90207 0.345086C6.26378 -0.0722699 6.89533 -0.117382 7.31269 0.244326Z"})})};a(534);var qc=e=>{let{runDatasetToShow:t,visible:a,setShowRunPlotsModal:n}=e;const{datasetKey:s,datasetType:r,datasetValues:o}=t,l=null===o||void 0===o?void 0:o.filter((e=>{let{value:t}=e;return t})),c=null===l||void 0===l?void 0:l.length,d=3===c?"threeCharts":2===c?"twoCharts":"oneChart",p="plotly"===Ta(r),u="image"===Ta(r),m=Ta(r),_=e=>{27===e.keyCode&&n(!1)};return Object(i.useEffect)((()=>(a&&window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)))),a?Object(Di.jsxs)("div",{className:"pipeline-run-plots-modal",children:[Object(Di.jsxs)("div",{className:"pipeline-run-plots-modal__top",children:[Object(Di.jsxs)("button",{className:"pipeline-run-plots-modal__back",onClick:()=>n(!1),children:[Object(Di.jsx)(Uc,{className:"pipeline-run-plots-modal__back-icon"}),Object(Di.jsx)("span",{className:"pipeline-run-plots-modal__back-text",children:"Back"})]}),Object(Di.jsxs)("div",{className:"pipeline-run-plots-modal__header",children:[Object(Di.jsx)(Cn,{className:"pipeline-run-plots-modal__icon",icon:m}),Object(Di.jsx)("span",{className:"pipeline-run-plots-modal__title",children:s})]})]}),Object(Di.jsxs)("div",{className:xi()("pipeline-run-plots-modal__content","pipeline-run-plots-modal__content--".concat(d),{"pipeline-run-plots-modal__content--plotly":p}),children:[p&&l.map((e=>e.value&&Object(Di.jsxs)("div",{className:xi()("pipeline-run-plots__plot-wrapper","pipeline-run-plots__plot-wrapper--".concat(d)),children:[Object(Di.jsx)(Is,{data:e.value.data,layout:e.value.layout,view:d}),Object(Di.jsxs)("div",{className:"pipeline-run-plots-image-text",children:[Object(Di.jsx)("span",{className:"pipeline-run-plots-image-text-timestamp",children:e.runId}),Object(Di.jsx)("span",{className:"pipeline-run-plots-image-text-relative_timestamp",children:El(e.runId)})]})]},e.runId))),u&&l.map((e=>Object(Di.jsxs)("div",{className:xi()("pipeline-run-plots__image-wrapper","pipeline-run-plots__image-wrapper--".concat(d)),children:[Object(Di.jsx)("img",{alt:"Matplotlib rendering",className:xi()("pipeline-run-plots__image--".concat(d)),src:"data:image/png;base64,".concat(e.value)}),Object(Di.jsxs)("div",{className:"pipeline-run-plots-image-text",children:[Object(Di.jsx)("span",{className:"pipeline-run-plots-image-text-timestamp",children:e.runId}),Object(Di.jsx)("span",{className:"pipeline-run-plots-image-text-relative_timestamp",children:El(e.runId)})]})]},e.runId)))]})]}):null};a(535);var Gc=e=>{let{activeTab:t,enableComparisonView:a,enableShowChanges:n,isKedroDatasetsCompatible:s,isRunDataLoading:r,newRunAdded:o,onRunSelection:l,pinnedRun:c,runDataError:d,runMetadata:p,runTrackingData:u,selectedRunIds:m,setActiveTab:_,setIsDisplayingMetrics:h,setPinnedRun:b,setShowRunDetailsModal:f,setShowRunExportModal:g,setShowRunPlotsModal:y,showRunDetailsModal:j,showRunExportModal:v,showRunPlotsModal:x,sidebarVisible:O,theme:w}=e;const[k,N]=Object(i.useState)(null),[T,M]=Object(i.useState)({}),[S,z]=Object(i.useState)(!1),[E,C]=Object(i.useState)(!1);Object(i.useEffect)((()=>{if(r&&!a){const e=setTimeout((()=>{z(!0)}),200);return()=>clearTimeout(e)}if(z(!1),r&&o){const e=setTimeout((()=>{C(!0)}),200);return()=>clearTimeout(e)}C(!1)}),[r,o,a]),Object(i.useEffect)((()=>{if(p&&!a){const e=p.find((e=>e.id===m[0]));N(e)}}),[a,p,m]),Object(i.useEffect)((()=>{h("Metrics"===t)}),[t,h]);const P=()=>s?null:Object(Di.jsx)("div",{className:"kedroDatasetsCompatible",children:Object(Di.jsx)("p",{children:"Kedro-Viz Experiment Tracking is only supported with kedro-datasets version 2.1.0 and above. Please update kedro-datasets in order to use this feature."})}),A=1===(null===p||void 0===p?void 0:p.length);return d?null:S?Object(Di.jsxs)("div",{className:xi()("kedro","details-mainframe",{"details-mainframe--sidebar-visible":O}),children:[Object(Di.jsx)(Wl,{theme:w}),Object(Di.jsx)(Zl,{theme:w})]}):Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsxs)(Hl,{children:[Object(Di.jsx)(Cc,{runMetadataToEdit:k,runs:p,setShowRunDetailsModal:f,theme:w,visible:j}),Object(Di.jsx)(Lc,{runMetadata:p,runTrackingData:u,setShowRunExportModal:g,theme:w,visible:v}),Object(Di.jsx)(qc,{runDatasetToShow:T,setShowRunPlotsModal:y,theme:w,visible:x})]}),Object(Di.jsxs)("div",{className:xi()("kedro","details-mainframe",{"details-mainframe--sidebar-visible":O}),children:[Object(Di.jsx)("div",{className:"details__tabs",children:Ve.map((e=>Object(Di.jsx)("div",{className:xi()("tabs__item",{"tabs__item--active":t===e}),onClick:()=>_(e),children:e},e)))}),"Metrics"===t?Object(Di.jsxs)(Di.Fragment,{children:[P(),Object(Di.jsx)(xc,{selectedRunIds:m,sidebarVisible:O})]}):Object(Di.jsxs)(Di.Fragment,{children:[P(),Object(Di.jsx)(Hc,{activeTab:t,enableComparisonView:a,enableShowChanges:n,isSingleRun:A,onRunSelection:l,pinnedRun:c,runs:p,setPinnedRun:b,setRunMetadataToEdit:N,setShowRunDetailsModal:f,showLoader:E,theme:w}),Object(Di.jsx)(zc,{activeTab:t,enableComparisonView:a,enableShowChanges:n,isSingleRun:A,pinnedRun:c,runMetadata:p,selectedRunIds:m,setRunDatasetToShow:M,setShowRunPlotsModal:y,showLoader:E,trackingData:u,theme:w})]})]})]})};a(536);const Fc={opacity:0,transition:"opacity .5s ease-in-out"},Zc={entering:{opacity:1},entered:{opacity:1},exiting:{opacity:0},exited:{opacity:0}};var Jc=Object(r.b)((e=>({theme:e.theme,runsMetadata:e.runsMetadata})))((e=>{let{theme:t,runsMetadata:a}=e;const[n,s]=Object(i.useState)(!1),[r,o]=Object(i.useState)(!0),[l,c]=Object(i.useState)(!0),[d,p]=Object(i.useState)(),[u,m]=Object(i.useState)(null),[_,h]=Object(i.useState)(!1),[b,f]=Object(i.useState)(!1),[g,y]=Object(i.useState)(!1),[j,v]=Object(i.useState)(!1),[x,O]=Object(i.useState)(!1),[w,k]=Object(i.useState)(!1),[N,T]=Object(i.useState)([]),[M,S]=Object(i.useState)(Ve[0]),[z,E]=Object(i.useState)({}),[C,P]=Object(i.useState)(!1),[A,L]=Object(i.useState)(!1),[D,R]=Object(i.useState)(!1),{pathname:V,search:I}=Object(ji.h)(),B=new URLSearchParams(I),{matchedExperimentTrackingMainPage:H,matchedSelectedView:U,matchedSelectedRuns:q}=Vl(V,I),{toExperimentTrackingPath:G,toSelectedRunsPath:F}=ds(),{data:Z,loading:J}=wi(Gi),{data:{runMetadata:K=[],plots:X=[],metrics:W=[],JSONData:Y=[]}=[],error:Q,loading:$}=wi(Fi,{skip:0===N.length,variables:{runIds:N,showDiff:!0}});let ee={};X.length>0?ee.Plots=X:ee.Plots=[],W.length>0&&(ee.Metrics=W),Y.length>0&&(ee["JSON Data"]=Y);const te=e=>{if(w)if(N.includes(e)){if(1===N.length)return;const t=N.filter((t=>t!==e));T(t),F(t,M,w),v(!1)}else T([...N,e]),v(!0),F([...N,e],M,w);else{if(N.includes(e))return;T([e]),F([e],M,w)}},ae=()=>{k(!w),1===N.length&&F(N.slice(0,1),M,!w),w&&N.length>1&&(T(N.slice(0,1)),F(N.slice(0,1),M,!w))},ie=e=>{S(e),F(N,e,w)},ne=Object(i.useCallback)((()=>{L((e=>!e))}),[]);return Object(i.useEffect)((()=>{!async function(){try{const e=await he(),t=await e.json();if(e.ok){const e=t.find((e=>"kedro-datasets"===e.package_name));R(e.is_compatible)}}catch(e){console.error("package-compatibilities fetch error: ",e)}}()}),[]),Object(i.useEffect)((()=>(dt(ve).showGoBackBtn&&pt(ve,we),window.addEventListener("popstate",ne),()=>{window.removeEventListener("popstate",ne)})),[ne]),Object(i.useEffect)((()=>{Z&&(H||q||U||(E(Qe),P(!0)),q&&(()=>{const e=B.get(qe).split(","),t=null===Z||void 0===Z?void 0:Z.runsList.map((e=>e.id));if(e.find((e=>!(null!==t&&void 0!==t&&t.includes(e)))))E($e),P(!0);else{const t=e.length>1||"true"===B.get(Fe);T(e),k(t),Ve.includes(B.get(Ge))&&S(B.get(Ge))}})(),U&&(()=>{const e=Z.runsList.map((e=>e.id)).slice(0,1);T(e),k(!1),Ve.includes(B.get(Ge))&&S(B.get(Ge))})()),A&&L(!1)}),[Z,A]),Object(i.useEffect)((()=>{N.length>2?s(!0):s(!1)}),[N]),Object(i.useEffect)((()=>{if((null===Z||void 0===Z?void 0:Z.runsList.length)>0&&!w){const e=Z.runsList.filter((e=>e.id===N[0]))[0];m(e)}}),[Z,w,N]),Object(i.useEffect)((()=>{if(H&&(null===Z||void 0===Z?void 0:Z.runsList.length)>0&&0===N.length){const e=Z.runsList.filter((e=>{var t;return!0===(null===(t=a[e.id])||void 0===t?void 0:t.bookmark)}));e.length>0?T(e.map((e=>e.id)).slice(0,1)):T(Z.runsList.map((e=>e.id)).slice(0,1))}}),[Z,N,H,a]),Object(i.useEffect)((()=>{"undefined"!==typeof d&&N.includes(d)||p(N[0])}),[N,d]),J?Object(Di.jsx)("div",{className:"experiment-wrapper",children:Object(Di.jsx)("p",{className:"experiment-wrapper__text",children:"Loading..."})}):C?Object(Di.jsxs)("div",{className:"experiment-wrapper__error",children:[Object(Di.jsx)("h2",{className:"experiment-wrapper__header",children:"Oops, this URL isn't valid"}),Object(Di.jsx)("p",{className:"experiment-wrapper__text",children:"".concat(z,".")}),Object(Di.jsx)(Xi,{onClick:()=>{G(),P(!1)},children:"Reset view"})]}):Object(Di.jsx)(Di.Fragment,{children:Object(Di.jsx)(Pl,{children:(null===Z||void 0===Z?void 0:Z.runsList.length)>0?Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)(Dl,{disableRunSelection:n,enableComparisonView:w,enableShowChanges:r,isDisplayingMetrics:x,isExperimentView:!0,onRunSelection:te,onToggleComparisonView:ae,runsListData:Z.runsList,selectedRunData:u,selectedRunIds:N,setEnableShowChanges:o,setShowRunExportModal:f,setSidebarVisible:c,showRunDetailsModal:h,sidebarVisible:l}),Object(Di.jsx)(fr.a,{in:N.length>0,timeout:300,children:e=>Object(Di.jsx)("div",{style:{...Fc,...Zc[e]},children:N.length>0?Object(Di.jsx)(Gc,{activeTab:M,enableComparisonView:w,enableShowChanges:r&&N.length>1,isKedroDatasetsCompatible:D,isRunDataLoading:$,newRunAdded:j,onRunSelection:te,pinnedRun:d,runDataError:Q,runMetadata:K,runTrackingData:ee,selectedRunIds:N,setActiveTab:ie,setIsDisplayingMetrics:O,setPinnedRun:p,setShowRunDetailsModal:h,setShowRunExportModal:f,setShowRunPlotsModal:y,showRunDetailsModal:_,showRunExportModal:b,showRunPlotsModal:g,sidebarVisible:l,theme:t}):null})})]}):Object(Di.jsx)(fr.a,{in:(null===Z||void 0===Z?void 0:Z.runsList.length)<=0,timeout:300,children:e=>Object(Di.jsxs)("div",{className:"experiment-wrapper",style:{...Fc,...Zc[e]},children:[Object(Di.jsx)("h2",{className:"experiment-wrapper__header",children:"You don't have any experiments"}),Object(Di.jsxs)("p",{className:"experiment-wrapper__text",children:["Kedro can help you manage your experiments. Learn more how you can enable experiment tracking in your projects from our docs."," "]}),Object(Di.jsx)("a",{href:"https://docs.kedro.org/en/stable/visualisation/experiment_tracking.html",rel:"noreferrer",target:"_blank",children:Object(Di.jsx)(Xi,{children:"View docs"})})]})})})})}));var Kc=e=>{let{id:t,name:a,toggleValue:i,description:n,onToggleChange:s}=e;return Object(Di.jsxs)("div",{className:"pipeline-settings-modal__column",children:[Object(Di.jsx)("div",{className:"pipeline-settings-modal__name",children:a}),Object(Di.jsx)(ir,{id:t,className:"pipeline-settings-modal__state",title:i?"On":"Off",checked:i,onChange:s}),Object(Di.jsx)("div",{className:"pipeline-settings-modal__description",children:n})]},t)};var Xc=Object(r.b)((e=>({flags:e.flags,showFeatureHints:e.showFeatureHints,isPrettyName:e.isPrettyName,visible:e.visible})),(e=>({showSettingsModal:t=>{e(y(t))},onToggleFlag:(t,a)=>{e(A(t,a))},onToggleIsPrettyName:t=>{e({type:w,isPrettyName:t})},onToggleShowFeatureHints:t=>{e(N(t))}})))((e=>{let{flags:t,showFeatureHints:a,isOutdated:n,isPrettyName:s,latestVersion:r,onToggleFlag:o,onToggleShowFeatureHints:l,onToggleIsPrettyName:c,showSettingsModal:d,visible:p}=e;const u=_t.names().map((e=>({name:Ce[e].name,value:e,description:Ce[e].description}))),[m,_]=Object(i.useState)(!0),[h,b]=Object(i.useState)(!1),[f,g]=Object(i.useState)(s),[y,j]=Object(i.useState)(a),[v,x]=Object(i.useState)(t);Object(i.useEffect)((()=>{j(a)}),[a]),Object(i.useEffect)((()=>{let e,t;return h&&(e=setTimeout((()=>{d(!1)}),1500),t=setTimeout((()=>{Object.entries(v).map((e=>{const[t,a]=e;return o(t,a)})),c(f),l(y),_(!0),b(!1),window.location.reload()}),2e3)),()=>{clearTimeout(e),clearTimeout(t)}}),[h,y,f,o,l,c,d,v]);const O=()=>{d(!1),_(!0),x(t),g(s),j(y)};return Object(Di.jsx)("div",{className:"pipeline-settings-modal",children:Object(Di.jsx)(yn,{closeModal:O,title:"Settings",visible:p.settingsModal,children:Object(Di.jsxs)("div",{className:"pipeline-settings-modal__content",children:[Object(Di.jsxs)("div",{className:"pipeline-settings-modal__group",children:[Object(Di.jsx)("div",{className:"pipeline-settings-modal__subtitle",children:"General"}),Object(Di.jsxs)("div",{className:"pipeline-settings-modal__header",children:[Object(Di.jsx)("div",{className:"pipeline-settings-modal__name",children:"Name"}),Object(Di.jsx)("div",{className:"pipeline-settings-modal__state",children:"State"}),Object(Di.jsx)("div",{className:"pipeline-settings-modal__description",children:"Description"})]}),Object(Di.jsx)(Kc,{id:"isPrettyName",name:Pe.name,toggleValue:f,description:Pe.description,onToggleChange:e=>{g(e.target.checked),_(!1)}}),Object(Di.jsx)(Kc,{id:"showFeatureHints",name:Ae.name,toggleValue:y,description:Ae.description,onToggleChange:e=>{j(e.target.checked),_(!1),!1===e.target.checked&&pt(je,{[an]:0})}})]}),Object(Di.jsxs)("div",{className:"pipeline-settings-modal__group",children:[Object(Di.jsx)("div",{className:"pipeline-settings-modal__subtitle",children:"Experiments"}),u.map((e=>{let{name:t,value:a,description:i}=e;return Object(Di.jsx)(Kc,{description:i,id:a,name:t,onToggleChange:e=>{x({...v,[a]:e.target.checked}),_(!1)},toggleValue:v[a]},a)})),me()?n?Object(Di.jsxs)("div",{className:"pipeline-settings-modal__upgrade-reminder",children:[Object(Di.jsxs)("span",{children:["\u2022 Kedro-Viz ",r," is here! "]}),Object(Di.jsx)("a",{href:"https://github.com/kedro-org/kedro-viz/releases",target:"_blank",rel:"noopener noreferrer",children:"View release notes"})]}):Object(Di.jsx)("div",{className:"pipeline-settings-modal__already-latest",children:Object(Di.jsxs)("span",{children:["\u2022 You are on the latest version of Kedro-Viz (",r,")"]})}):null]}),Object(Di.jsxs)("div",{className:"run-details-modal-button-wrapper",children:[Object(Di.jsx)(Xi,{dataTest:"Cancel Button in Settings Modal",mode:"secondary",onClick:O,size:"small",children:"Cancel"}),Object(Di.jsx)(Xi,{dataTest:"Apply changes and close in Settings Modal",disabled:m,onClick:()=>{b(!0)},mode:h?"success":"primary",size:"small",children:h?Object(Di.jsxs)(Di.Fragment,{children:["Changes applied ",Object(Di.jsx)("span",{className:"success-check-mark",children:"\u2705"})]}):"Apply changes and close"})]})]})})})}));const Wc={date:"06 March 2024",features:[{title:"Publish and share Kedro-Viz on AWS, Azure and GCP",image:"",copy:"`kedro viz deploy` command enables you to publish and share Kedro-Viz to static website hosting platforms like AWS, Azure and GCP",buttonLink:"https://docs.kedro.org/projects/kedro-viz/en/latest/share_kedro_viz.html",buttonText:"View the docs"},{title:"New changes to the `preview` functionality on Kedro-Viz",image:"",copy:"The `preview` functionality on Kedro-Viz is now opt-out for users. Additionally, we have introduced extending the `preview` to custom datasets.",buttonLink:"https://docs.kedro.org/projects/kedro-viz/en/latest/preview_datasets.html",buttonText:"View the docs"},{title:"Improvements to `%run_viz` line magic",image:"",copy:"`%run_viz` line magic can be executed on jupyter notebooks with the options that Kedro-Viz supports on the command line",buttonLink:"https://docs.kedro.org/projects/kedro-viz/en/latest/kedro-viz_visualisation.html#running-kedro-viz-in-a-notebook",buttonText:"View the docs"},{title:"Kedro-Viz supports pydantic v2",image:"",copy:"Kedro-Viz has migrated from pydantic v1 to v2",buttonLink:"",buttonText:""},{title:"Kedro-Viz drops support for python 3.8",image:"",copy:"Kedro-Viz provides active support for python versions greater than 3.8",buttonLink:"",buttonText:""}]};a(537);var Yc=Object(r.b)((e=>({visibleMetaSidebar:pi(e)})))((e=>{let{isOutdated:t,versions:a,visibleMetaSidebar:s}=e;const[r,o]=Object(i.useState)(!1),[l,c]=Object(i.useState)(!1),{latest:d,installed:p}=a,u=e=>{27===e.keyCode&&c(!1)};return Object(i.useEffect)((()=>(window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u))),[]),Object(i.useEffect)((()=>{s&&(c(!1),o(!0))}),[s]),l?Object(Di.jsxs)("div",{className:"update-reminder",children:[Object(Di.jsx)("div",{className:xi()("update-reminder-expanded-header",{"update-reminder-expanded-header--up-to-date":!t}),children:Object(Di.jsx)("div",{className:"close-button-container",children:Object(Di.jsx)(un,{ariaLabel:"Close Upgrade Reminder Panel",className:"close-button",container:n.a.Fragment,icon:Wi,onClick:()=>c(!1)})})}),Object(Di.jsx)("div",{className:xi()("update-reminder-expanded-detail",{"update-reminder-expanded-detail--up-to-date":!t}),children:t?Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsxs)("h3",{children:["Kedro-Viz ",d," is here!"]}),Object(Di.jsxs)("p",{children:["We\u2019re excited to announce Kedro-Viz ",d," has been released. To update Kedro Viz, copy and paste the following update command into your terminal."," ",Object(Di.jsx)("a",{href:"https://github.com/kedro-org/kedro-viz/releases",target:"_blank",rel:"noopener noreferrer",children:"View full changelog."})]}),Object(Di.jsx)("p",{className:"subtext",children:"Update command"}),Object(Di.jsx)("div",{className:"command-copier",children:Object(Di.jsx)(js,{command:"pip install -U kedro-viz",isCommand:!0})})]}):Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsx)("h3",{children:"You're up to date"}),Object(Di.jsxs)("p",{children:["Kedro-Viz ",d]})]})}),Object(Di.jsxs)("div",{className:xi()("update-reminder-expanded-content",{"update-reminder-expanded-content--up-to-date":!t}),children:[Object(Di.jsx)("h3",{children:t?"What's new":"Release highlights"}),Object(Di.jsx)("p",{children:Wc.date}),Wc.features.map((e=>Object(Di.jsxs)("div",{className:"update-reminder-expanded-content--feature",children:[Object(Di.jsx)("h4",{children:e.title}),e.image.length>0&&Object(Di.jsx)("img",{alt:e.title,src:e.image}),Object(Di.jsx)("p",{children:e.copy}),e.buttonLink.length>0&&Object(Di.jsx)("a",{href:e.buttonLink,rel:"noreferrer",target:"_blank",children:Object(Di.jsx)(Xi,{size:"small",children:e.buttonText})})]},e.title)))]})]}):t&&r?Object(Di.jsxs)("span",{className:"update-reminder-version-tag update-reminder-version-tag--outdated",onClick:()=>c(!0),children:[Object(Di.jsx)("span",{}),"Kedro-Viz ",p]}):t?t&&!r?Object(Di.jsxs)("div",{className:"update-reminder-unexpanded",children:[Object(Di.jsxs)("p",{children:["Kedro-Viz ",d," is here! "]}),Object(Di.jsxs)("div",{className:"buttons-container",children:[Object(Di.jsx)("button",{className:"kedro",onClick:()=>c(!0),children:"Expand"}),Object(Di.jsx)("button",{className:"kedro",onClick:()=>o(!0),children:"Dismiss"})]})]}):void 0:Object(Di.jsxs)("span",{className:"update-reminder-version-tag update-reminder-version-tag--up-to-date",onClick:()=>c(!0),children:["Kedro-Viz ",p]})}));a(538);var Qc=Object(r.b)((e=>({visible:e.visible})),(e=>({onToggleModal:t=>{e(f(t))}})))((e=>{let{onToggleModal:t,visible:a}=e;const[n,s]=Object(i.useState)("default"),[r,o]=Object(i.useState)({}),[l,c]=Object(i.useState)({hasBucketName:!1,hasPlatform:!1,hasEndpoint:!1}),[d,p]=Object(i.useState)(!1),[u,m]=Object(i.useState)(null),[_,h]=Object(i.useState)(null),[b,f]=Object(i.useState)(!1),[g,y]=Object(i.useState)({}),[j,v]=Object(i.useState)(!0),[x,O]=Object(i.useState)(!1);Object(i.useEffect)((()=>{!async function(){try{const e=await he(),t=await e.json();if(e.ok){const e=t.find((e=>"fsspec"===e.package_name));y(e),v((null===e||void 0===e?void 0:e.is_compatible)||!1),e.is_compatible||s(!e.is_compatible&&"incompatible")}}catch(e){console.error("package-compatibilities fetch error: ",e)}}()}),[]);const w=(e,t)=>{c((a=>({...a,[at[e]]:!!t}))),o(Object.assign({},r,{[e]:t}))},k=async()=>{s("loading"),p(!0);try{const e=await fetch("/api/deploy",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(r)}),t=await e.json();e.ok?(m(t.url),s("success")):(m(null),h(t.message||"Error occurred!"),s("failure"))}catch(e){console.error(e),h(e.message||"Error occurred!"),s("failure")}finally{p(!1)}},N=()=>{window.navigator.clipboard.writeText(u),f(!0),setTimeout((()=>{f(!1)}),1500)},T=()=>{t(!1),"incompatible"!==n&&s("default"),h(null),p(!1),m(null),o({}),O(!1),c({hasBucketName:!1,hasPlatform:!1,hasEndpoint:!1})},M=e=>"default"===n?null:"title"===e?"success"===n?"Kedro-Viz Published and Hosted":"Publish and Share Kedro-Viz":function(e){return{failure:"Something went wrong. Please try again later.",loading:"Shooting your files through space. Sit tight...",success:"The current version of Kedro-Viz has been published and hosted via the link below.",incompatible:"Publishing Kedro-Viz is only supported with fsspec>=2023.9.0. You are currently on version ".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",".\n\nPlease upgrade fsspec to a supported version and ensure you're using Kedro 0.18.2 or above.")}[e]}(n,g.package_version),S=()=>{if(!/^https?:\/\//.test(u)&&"gcp"===r.platform){return"http://"+u}return u},z=()=>O(!0),{platform:E,bucket_name:C,endpoint:P}=r||{};return Object(Di.jsxs)(yn,{className:xi()("shareable-url-modal",{"shareable-url-modal__non-default-wrapper":"default"!==n}),closeModal:T,message:M("message"),title:M("title"),visible:a.shareableUrlModal,children:[j?null:Object(Di.jsxs)("div",{className:"shareable-url-modal__button-wrapper shareable-url-modal__button-wrapper--right",children:[Object(Di.jsx)(Xi,{mode:"secondary",onClick:()=>T(),size:"small",children:"Cancel"}),Object(Di.jsx)("a",{href:"https://docs.kedro.org/en/latest/visualisation/share_kedro_viz.html",rel:"noreferrer",target:"_blank",children:Object(Di.jsx)(Xi,{size:"small",children:"View documentation"})})]}),!x&&j?Object(Di.jsxs)("div",{children:[Object(Di.jsxs)("div",{className:"shareable-url-modal__content-wrapper shareable-url-modal__content-description",children:["Disclaimer: Please note that Kedro-Viz contains preview data for multiple datasets. If you wish to disable the preview when publishing Kedro-Viz, please refer to"," ",Object(Di.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:st,children:"the documentation"})," ","on how to do so."]}),Object(Di.jsxs)("div",{className:"shareable-url-modal__button-wrapper shareable-url-modal__button-wrapper--right",children:[Object(Di.jsx)(Xi,{mode:"secondary",onClick:()=>T(),size:"small",children:"Cancel"}),Object(Di.jsx)(Xi,{dataTest:"disclaimerButton",size:"small",onClick:z,children:"Continue"})]})]}):Object(Di.jsxs)(Di.Fragment,{children:[d||u||!j||_?null:Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsxs)("div",{className:"shareable-url-modal__content-form-wrapper",children:[Object(Di.jsxs)("div",{className:"shareable-url-modal__content-wrapper",children:[Object(Di.jsx)("div",{className:"shareable-url-modal__content-title",children:"Publish and Share Kedro-Viz"}),Object(Di.jsxs)("p",{className:"shareable-url-modal__content-description shareable-url-modal__paregraph-divider",children:["Prerequisite: Deploying and hosting Kedro-Viz requires access keys or user credentials, depending on the chosen cloud provider. To use this feature, please add your access keys or credentials as environment variables in your Kedro project. More information can be found in"," ",Object(Di.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:nt,children:"docs"}),"."]}),Object(Di.jsx)("p",{className:"shareable-url-modal__content-description",children:"Enter the required information and a hosted link will be generated."}),Object(Di.jsxs)("p",{className:"shareable-url-modal__content-description shareable-url-modal__content-note",children:["For more information on obtaining the Endpoint URL, refer to"," ",Object(Di.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:rt,children:"AWS"}),","," ",Object(Di.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:ot,children:"Azure"})," ","and"," ",Object(Di.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:lt,children:"GCP"})," ","docs."]})]}),Object(Di.jsxs)("div",{className:"shareable-url-modal__form-wrapper",children:[Object(Di.jsxs)("div",{className:"shareable-url-modal__input-wrapper",children:[Object(Di.jsx)("div",{className:"shareable-url-modal__input-label",children:"Hosting platform"}),Object(Di.jsx)(yl,{defaultText:E&&tt[E],placeholderText:E?null:"Select a hosting platform",onChanged:e=>{w("platform",e.value)},width:null,children:Object.entries(tt).map((e=>{let[t,a]=e;return Object(Di.jsx)(vl,{className:xi()({"pipeline-list__option--active":E===t}),primaryText:a,value:t},t)}))})]}),Object(Di.jsxs)("div",{className:"shareable-url-modal__input-wrapper",children:[Object(Di.jsx)("div",{className:"shareable-url-modal__input-label",children:"Bucket Name"}),Object(Di.jsx)(Ec,{defaultValue:C,onChange:e=>w("bucket_name",e),placeholder:"Enter name",resetValueTrigger:a,size:"small",type:"input",dataTest:"bucket_name"})]}),Object(Di.jsxs)("div",{className:"shareable-url-modal__input-wrapper",children:[Object(Di.jsx)("div",{className:"shareable-url-modal__input-label",children:"Endpoint Link"}),Object(Di.jsx)(Ec,{defaultValue:P,onChange:e=>w("endpoint",e),placeholder:"Enter url",resetValueTrigger:a,size:"small",type:"input",dataTest:"endpoint_name"})]})]})]}),Object(Di.jsxs)("div",{className:"shareable-url-modal__button-wrapper shareable-url-modal__button-wrapper--right",children:[Object(Di.jsx)(Xi,{mode:"secondary",onClick:()=>T(),size:"small",children:"Cancel"}),Object(Di.jsx)(Xi,{disabled:!Object.values(l).every((e=>e)),size:"small",onClick:k,children:"Publish"})]})]}),d?Object(Di.jsx)("div",{className:"shareable-url-modal__loading",children:Object(Di.jsx)(bs,{visible:d})}):null,_?Object(Di.jsxs)("div",{className:"shareable-url-modal__error",children:[Object(Di.jsxs)("p",{children:["Error message: ",_]}),Object(Di.jsx)(Xi,{mode:"primary",onClick:()=>{s("default"),p(!1),m(null),h(null)},size:"small",children:"Go back"})]}):null,u?Object(Di.jsxs)(Di.Fragment,{children:[Object(Di.jsxs)("div",{className:"shareable-url-modal__result",children:[Object(Di.jsx)("div",{className:"shareable-url-modal__label",children:"Hosted link"}),Object(Di.jsxs)("div",{className:"shareable-url-modal__url-wrapper",children:[Object(Di.jsx)("a",{className:"shareable-url-modal__result-url",href:S(),target:"_blank",rel:"noopener noreferrer",children:u}),window.navigator.clipboard&&Object(Di.jsxs)("div",{className:"shareable-url-modal__result-action",children:[Object(Di.jsx)(un,{ariaLabel:"Copy run command to clipboard.",className:"copy-button",dataHeapEvent:"clicked.run_command",icon:ys,onClick:N}),Object(Di.jsx)(ts,{text:"Copied!",visible:b,noDelay:!0,centerArrow:!0,arrowSize:"small"})]})]})]}),Object(Di.jsxs)("div",{className:"shareable-url-modal__button-wrapper ",children:[Object(Di.jsx)(Xi,{mode:"secondary",onClick:()=>{s("default"),p(!1),m(null)},size:"small",children:"Link Settings"}),Object(Di.jsx)(Xi,{mode:"secondary",onClick:()=>T(),size:"small",children:"Close"})]})]}):null]})]})})),$c=Qc;a(539);var ed=Object(r.b)((e=>({displayGlobalToolbar:e.display.globalToolbar,theme:e.theme})))((e=>{let{displayGlobalToolbar:t,theme:a}=e;const{data:n}=wi(Ji,{client:Ai,skip:!t||!me()}),[s,r]=Object(i.useState)(!1),[o,l]=Object(i.useState)(null);return Object(i.useEffect)((()=>{n&&(r(n.version.isOutdated),l(n.version.latest))}),[n]),Object(Di.jsxs)("div",{className:xi()("kedro-pipeline kedro",{"kui-theme--dark":"dark"===a,"kui-theme--light":"light"===a}),children:[Object(Di.jsx)("h1",{className:"pipeline-title",children:"Kedro-Viz"}),Object(Di.jsx)(yi.a,{children:t?Object(Di.jsxs)(Ri,{children:[Object(Di.jsx)(fn,{isOutdated:s}),Object(Di.jsx)(Xc,{isOutdated:s,latestVersion:o}),me()?Object(Di.jsx)($c,{}):null,n&&Object(Di.jsx)(Yc,{isOutdated:s,versions:n.version}),Object(Di.jsxs)(ji.c,{children:[Object(Di.jsxs)(ji.a,{exact:!0,path:_e(),children:[Object(Di.jsx)(Il,{}),Object(Di.jsx)(rn,{})]}),Object(Di.jsx)(ji.a,{path:"".concat(_e(),"experiment-tracking"),children:Object(Di.jsx)(Jc,{})})]})]}):Object(Di.jsx)(Il,{})})]})}));a(540);class td extends n.a.Component{constructor(e){super(e);const t=yt(e);this.store=gi(t,this.props.data)}componentDidMount(){"json"===this.props.data&&this.store.dispatch((async function(e,t){const a=t();if("json"!==a.dataSource)return;e(xt(!0));const i=oe("main"),n=a.display.expandAllPipelines||a.flags.expandAllPipelines;let s=await fe(i).then((e=>ft(e,!0,n)));if((r=s.pipeline).ids.length&&r.main&&r.active&&r.active!==r.main){const e=Ot(s.pipeline);s=await fe(e).then((e=>ft(e,!1,n)))}var r;e(u(s)),e(xt(!1))})),this.announceFlags(this.store.getState().flags)}componentDidUpdate(e){e.data!==this.props.data&&this.updatePipelineData()}announceFlags(e){const t=(e=>{const t=_t.names();if(t.length>0){let a="Experimental features \ud83c\udfc4\u200d\u2642\ufe0f\n";return t.forEach((t=>{if(Ce[t].private)return;const i=e[t],n=i?"Enabled":"Disabled",s=i?"\ud83d\udfe2":"\u26aa\ufe0f",r=Ce[t].icon,o=Ce[t].description;a+="\n".concat(s," ").concat(r,' "').concat(t,'" \xb7 ').concat(o," \xb7 ").concat(n)})),a+="\n\nSee docs on flags for more info \ud83d\udcd6",a+="\nhttps://github.com/kedro-org/kedro-viz#flags",a}})(e);t&&"undefined"===typeof jest&&console.info(t)}updatePipelineData(){const e=ft(this.props.data,!0);this.store.dispatch(u(e))}render(){return this.props.data?Object(Di.jsx)(r.a,{store:this.store,children:Object(Di.jsx)(ed,{})}):null}}var ad=td,id=a(229),nd=a.n(id);const sd=()=>{let e,t;try{e=new URL(document.location.href),t=e.searchParams.get("seed")}catch(a){return void console.warn("Random data seeding is not supported in this browser")}return t||(t=(e=>{const t=[],a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<e;i++)t.push(a.charAt(Math.floor(62*Math.random())));return t.join("")})(30),e.searchParams.set("seed",t)),"undefined"===typeof jest&&console.info("%cRandom data seed: ".concat(t,"\nTo reuse this layout, visit ").concat(e.toString()),"font-weight: bold"),t},rd=e=>Array.from(Array(e).keys()),od="lorem ipsum dolor sit amet consectetur adipiscing elit vestibulum id turpis nunc nulla vitae diam dignissim fermentum elit sit amet viverra libero quisque condimentum pellentesque convallis sed consequat neque ac rhoncus finibus".split(" ");var ld=()=>{const e=sd(),t=nd()(e),a=e=>Math.floor(t()*e),i=e=>Math.ceil(t()*e),n=e=>e[a(e.length)];return{random:t,randomIndex:a,randomNumber:i,randomNumberBetween:(e,t)=>i(t-e)+e,getRandom:n,getRandomName:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_";return rd(e).map((()=>n(od))).join(t)},getRandomSelection:(e,a)=>{const i=new Array(a);let n=e.length;const s=new Array(n);if(a>n)return e;for(;a--;){const r=Math.floor(t()*n);i[a]=e[r in s?s[r]:r],s[r]=--n in s?s[n]:n}return i}}};const cd=["Raw","Intermediate","Primary","Feature","Model Input","Model Output"];class dd{constructor(){this.utils=ld(),this.pipelines=this.generatePipelines(),this.rankCount=this.getRankCount(),this.rankLayers=this.getRankLayers(),this.tags=this.generateTags(),this.nodes=this.generateNodes(),this.edges=this.generateEdges(),this.modularPipelines=this.generateModularPipelines(this.nodes),this.update(),this.finalise()}generatePipelines(){const e=["Default"],t=this.utils.randomNumberBetween(2,15);for(let a=1;a<t;a++)e.push(this.utils.getRandomName(this.utils.randomNumber(4)," "));return e.filter(le)}generateModularPipelines(e){return{__root__:{id:"__root__",name:"Root",children:e.map((e=>({id:e.id,type:e.type})))}}}getRankCount(){let e=this.utils.randomNumberBetween(10,50);return!e%2&&(e+=1),e}getRankLayers(){const e=re(cd,(()=>0));for(let a=0;a<this.rankCount;a++)e[this.utils.getRandom(cd)]++;const t={};for(let a=0,i=0;a<this.rankCount;a++){for(;e[cd[i]]<1;)i++;t[a]=cd[i],e[cd[i]]--}return t}generateTags(){const e=this.utils.randomNumber(20);return rd(e).map((()=>this.utils.getRandomName(this.utils.randomNumber(5)))).filter(le)}generateNodes(){const e=[];for(let t=0;t<this.rankCount;t++){const a=this.getRankNodeCount(t);for(let i=0;i<a;i++){const a=this.createNode(i,t);e.push(a)}}return e}getRankNodeCount(){return Math.min(1/this.utils.random(),10)}getType(e){return e.rank%2?"task":!e._sources.length&&this.utils.random()<.2?"parameters":"data"}createNode(e,t){const a=this.rankLayers[t];return{id:"".concat(a,"_").concat(t,"_").concat(e),name:null,type:null,rank:t,layer:a,pipelines:this.getNodePipelines(),modular_pipelines:null,tags:this.getRandomTags(),_sources:[],_targets:[]}}getNodeName(e){const t=this.utils.getRandomName(this.utils.randomNumber(10)," ");return"parameters"===e?"Parameters ".concat(t):t}getNodeMetaData(e){const{getRandomName:t,randomNumber:a}=this.utils;"task"===e.type?e.code=this.generateCodeSnippet():"data"===e.type&&(e.datasetType=t(a(2))),e.filepath=t(a(10),"/"),e.parameters=re(rd(a(10)).map((()=>t(a(2),"_"))),(()=>this.utils.randomNumber(50)/10))}generateCodeSnippet(){const e=Object.getOwnPropertyNames(dd.prototype),t=this.utils.randomIndex(e.length);let a=dd.prototype[e[t]].toString();return t>0&&(a="function "+a.replace(/\n\s\s/g,"\n")),a}getNodePipelines(){return this.pipelines.reduce(((e,t,a)=>0===a||this.utils.randomIndex(2)?e.concat(t):e),[])}getRandomTags(){return this.utils.getRandomSelection(this.tags,this.utils.randomNumber(this.tags.length))}getNodesByRank(){const e={};for(const t of this.nodes)e[t.rank]=e[t.rank]||[],e[t.rank].push(t);return e}generateEdges(){const e=[],t=this.utils.randomNumberBetween(100,200),a=this.getNodesByRank(),i=Object.keys(a).map((e=>parseFloat(e))).sort(((e,t)=>e-t)),n=e=>{const t=i[e],n=a[t];return n[this.utils.randomIndex(n.length)]};for(let s=0;s<t;s+=1){const t=this.utils.randomIndex(i.length-1),a=n(t),s=i.length-1-t,r=Math.round(.5/this.utils.random()),o=n(t+Math.min(r,s)),l={source:a.id,target:o.id,_sourceNode:a,_targetNode:o};e.push(l),a._targets.push(l),o._sources.push(l)}return e}activeNodes(){const e={},t=e=>e._sources.length+e._targets.length;for(const a of this.edges)t(a._sourceNode)+t(a._targetNode)>2&&(e[a._sourceNode.id]=a._sourceNode,e[a._targetNode.id]=a._targetNode);return Object.values(e)}activeTags(){return this.nodes.reduce(((e,t)=>t.tags?e.concat(t.tags):e),[]).filter(le).map((e=>({name:e,id:e})))}activeEdges(){const e=re(this.nodes.map((e=>e.id)),(()=>!0));return this.edges.filter((t=>e[t.target]&&e[t.source]))}update(){const e={};for(const a of this.nodes)e[a.id]=[];for(const a of this.edges)e[a.source].push(a.target);const t=Sa()(e);for(let a=0;a<t.length;a++)for(const e of t[a]){const t=this.nodes.find((t=>t.id===e));t.rank=a,t.type=this.getType(t),t.name="".concat(t.layer,"_").concat(t.type,"_").concat(t.rank,"_").concat(this.getNodeName(t.type)).replace(/\s/g,"_"),this.getNodeMetaData(t)}}finalise(){this.nodes=this.activeNodes(),this.tags=this.activeTags(),this.edges=this.activeEdges();for(const e of this.nodes)delete e._sources,delete e._targets;for(const e of this.edges)delete e._targetNode,delete e._sourceNode}all(){return{edges:this.edges,layers:cd,nodes:this.nodes,pipelines:this.pipelines.map((e=>({id:e,name:e}))),modular_pipelines:this.modularPipelines,tags:this.tags}}}var pd=()=>(new dd).all(),ud=a(230),md=a(231),_d=a(232);var hd=()=>(e=>{const t=t=>Object.assign(t,{source:e});switch(e){case"spaceflights":return t(ud);case"demo":return t(md);case"selectors":return t(_d);case"random":return t(pd());case"json":return e;default:throw new Error("Unexpected data source value '".concat(e,"'. Your input should be one of the following values: 'spaceflights', 'demo', 'json', 'selectors', or 'random'"))}})((()=>{const e=new URL(document.location.href).searchParams.get("data"),{REACT_APP_DATA_SOURCE:t}=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}),a="kedro-org.github.io"===document.location.host;return e?encodeURIComponent(e):t||(a?"demo":"json")})());a(549);var bd=()=>Object(Di.jsx)(Di.Fragment,{children:Object(Di.jsx)(ad,{data:hd()})});const fd=document.getElementById("root");Object(s.createRoot)(fd).render(Object(Di.jsx)(bd,{}))},551:function(e,t,a){"use strict";a.r(t),a.d(t,"graphNew",(function(){return D}));const i=.5*Math.PI,n=(e,t)=>Math.round(e/t)*t,s=(e,t)=>Math.atan2(e.y-t.y,e.x-t.x),r=e=>e.x-.5*e.width,o=e=>e.x+.5*e.width,l=e=>e.y-.5*e.height,c=e=>e.y+.5*e.height,d=e=>{const t={};for(const n of e)t[n.y]=t[n.y]||[],t[n.y].push(n);const a=Object.keys(t).map((e=>parseFloat(e)));a.sort(((e,t)=>e-t));const i=a.map((e=>t[e]));for(let n=0;n<i.length;n+=1){i[n].sort(((e,t)=>p(e.x,t.x,e.id,t.id)));for(const e of i[n])e.row=n}return i},p=function(e,t){const a="string"===typeof e?e.localeCompare(t):e-t;for(var i=arguments.length,n=new Array(i>2?i-2:0),s=2;s<i;s++)n[s-2]=arguments[s];return 0!==a||0===n.length?a:p(...n)},u=(e,t,a,i,n,s)=>{const r=n-a,o=s-i,l=(p=1,(c=((e-a)*r+(t-i)*o)/(r*r+o*o||1))<(d=0)?d:c>p?p:c);var c,d,p;return{x:a+r*l,y:i+o*l,ax:a,ay:i,bx:n,by:s}};var m=a(26);const _=(e,t,a)=>{for(let i=0;i<t;i+=1)for(const t of e)t.base.solve(t,a)},h=(e,t)=>{const a=new m.c,i={},n=(e,t)=>"".concat(e.id,"_").concat(t),s=(e,t)=>{const a=n(e,t);if(!i[a]){const n=i[a]=new m.e;n.property=t,n.obj=e}};for(const c of e)s(c.a,c.base.property),s(c.b,c.base.property);let r=0;for(const c of e)try{a.addConstraint(c.base.strict(c,t,i[n(c.a,c.base.property)],i[n(c.b,c.base.property)]))}catch(l){r+=1}r>0&&console.warn("Skipped ".concat(r," unsolvable constraints")),a.updateVariables();const o=Object.values(i);for(const c of o)c.obj[c.property]=c.value()},b={property:"y",strict:(e,t,a,i)=>new m.a(a.minus(i),m.b.Ge,t.spaceY,m.d.required)},f={property:"y",strict:(e,t,a,i)=>new m.a(a.minus(i),m.b.Ge,t.layerSpace,m.d.required)},g={property:"x",solve:e=>{const{a:t,b:a,strength:i}=e,n=i*(t.x-a.x);t.x-=n,a.x+=n},strict:(e,t,a,i)=>new m.a(a.minus(i),m.b.Eq,0,m.d.create(1,0,0,e.strength))},y={property:"x",solve:e=>{const{edgeA:t,edgeB:a,separationA:i,separationB:n,strength:s}=e,r=s*((t.sourceNode.x-a.sourceNode.x-i)/i),o=s*((t.targetNode.x-a.targetNode.x-n)/n);t.sourceNode.x-=r,a.sourceNode.x+=r,t.targetNode.x-=o,a.targetNode.x+=o}},j={property:"x",strict:(e,t,a,i)=>new m.a(i.minus(a),m.b.Ge,e.separation,m.d.required)},v=e=>e.map((e=>({base:b,a:e.targetNode,b:e.sourceNode}))),x=(e,t)=>{const a=[];if(!t)return a;const i=t.map((t=>e.filter((e=>e.nearestLayer===t))));for(let n=0;n<i.length-1;n+=1){const e=i[n],t=i[n+1],s={id:"layer-".concat(n),x:0,y:0};for(const i of e)a.push({base:f,a:s,b:i});for(const i of t)a.push({base:f,a:i,b:s})}return a},O=(e,t)=>{const{spaceX:a}=t,i=[];for(let n=0;n<e.length;n+=1){const t=e[n],{sourceNode:s,targetNode:r}=t,o=s.sources.length+s.targets.length+r.sources.length+r.targets.length;for(let l=n+1;l<e.length;l+=1){const n=e[l],{sourceNode:c,targetNode:d}=n;if(s.row>=d.row||r.row<=c.row)continue;const p=c.sources.length+c.targets.length+d.sources.length+d.targets.length;i.push({base:y,edgeA:t,edgeB:n,separationA:.5*s.width+a+.5*c.width,separationB:.5*r.width+a+.5*d.width,strength:1/Math.max(1,(o+p)/4)})}}return i},w=e=>e.map((e=>{let{sourceNode:t,targetNode:a}=e;return{base:g,a:t,b:a,strength:.6/Math.max(1,t.targets.length+a.sources.length-2)}})),k=(e,t)=>{const{spaceX:a}=t,i=[];for(let s=0;s<e.length;s+=1){const r=e[s];r.sort(((e,t)=>p(e.x,t.x,e.id,t.id)));for(let e=0;e<r.length-1;e+=1){const s=r[e],o=r[e+1],l=Math.max(1,s.targets.length+s.sources.length-2),c=Math.max(1,o.targets.length+o.sources.length-2),d=Math.min(10,l*c*t.spreadX),p=n(d*a,a);i.push({base:j,a:s,b:o,separation:.5*s.width+p+.5*o.width})}}return i},N=function(e,t,a){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.25,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.25;const r=T(e),o=Math.round(a*s);let l=0;for(let c=0;c<t.length-1;c+=1){const e=r[c]||0;l+=n(e*i*a,o);for(const a of t[c+1])a.y+=l}},T=e=>{const t={};for(const a of e){const e=Math.abs(s(a.targetNode,a.sourceNode)-i)/i,n=a.sourceNode.row,r=a.targetNode.row-1;t[n]=t[n]||[0,0],t[n][0]+=e,t[n][1]+=1,r!==n&&(t[r]=t[r]||[0,0],t[r][0]+=e,t[r][1]+=1)}for(const a in t)t[a]=t[a][0]/(t[a][1]||1);return Object.values(t)},M={layout:{spaceX:14,spaceY:110,layerSpaceY:55,spreadX:2.2,padding:100,iterations:25},routing:{spaceX:26,spaceY:28,minPassageGap:40,stemUnit:8,stemMinSource:5,stemMinTarget:5,stemMax:20,stemSpaceSource:6,stemSpaceTarget:10}},S=function(e,t,a){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:M;z(e,t),E(e,a),(e=>{let{nodes:t,edges:a,layers:i,spaceX:n,spaceY:s,spreadX:r,layerSpaceY:o,iterations:l}=e;for(const d of t)d.x=0,d.y=0;const c={spaceX:n,spaceY:s,spreadX:r,layerSpace:.5*(s+o)},p=v(a),u=x(t,i);h([...p,...u],c);const m=d(t),b=O(a,c),f=w(a,c);for(let d=0;d<l;d+=1)_(b,1,c),_(f,50,c);const g=k(m,c);h([...g,...f],c),N(a,m,s)})({nodes:e,edges:t,layers:a,...i.layout}),(e=>{let{nodes:t,edges:a,spaceX:i,spaceY:n,minPassageGap:m,stemUnit:_,stemMinSource:h,stemMinTarget:b,stemMax:f,stemSpaceSource:g,stemSpaceTarget:y}=e;const j=d(t);for(const r of t)r.targets.sort(((e,t)=>p(s(t.sourceNode,t.targetNode),s(e.sourceNode,e.targetNode))));for(const s of a){const e=s.sourceNode,t=s.targetNode;s.points=[];const a=Math.min((e.width-g)/e.targets.length,g)*(e.targets.indexOf(s)-.5*(e.targets.length-1));let c={x:e.x+a,y:e.y};for(let d=e.row+1;d<t.row;d+=1){const e=j[d][0];let t={x:r(e)-i,y:e.y},p=1/0;const _=[{...e,x:Number.MIN_SAFE_INTEGER},...j[d],{...e,x:Number.MAX_SAFE_INTEGER}];for(let a=0;a<_.length-1;a+=1){const e=_[a],s=_[a+1],d=r(s)-o(e);if(d<m)continue;const h=Math.min(i,.5*d),b=u(c.x,c.y,o(e)+h,l(e)-n,r(s)-h,l(s)-n),f=(v=c.x,x=b.x,Math.abs(v-x));if(f>p)break;f<p&&(p=f,t=b)}const h=e.height+n;s.points.push({x:t.x+a,y:t.y}),s.points.push({x:t.x+a,y:t.y+h}),c={x:t.x,y:t.y+h}}}var v,x;for(const r of t)r.targets.sort(((e,t)=>p(s(t.sourceNode,t.points[0]||t.targetNode),s(e.sourceNode,e.points[0]||e.targetNode)))),r.sources.sort(((e,t)=>p(s(e.points[e.points.length-1]||e.sourceNode,e.targetNode),s(t.points[t.points.length-1]||t.sourceNode,t.targetNode))));for(const s of a){const e=s.sourceNode,t=s.targetNode,a=Math.min((e.width-g)/e.targets.length,g),i=Math.min((t.width-y)/t.sources.length,y),n=e.targets.indexOf(s)-.5*(e.targets.length-1),r=t.sources.indexOf(s)-.5*(t.sources.length-1),o=a*n,d=i*r,p=_*e.targets.length*(1-Math.abs(n)/e.targets.length),u=_*t.sources.length*(1-Math.abs(r)/t.sources.length),m=[{x:e.x+o,y:c(e)},{x:e.x+o,y:c(e)+h},{x:e.x+o,y:c(e)+h+Math.min(p,f)}],j=[{x:t.x+d,y:l(t)-b-Math.min(u,f)},{x:t.x+d,y:l(t)-b},{x:t.x+d,y:l(t)}],v=[...m,...s.points,...j];let x=v[0].y;for(const s of v)s.y<x?s.y=x:x=s.y;s.points=v}})({nodes:e,edges:t,layers:a,...i.routing});const n=L(e,i.layout.padding);return e.forEach((e=>((e,t)=>(e.x=e.x-t.x,e.y=e.y-t.y,e.order=e.x+9999*e.y,e))(e,n.min))),t.forEach((e=>((e,t)=>(e.points.forEach((e=>{e.x=e.x-t.x,e.y=e.y-t.y})),e))(e,n.min))),{nodes:e,edges:t,layers:a,size:n}},z=(e,t)=>{const a={};for(const i of e)a[i.id]=i,i.targets=[],i.sources=[];for(const i of t)i.sourceNode=a[i.source],i.targetNode=a[i.target],i.sourceNode.targets.push(i),i.targetNode.sources.push(i)},E=(e,t)=>{if(t&&t.length>0){const a={};for(const e of t)a[e]=!0;const i=e=>Boolean(e&&e.layer in a),n=t[t.length-1];for(const t of e){const e=A(t,C,P,i);t.nearestLayer=e?e.layer:n}}},C=e=>e.targets.map((e=>e.targetNode)),P=(e,t)=>e.rank-t.rank,A=(e,t,a,i,n)=>{if(i(e))return e;(n=n||{})[e.id]=!0;return t(e).filter((e=>!n[e.id])).sort(a).map((e=>A(e,t,a,i,n))).filter(i).sort(a)[0]},L=(e,t)=>{const a={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}};for(const i of e){const e=i.x,t=i.y;e<a.min.x&&(a.min.x=e),e>a.max.x&&(a.max.x=e),t<a.min.y&&(a.min.y=t),t>a.max.y&&(a.max.y=t)}return a.width=a.max.x-a.min.x+2*t,a.height=a.max.y-a.min.y+2*t,a.min.x-=t,a.min.y-=t,a},D=e=>{let{nodes:t,edges:a,layers:i}=e;for(const s of t){s.iconSize=s.iconSize||24,s.icon=s.icon||"node";const e={x:20,y:10},t=7*(s&&s.fullName&&s.fullName.length||s&&s.name&&s.name.length),a=6,i=s.iconSize+t+a;s.width=s.width||i+2*e.x,s.height=s.height||s.iconSize+2*e.y,s.textOffset=s.textOffset||(i-t)/2,s.iconOffset=s.iconOffset||-i/2}const n=S(t,a,i);return{...n,size:{...n.size,marginx:100,marginy:100}}}}},[[550,1,2]]]);